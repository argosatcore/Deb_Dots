function ObjectIron(e){var t;for(t=[],i=0,len=e.length;i<len;i+=1)t.push(e[i].isRoot?"root":e[i].name);var r=function(e,t){var r;if(null!==e&&null!==t)for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=e[r]))},n=function(e,t,n){var i,o,a,s,l;if(null!==e&&0!==e.length)for(i=0,o=e.length;o>i;i+=1)a=e[i],t.hasOwnProperty(a.name)&&(n.hasOwnProperty(a.name)?a.merge&&(s=t[a.name],l=n[a.name],"object"==typeof s&&"object"==typeof l?r(s,l):n[a.name]=null!=a.mergeFunction?a.mergeFunction(s,l):s+l):n[a.name]=t[a.name])},o=function(e,t){var r,i,a,s,l,u,c,d=e;if(null!==d.children&&0!==d.children.length)for(r=0,i=d.children.length;i>r;r+=1)if(u=d.children[r],t.hasOwnProperty(u.name))if(u.isArray)for(l=t[u.name+"_asArray"],a=0,s=l.length;s>a;a+=1)c=l[a],n(d.properties,t,c),o(u,c);else c=t[u.name],n(d.properties,t,c),o(u,c)},a=function(r){var n,i,s,l,u,c,d;if(null===r)return r;if("object"!=typeof r)return r;for(n=0,i=t.length;i>n;n+=1)"root"===t[n]&&(u=e[n],c=r,o(u,c));for(l in r)if(r.hasOwnProperty(l)){if(-1!==(s=t.indexOf(l)))if((u=e[s]).isArray)for(d=r[l+"_asArray"],n=0,i=d.length;i>n;n+=1)c=d[n],o(u,c);else c=r[l],o(u,c);a(r[l])}return r};return{run:a}}function X2JS(e,t,r){function n(e){var t=e.localName;return null==t&&(t=e.baseName),(null==t||""==t)&&(t=e.nodeName),t}function i(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function a(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(o){if(o.nodeType==_.DOCUMENT_NODE){var l,u,c,d=o.firstChild;for(u=0,c=o.childNodes.length;c>u;u+=1)if(o.childNodes[u].nodeType!==_.COMMENT_NODE){d=o.childNodes[u];break}return r?l=s(d):(l={})[f=n(d)]=s(d),l}if(o.nodeType==_.ELEMENT_NODE){(l=new Object).__cnt=0;for(var p=o.childNodes,h=0;h<p.length;h++){var f=n(d=p.item(h));if(l.__cnt++,null==l[f])l[f]=s(d),l[f+"_asArray"]=new Array(1),l[f+"_asArray"][0]=l[f];else{if(null!=l[f]&&!(l[f]instanceof Array)){var m=l[f];l[f]=new Array,l[f][0]=m,l[f+"_asArray"]=l[f]}for(var g=0;null!=l[f][g];)g++;l[f][g]=s(d)}}for(var y=0;y<o.attributes.length;y++){var b=o.attributes.item(y);l.__cnt++;for(var S=b.value,T=0,k=e.length;k>T;T++){var w=e[T];w.test.call(this,b.value)&&(S=w.converter.call(this,b.value),l[t+b.name+w.suffix()]=S,S=null)}S&&(l[t+b.name]=S)}var E=i(o);return null!=E&&""!=E&&(l.__cnt++,l.__prefix=E),1==l.__cnt&&null!=l["#text"]&&(l=l["#text"]),null!=l["#text"]&&(l.__text=l["#text"],v&&(l.__text=a(l.__text)),delete l["#text"],delete l["#text_asArray"]),null!=l["#cdata-section"]&&(l.__cdata=l["#cdata-section"],delete l["#cdata-section"],delete l["#cdata-section_asArray"]),(null!=l.__text||null!=l.__cdata)&&(l.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),l}return o.nodeType==_.TEXT_NODE||o.nodeType==_.CDATA_SECTION_NODE?o.nodeValue:o.nodeType==_.COMMENT_NODE?null:void 0}function l(e,t,r,n){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=r)for(var o=0;o<r.length;o++){var a=r[o],s=e[a];i+=" "+a.substr(1)+"='"+s+"'"}return i+=n?"/>":">"}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function c(e,t){return-1!==e.indexOf(t,e.length-t.length)}function d(e,t){return!!(c(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function p(e){var t=0;if(e instanceof Object)for(var r in e)d(e,r)||t++;return t}function h(e){var t=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf("_")&&t.push(r);return t}function f(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=v?o(e.__text):e.__text),t}function m(e){var t="";return e instanceof Object?t+=f(e):null!=e&&(t+=v?o(e):e),t}function g(e,t,r){var n="";if(0==e.length)n+=l(e,t,r,!0);else for(var i=0;i<e.length;i++)n+=l(e[i],t,h(e[i]),!1),n+=y(e[i]),n+=u(e[i],t);return n}function y(e){var t="";if(p(e)>0)for(var r in e)if(!d(e,r)){var n=e[r],i=h(n);null==n||void 0==n?t+=l(n,r,i,!0):n instanceof Object?n instanceof Array?t+=g(n,r,i):p(n)>0||null!=n.__text||null!=n.__cdata?(t+=l(n,r,i,!1),t+=y(n),t+=u(n,r)):t+=l(n,r,i,!0):(t+=l(n,r,i,!1),t+=m(n),t+=u(n,r))}return t+=m(e)}(null===t||void 0===t)&&(t="_"),(null===r||void 0===r)&&(r=!1);var v=!1,_={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t;return window.DOMParser?t=(new window.DOMParser).parseFromString(e,"text/xml"):(0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e)),t},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return this.xml2json(t)},this.json2xml_str=function(e){return y(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.0.11"},this.escapeMode=function(e){v=e}}var AzureHtml5JS;!function(e){!function(e){"use strict";function t(e,t,a){if(u&&i>=t)u(c,t,n[e]+": "+a);else{var d=new Date(Date.now());if(i>=t&&o[e]){var p="["+d.getHours()+":"+d.getMinutes()+":"+(d.getSeconds()+d.getMilliseconds()/1e3).toFixed(3)+"] "+r[t]+": "+n[e]+": "+a;s&&(l+="\n"+p)}}}!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warning=2]="warning",e[e.verbose=3]="verbose"}(e.Level||(e.Level={}));var r=e.Level;!function(e){e[e.workflowSequencer=0]="workflowSequencer",e[e.workflowCoordinator=1]="workflowCoordinator",e[e.htmlAdapter=2]="htmlAdapter",e[e.videoElementAdapter=3]="videoElementAdapter",e[e.manifestParser=4]="manifestParser",e[e.httpDataRetriever=5]="httpDataRetriever",e[e.dashUrlFormatter=6]="dashUrlFormatter",e[e.azureHTML5=7]="azureHTML5",e[e.heuristics=8]="heuristics",e[e.segmentLocator=9]="segmentLocator",e[e.mediaParser=10]="mediaParser",e[e.mp4Parser=11]="mp4Parser",e[e.encrypted=12]="encrypted",e[e.common=13]="common",e[e.functionalTest=14]="functionalTest",e[e.ad=15]="ad",e[e.max=16]="max"}(e.Area||(e.Area={}));var n=e.Area;e.verbose=function(e,r){t(e,3,r)},e.warning=function(e,r){t(e,2,r)},e.error=function(e,r){t(e,1,r)},e.setConsoleOutputByLevel=function(e){i=e},e.enableConsoleOutputByArea=function(e){void 0===e||null===e?o.forEach(function(e,t,r){r[t]=!0}):o[e]=!0},e.disableConsoleOutputByArea=function(e){void 0===e||null===e?o.forEach(function(e,t,r){r[t]=!1}):o[e]=!1},e.enableMemoryLog=function(e){void 0===e&&(e=!0),s=e},e.getMemoryLog=function(e){void 0===e&&(e=!0);var t=l;return e&&(l=""),t},e.setLoggerFunction=function(e,t){u=e,c=t};for(var i=0,o=[],a=0;16>a;a++)o.push(!1);var s=!1,l="",u=void 0,c=null;e.enableConsoleOutputByArea(),e.setConsoleOutputByLevel(1)}(e.Log||(e.Log={})),e.Log}(AzureHtml5JS||(AzureHtml5JS={})),Dash=function(){"use strict";return{modules:{},dependencies:{},vo:{},di:{}}}(),Dash.dependencies.DashParser=function(){"use strict";var e=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})([0-9]{2}))?/,r=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,n=[{type:"duration",test:function(t){return e.test(t)},converter:function(t){var r=e.exec(t),n=31536e3*parseFloat(r[2]||0)+2592e3*parseFloat(r[4]||0)+86400*parseFloat(r[6]||0)+3600*parseFloat(r[8]||0)+60*parseFloat(r[10]||0)+parseFloat(r[12]||0);return n=parseFloat(n.toFixed(9))},suffix:function(){return""}},{type:"datetime",test:function(e){return t.test(e)},converter:function(e){var r,n=t.exec(e);if(r=Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[4],10),parseInt(n[5],10),n[6]&&parseInt(n[6],10)||0,n[7]&&1e3*parseFloat(n[7])||0),n[9]&&n[10]){var i=60*parseInt(n[9],10)+parseInt(n[10],10);r+=("+"===n[8]?-1:1)*i*60*1e3}return new Date(r)},suffix:function(){return""}},{type:"numeric",test:function(e){return r.test(e)},converter:function(e){return parseFloat(e)},suffix:function(){return""}},{type:"numeric",test:function(e){return r.test(e)},converter:function(e){return e},suffix:function(){return"_str"}}],i=function(){var e,t,r,n;return n=[{name:"profiles",merge:!1},{name:"width",merge:!1},{name:"height",merge:!1},{name:"sar",merge:!1},{name:"frameRate",merge:!1},{name:"audioSamplingRate",merge:!1},{name:"mimeType",merge:!1},{name:"segmentProfiles",merge:!1},{name:"codecs",merge:!1},{name:"maximumSAPPeriod",merge:!1},{name:"startsWithSap",merge:!1},{name:"maxPlayoutRate",merge:!1},{name:"codingDependency",merge:!1},{name:"scanType",merge:!1},{name:"FramePacking",merge:!0},{name:"AudioChannelConfiguration",merge:!0},{name:"ContentProtection",merge:!0}],e={},e.name="AdaptationSet",e.isRoot=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=n,t={},t.name="Representation",t.isRoot=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=n,e.children.push(t),r={},r.name="SubRepresentation",r.isRoot=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=n,t.children.push(r),e},o=function(){var e,t,r,n;return n=[{name:"SegmentBase",merge:!0},{name:"SegmentTemplate",merge:!0},{name:"SegmentList",merge:!0}],e={},e.name="Period",e.isRoot=!1,e.isArray=!0,e.parent=null,e.children=[],e.properties=n,t={},t.name="AdaptationSet",t.isRoot=!1,t.isArray=!0,t.parent=e,t.children=[],t.properties=n,e.children.push(t),r={},r.name="Representation",r.isRoot=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=n,t.children.push(r),e},a=function(){var e,t,r,n,i;return i=[{name:"BaseURL",merge:!0,mergeFunction:function(e,t){return 0===t.indexOf("http://")?t:e+t}}],e={},e.name="mpd",e.isRoot=!0,e.isArray=!0,e.parent=null,e.children=[],e.properties=i,t={},t.name="Period",t.isRoot=!1,t.isArray=!0,t.parent=null,t.children=[],t.properties=i,e.children.push(t),r={},r.name="AdaptationSet",r.isRoot=!1,r.isArray=!0,r.parent=t,r.children=[],r.properties=i,t.children.push(r),n={},n.name="Representation",n.isRoot=!1,n.isArray=!0,n.parent=r,n.children=[],n.properties=i,r.children.push(n),e},s=function(){var e=[];return e.push(i()),e.push(o()),e.push(a()),e};return{debug:void 0,errHandler:void 0,parse:function(e,t){var r,i=new X2JS(n,"",!0),o=new ObjectIron(s()),a=new Date,l=null,u=null;try{r=i.xml_str2json(e),l=new Date,r.hasOwnProperty("BaseURL")?(r.BaseURL=r.BaseURL_asArray[0],0!==r.BaseURL.toString().indexOf("http")&&(r.BaseURL=t+r.BaseURL)):r.BaseURL=t,o.run(r),u=new Date,this.debug.log("Parsing complete: ( xml2json: "+(l.getTime()-a.getTime())+"ms, objectiron: "+(u.getTime()-l.getTime())+"ms, total: "+(u.getTime()-a.getTime())/1e3+"s)")}catch(t){return this.errHandler.manifestError("parsing the manifest failed","parse",e),null}return r}}},Dash.dependencies.DashParser.prototype={constructor:Dash.dependencies.DashParser},function(){"undefined"==typeof forge&&(forge={}),function(e){function t(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(r.isArrayBuffer(e)||r.isArrayBufferView(e)){var n=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,n)}catch(e){for(var i=0;i<n.length;++i)this.putByte(n[i])}}else(e instanceof t||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}var r=e.util=e.util||{};r.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},r.isArrayBufferView=function(e){return e&&r.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},r.ByteBuffer=t,r.ByteStringBuffer=t;r.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},r.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},r.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},r.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},r.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},r.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},r.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(r.encodeUtf8(e))},r.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},r.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},r.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},r.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},r.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},r.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},r.ByteStringBuffer.prototype.putInt=function(e,t){var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},r.ByteStringBuffer.prototype.putSignedInt=function(e,t){return 0>e&&(e+=2<<t-1),this.putInt(e,t)},r.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},r.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},r.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},r.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},r.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},r.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},r.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},r.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},r.ByteStringBuffer.prototype.getInt=function(e){var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},r.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},r.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},r.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},r.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},r.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},r.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},r.ByteStringBuffer.prototype.copy=function(){var e=r.createBuffer(this.data);return e.read=this.read,e},r.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},r.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},r.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},r.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);16>r&&(e+="0"),e+=r.toString(16)}return e},r.ByteStringBuffer.prototype.toString=function(){return r.decodeUtf8(this.bytes())},r.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=r.encodeUtf8(e)),new r.ByteBuffer(e)},r.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},r.decodeUtf8=function(e){return decodeURIComponent(escape(e))}}(forge)}(),function(){"undefined"==typeof forge&&(forge={}),function(e){e.cipher=e.cipher||{},e.cipher.algorithms=e.cipher.algorithms||{},e.cipher.createDecipher=function(t,r){var n=t;if("string"==typeof n&&(n=e.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+t);return new e.cipher.BlockCipher({algorithm:n,key:r,decrypt:!0})},e.cipher.registerAlgorithm=function(t,r){t=t.toUpperCase(),e.cipher.algorithms[t]=r},e.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in e.cipher.algorithms?e.cipher.algorithms[t]:null};var t=e.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};t.prototype.start=function(t){t=t||{};var r={};for(var n in t)r[n]=t[n];r.decrypt=this._decrypt,this._finish=!1,this._input=e.util.createBuffer(),this.output=t.output||e.util.createBuffer(),this.mode.start(r)},t.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},t.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}}(forge)}(),function(){"undefined"==typeof forge&&(forge={}),function(e){function t(t){if("string"==typeof t&&(t=e.util.createBuffer(t)),e.util.isArray(t)&&t.length>4){var r=t;t=e.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}return e.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}e.cipher=e.cipher||{};var r=e.cipher.modes=e.cipher.modes||{};r.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=t(e.iv),this._prev=this._iv.slice(0)}},r.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(e){var t=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(t,t),!0},r.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))}}(forge)}(),function(){"undefined"==typeof forge&&(forge={}),function(e){function t(){u=!0,a=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;128>t;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;for(i=new Array(256),o=new Array(256),s=new Array(4),l=new Array(4),t=0;4>t;++t)s[t]=new Array(256),l[t]=new Array(256);for(var r,n,c,d,p,h,f,m=0,g=0,t=0;256>t;++t){d=(d=g^g<<1^g<<2^g<<3^g<<4)>>8^255&d^99,i[m]=d,o[d]=m,h=(p=e[d])<<24^d<<16^d<<8^d^p,f=((r=e[m])^(n=e[r])^(c=e[n]))<<24^(m^c)<<16^(m^n^c)<<8^m^r^c;for(var y=0;4>y;++y)s[y][m]=h,l[y][d]=f,h=h<<24|h>>>8,f=f<<24|f>>>8;0===m?m=g=1:(m=r^e[e[e[r^c]]],g^=e[e[g]])}}function r(e,t){for(var r,n=e.slice(0),o=1,s=n.length,u=c*(s+6+1),d=s;u>d;++d)r=n[d-1],d%s==0?(r=i[r>>>16&255]<<24^i[r>>>8&255]<<16^i[255&r]<<8^i[r>>>24]^a[o]<<24,o++):s>6&&d%s==4&&(r=i[r>>>24]<<24^i[r>>>16&255]<<16^i[r>>>8&255]<<8^i[255&r]),n[d]=n[d-s]^r;if(t){for(var p,h=l[0],f=l[1],m=l[2],g=l[3],y=n.slice(0),d=0,v=(u=n.length)-c;u>d;d+=c,v-=c)if(0===d||d===u-c)y[d]=n[v],y[d+1]=n[v+3],y[d+2]=n[v+2],y[d+3]=n[v+1];else for(var _=0;c>_;++_)p=n[v+_],y[d+(3&-_)]=h[i[p>>>24]]^f[i[p>>>16&255]]^m[i[p>>>8&255]]^g[i[255&p]];n=y}return n}function n(e,t,r,n){var a,u,c,d,p,h=e.length/4-1;n?(a=l[0],u=l[1],c=l[2],d=l[3],p=o):(a=s[0],u=s[1],c=s[2],d=s[3],p=i);var f,m,g,y,v,_,b;f=t[0]^e[0],m=t[n?3:1]^e[1],g=t[2]^e[2],y=t[n?1:3]^e[3];for(var S=3,T=1;h>T;++T)v=a[f>>>24]^u[m>>>16&255]^c[g>>>8&255]^d[255&y]^e[++S],_=a[m>>>24]^u[g>>>16&255]^c[y>>>8&255]^d[255&f]^e[++S],b=a[g>>>24]^u[y>>>16&255]^c[f>>>8&255]^d[255&m]^e[++S],y=a[y>>>24]^u[f>>>16&255]^c[m>>>8&255]^d[255&g]^e[++S],f=v,m=_,g=b;r[0]=p[f>>>24]<<24^p[m>>>16&255]<<16^p[g>>>8&255]<<8^p[255&y]^e[++S],r[n?3:1]=p[m>>>24]<<24^p[g>>>16&255]<<16^p[y>>>8&255]<<8^p[255&f]^e[++S],r[2]=p[g>>>24]<<24^p[y>>>16&255]<<16^p[f>>>8&255]<<8^p[255&m]^e[++S],r[n?1:3]=p[y>>>24]<<24^p[f>>>16&255]<<16^p[m>>>8&255]<<8^p[255&g]^e[++S]}e.aes=e.aes||{},e.aes.Algorithm=function(e,r){u||t();var i=this;i.name=e,i.mode=new r({blockSize:16,cipher:{encrypt:function(e,t){return n(i._w,e,t,!1)},decrypt:function(e,t){return n(i._w,e,t,!0)}}}),i._init=!1},e.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var n,i=t.key;if("string"!=typeof i||16!==i.length&&24!==i.length&&32!==i.length){if(e.util.isArray(i)&&(16===i.length||24===i.length||32===i.length))for(n=i,i=e.util.createBuffer(),a=0;a<n.length;++a)i.putByte(n[a])}else i=e.util.createBuffer(i);if(!e.util.isArray(i)){n=i,i=[];var o=n.length();if(16===o||24===o||32===o){o>>>=2;for(var a=0;o>a;++a)i.push(n.getInt32())}}if(!e.util.isArray(i)||4!==i.length&&6!==i.length&&8!==i.length)throw new Error("Invalid key parameter.");var s=this.mode.name,l=-1!==["CFB","OFB","CTR","GCM"].indexOf(s);this._w=r(i,t.decrypt&&!l),this._init=!0}},e.aes._expandKey=function(e,n){return u||t(),r(e,n)},e.aes._updateBlock=n,function(t,r){e.cipher.registerAlgorithm(t,function(){return new e.aes.Algorithm(t,r)})}("AES-CBC",e.cipher.modes.cbc);var i,o,a,s,l,u=!1,c=4}(forge)}(),function(){var e,t,r,n;!function(){var i={},o={};e=function(e,t,r){i[e]={deps:t,callback:r}},n=r=t=function(e){if(n._eak_seen=i,o[e])return o[e];if(o[e]={},!i[e])throw new Error("Could not find module "+e);for(var r,a=i[e],s=a.deps,l=a.callback,u=[],c=0,d=s.length;d>c;c++)u.push("exports"===s[c]?r={}:t(function(t){if("."!==t.charAt(0))return t;for(var r=t.split("/"),n=e.split("/").slice(0,-1),i=0,o=r.length;o>i;i++){var a=r[i];if(".."===a)n.pop();else{if("."===a)continue;n.push(a)}}return n.join("/")}(s[c])));var p=l.apply(this,u);return o[e]=r||p}}(),e("promise/all",["./utils","exports"],function(e,t){"use strict";var r=e.isArray,n=e.isFunction;t.all=function(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to all.");return new t(function(t,r){function i(e,r){a[e]=r,0==--s&&t(a)}var o,a=[],s=e.length;0===s&&t([]);for(var l=0;l<e.length;l++)(o=e[l])&&n(o.then)?o.then(function(e){return function(t){i(e,t)}}(l),r):i(l,o)})}}),e("promise/asap",["exports"],function(e){"use strict";function t(){for(var e=0;e<a.length;e++){var t=a[e];(0,t[0])(t[1])}a=[]}var r,n="undefined"!=typeof window?window:{},i=n.MutationObserver||n.WebKitMutationObserver,o="undefined"!=typeof global?global:void 0===this?window:this,a=[];r="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){process.nextTick(t)}:i?function(){var e=0,r=new i(t),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():function(){o.setTimeout(t,1)},e.asap=function(e,t){1===a.push([e,t])&&r()}}),e("promise/config",["exports"],function(e){"use strict";var t={instrument:!1};e.config=t,e.configure=function(e,r){return 2!==arguments.length?t[e]:void(t[e]=r)}}),e("promise/polyfill",["./promise","./utils","exports"],function(e,t,r){"use strict";var n=e.Promise,i=t.isFunction;r.polyfill=function(){var e;"Promise"in(e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var t;return new e.Promise(function(e){t=e}),i(t)}()||(e.Promise=n)}}),e("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],function(e,t,r,n,i,o,a,s){"use strict";function l(e){if(!S(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof l))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],u(e,this)}function u(e,t){function r(e){g(t,e)}try{e(function(e){f(t,e)},r)}catch(e){r(e)}}function c(e,t,r,n){var i,o,a,s,l=S(r);if(l)try{i=r(n),a=!0}catch(e){s=!0,o=e}else i=n,a=!0;h(t,i)||(l&&a?f(t,i):s?g(t,o):e===R?f(t,i):e===A&&g(t,i))}function d(e,t,r,n){var i=e._subscribers,o=i.length;i[o]=t,i[o+R]=r,i[o+A]=n}function p(e,t){for(var r,n,i=e._subscribers,o=e._detail,a=0;a<i.length;a+=3)r=i[a],n=i[a+t],c(t,r,n,o);e._subscribers=null}function h(e,t){var r,n=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(b(t)&&(n=t.then,S(n)))return n.call(t,function(n){return!!r||(r=!0,void(t!==n?f(e,n):m(e,n)))},function(t){return!!r||(r=!0,void g(e,t))}),!0}catch(t){return!!r||(g(e,t),!0)}return!1}function f(e,t){e===t?m(e,t):h(e,t)||m(e,t)}function m(e,t){e._state===P&&(e._state=I,e._detail=t,_.async(y,e))}function g(e,t){e._state===P&&(e._state=I,e._detail=t,_.async(v,e))}function y(e){p(e,e._state=R)}function v(e){p(e,e._state=A)}var _=e.config,b=(e.configure,t.objectOrFunction),S=t.isFunction,T=(t.now,r.all),k=n.race,w=i.resolve,E=o.reject,C=a.asap;_.async=C;var P=void 0,I=0,R=1,A=2;l.prototype={constructor:l,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(e,t){var r=this,n=new this.constructor(function(){});if(this._state){var i=arguments;_.async(function(){c(r._state,n,i[r._state-1],r._detail)})}else d(this,n,e,t);return n},catch:function(e){return this.then(null,e)}},l.all=T,l.race=k,l.resolve=w,l.reject=E,s.Promise=l}),e("promise/race",["./utils","exports"],function(e,t){"use strict";var r=e.isArray;t.race=function(e){var t=this;if(!r(e))throw new TypeError("You must pass an array to race.");return new t(function(t,r){for(var n,i=0;i<e.length;i++)(n=e[i])&&"function"==typeof n.then?n.then(t,r):t(n)})}}),e("promise/reject",["exports"],function(e){"use strict";e.reject=function(e){return new this(function(t,r){r(e)})}}),e("promise/resolve",["exports"],function(e){"use strict";e.resolve=function(e){return e&&"object"==typeof e&&e.constructor===this?e:new this(function(t){t(e)})}}),e("promise/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e}var r=Date.now||function(){return(new Date).getTime()};e.objectOrFunction=function(e){return t(e)||"object"==typeof e&&null!==e},e.isFunction=t,e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.now=r}),t("promise/polyfill").polyfill()}();var Uint8ArrayUtil={};Uint8ArrayUtil.subarray=function(e,t){return this.slice(e,t)},Uint8ArrayUtil.set_=function(e,t){arguments.length<2&&(t=0);for(var r=0,n=e.length;n>r;++r,++t)this[t]=255&e[r]},Uint8ArrayUtil.TypedArray=function(e){var t;if("number"==typeof e){t=new Array(e);for(var r=0;e>r;++r)t[r]=0}else t=e.slice(0);return t.subarray=Uint8ArrayUtil.subarray,t.buffer=t,t.byteLength=t.length,t.set=Uint8ArrayUtil.set_,"object"==typeof e&&e.buffer&&(t.buffer=e.buffer),t},void 0===window.Uint8Array&&(window.Uint8Array=Uint8ArrayUtil.TypedArray);var AzureHtml5JS;!function(e){"use strict";e.CreateAzureHtml5=function(e,t){return new r(e,t)},function(e){e[e.internalErrStart=0]="internalErrStart",e[e.internalErrDisposed=0]="internalErrDisposed",e[e.internalErrSegmentNotFound=1]="internalErrSegmentNotFound",e[e.internalErrEnd=1048575]="internalErrEnd"}(e.ErrorCode||(e.ErrorCode={}));var t=(e.ErrorCode,function(){function e(){}return e.exception="exception",e.flushvideo="flushvideo",e}());e.InternalEventName=t;var r=function(){function r(t,r){this._sessionContext=new e.Context.Session(this,t,r),this._playerType=null,this._autoplay=!0,this._type="",this._error=null,this._dispose=!1,this._retryAttempt=!1,this._oldPlaybackRateBeforePlay=null,this._passThroughEventNames=[e.EventName.volumechange,e.EventName.ended,e.EventName.timeupdate,e.EventName.pause,e.EventName.play,e.EventName.playing,e.EventName.seeking,e.EventName.seeked,e.EventName.suspend,e.EventName.loadstart,e.EventName.loadeddata,e.EventName.ratechange],this._conditionalEventNames=[e.EventName.waiting,e.EventName.canplaythrough,e.EventName.error],this._registerVideoTagEvents(!0),this._registerInternalEvents(!0)}return r.prototype.setStaleDataTimeLimit=function(e){this._sessionContext.maxBufferBehindCurrentTimeInSec=e},r.prototype.dispose=function(){this._dispose=!0,this._workflowCoordinator&&(this._workflowCoordinator.dispose(),this._workflowCoordinator=null),this._sessionContext&&(this._registerVideoTagEvents(!1),this._registerInternalEvents(!1),this._sessionContext.dispose(),this._sessionContext=null),this._error=null},Object.defineProperty(r.prototype,"currentVideoStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAudioStreamList",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioStreamList:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.src:this._sessionContext.videoTag.src},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentTime:this._sessionContext.videoTag.currentTime},set:function(t){e.Log.verbose(7,"currentTime: "+t+" sec"),this._workflowCoordinator?this._workflowCoordinator.currentTime=t:this._sessionContext.videoTag.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentAbsoluteTime",{get:function(){return this._sessionContext.videoTag.currentTime},set:function(t){e.Log.verbose(7,"currentAbsoluteTime: "+t+" sec"),this._workflowCoordinator?this._workflowCoordinator.currentPresentationTime=t:this._sessionContext.videoTag.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentMediaTime",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.currentMediaTime:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentDownloadBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.downloadBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPlaybackBitrate",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.playbackBitrate:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"videoBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.videoBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"audioBufferData",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.audioBufferData:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"volume",{get:function(){return this._sessionContext.videoTag.volume},set:function(t){e.Log.verbose(7,"volume: "+t.toString());var r=t;if(NaN!==t&&void 0!==t&&null!==t){0>t?r=0:t>1&&(r=1);try{this._sessionContext.videoTag.volume=r}catch(t){e.Log.warning(7,"set volume() error: "+t)}}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoplay",{get:function(){return this._autoplay},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paused",{get:function(){return this._sessionContext.videoTag.paused},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"seeking",{get:function(){return this._sessionContext.videoTag.seeking},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"ended",{get:function(){return this._sessionContext.videoTag.ended},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._sessionContext.videoTag.height},set:function(e){this._sessionContext.videoTag.height=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._sessionContext.videoTag.width},set:function(e){this._sessionContext.videoTag.width=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"videoHeight",{get:function(){return this._sessionContext.videoTag.videoHeight},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"videoWidth",{get:function(){return this._sessionContext.videoTag.videoWidth},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isFullScreen",{get:function(){return(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)===this._sessionContext.videoTag&&(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isLive",{get:function(){return!!this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"duration",{get:function(){return this._workflowCoordinator?this._workflowCoordinator.duration:this._sessionContext.videoTag.duration},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"buffered",{get:function(){if(this._workflowCoordinator)return this._workflowCoordinator.buffered;try{return this._sessionContext.videoTag.buffered}catch(t){return e.Log.warning(7,"buffered() error: "+t),new e.Common.TimeRangeSet}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"manifestPlayableWindowLength",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?this._sessionContext.commonPresentation.timeShiftBufferDepth:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPlayableWindow",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation&&this._sessionContext.commonPresentation.isLive?new e.Common.TimeRange(this._sessionContext.commonPresentation.playableWindow.startInSec,this._sessionContext.commonPresentation.playableWindow.endInSec):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"segmentBoundaries",{get:function(){return this._sessionContext&&this._sessionContext.commonPresentation?this._sessionContext.commonPresentation.segmentBoundaries:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"error",{get:function(){return this._workflowCoordinator&&this._workflowCoordinator.error?this._workflowCoordinator.error:this._error},enumerable:!0,configurable:!0}),r.prototype.canPlayType=function(t){return e.PlayerType.getByPresentationType(t,this._sessionContext.videoTag)?"maybe":""},r.prototype.setSrc=function(e,t){this.setSrcInternal(e,t,!1)},r.prototype.setSrcInternal=function(t,n,i){this._playStarted=!1;var o="",a=0;return i?a=r._dtsOffsetToAddForChrome:(this._src=t,this._options=n||null,this._retryAttempt=!1),"https:"===window.location.protocol.toLowerCase()&&0===t.toLowerCase().indexOf("http:")?(o="The page was loaded over HTTPS, but the source was set to serve over HTTP. The content must be served over HTTPS. Source URL: "+t+", Page URL: "+window.location.href,e.Log.error(7,o),void this._handleError(new e.Failure.External(1048578,o))):(this._sessionContext.reset(),this._reset(n),this._playerType=e.PlayerType.getByPresentationType(this._type,this._sessionContext.videoTag),this._playerType||(e.Log.verbose(7,"Unable to determine player type by presentation type. Trying the url method..."),this._playerType=e.PlayerType.getByUrl(t,this._sessionContext.videoTag)),e.Log.verbose(7,"src: "+t+" autoplay: "+this._autoplay+" type: "+(this._type&&this._type.length>0?this._type:"unknown")+" player: "+(null===this._playerType?"unknown":e.PlayerDetector.Type[this._playerType])),this._workflowCoordinator&&(this._workflowCoordinator.dispose(),this._workflowCoordinator=null),void(1===this._playerType?(this._sessionContext.videoTag.autoplay=this._autoplay,this._sessionContext.videoTag.src=t):3===this._playerType?(this._workflowCoordinator=e.Workflow.CreateCoordinator(this._sessionContext),this._workflowCoordinator.dtsOffsetToAdd=a,this._sessionContext.videoTag.autoplay=!1,this._workflowCoordinator.autoplay=this._autoplay,this._workflowCoordinator.src=t):(e.Log.error(7,t+" not supported by AzureHtml5 Video Element"),this._handleError(new e.Failure.External(4194307,t)))))},r.prototype.play=function(){e.Log.verbose(7,"play"),this._oldPlaybackRateBeforePlay=this.playbackRate(),this._workflowCoordinator?this._workflowCoordinator.play():this._sessionContext&&this._sessionContext.videoTag&&e.Common.videoTagPlay(this._sessionContext.videoTag)},r.prototype.pause=function(){e.Log.verbose(7,"pause"),this._workflowCoordinator?this._workflowCoordinator.pause():this._sessionContext&&this._sessionContext.videoTag&&this._sessionContext.videoTag.pause()},r.prototype.requestFullscreen=function(){e.Log.verbose(7,"requestFullscreen");var t=!1;if(!this.isFullScreen){var r=this._sessionContext.videoTag;r.requestFullscreen?(t=!0,r.requestFullscreen()):r.msRequestFullscreen?(t=!0,r.msRequestFullscreen()):r.webkitRequestFullscreen?(t=!0,r.webkitRequestFullscreen()):r.mozRequestFullScreen&&(t=!0,r.mozRequestFullScreen()),t&&this._sessionContext.eventMgr.dispatchEvent(e.EventName.fullscreenchange)}},r.prototype.exitFullscreen=function(){e.Log.verbose(7,"exitFullscreen");var t=!1;this.isFullScreen&&(document.exitFullscreen?(t=!0,document.exitFullscreen()):document.webkitExitFullscreen?(t=!0,document.webkitExitFullscreen()):document.mozCancelFullScreen?(t=!0,document.mozCancelFullScreen()):document.msExitFullscreen&&(t=!0,document.msExitFullscreen()),t&&this._sessionContext.eventMgr.dispatchEvent(e.EventName.fullscreenchange))},r.prototype.playbackRate=function(){return this._sessionContext.videoTag.playbackRate},r.prototype.setPlaybackRate=function(e){this._sessionContext.videoTag.playbackRate=e},r.prototype.addEventListener=function(e,t,r){void 0===r&&(r=null),this._sessionContext.eventMgr.addHandler(e,t,r)},r.prototype.removeEventListener=function(e,t){this._sessionContext.eventMgr.removeHandler(e,t)},r.prototype.addKeySystem=function(e){return this._sessionContext.emeManager.addKeySystem(e)},r.prototype.setXmlHttpRequestFactory=function(e){this._sessionContext.setXmlHttpRequestFactory(e)},r.prototype.getAdSignalsAndReset=function(){return this._sessionContext.adManager.getAdSignalsAndReset()},r.prototype._reset=function(e){var t=this;this._playerType=null,this._autoplay=!0,this._type="",this._error=null,e&&(this._type=e.type,"autoPlay"in e&&(this._autoplay=e.autoPlay),"authenticationTokens"in e&&(this._sessionContext.authenticationTokens=e.authenticationTokens),e.userConfig&&this._sessionContext.setUserConfig(e.userConfig),e.headers&&this._sessionContext.setRequestedDownloadHeaders(e.headers)),this._sessionContext.emeManager.setup(function(e){t._dispose||t._handleError(e)},this._sessionContext.authenticationTokens)},r.prototype._registerVideoTagEvents=function(t){function r(t){o._dispose||o._error||(t.type&&(t.type===e.EventName.play||t.type===e.EventName.playing)&&(o._playStarted=!0,null!==o._oldPlaybackRateBeforePlay&&o._oldPlaybackRateBeforePlay!==o.playbackRate()&&(e.Log.verbose(7,"playback rate changed from: "+o._oldPlaybackRateBeforePlay+" to: "+o.playbackRate()+". Restoring the original playback rate!"),o.setPlaybackRate(o._oldPlaybackRateBeforePlay),o._oldPlaybackRateBeforePlay=null)),t.type===e.EventName.timeupdate&&o._workflowCoordinator&&o._workflowCoordinator.pendingPlay?e.Log.verbose(7,"skip dispatching event: "+t.type+" currentTime: "+o._sessionContext.videoTag.currentTime+" since work flow is in pending play state"):(e.Log.verbose(7,"dispatching event: "+t.type+" currentTime: "+o._sessionContext.videoTag.currentTime),o._sessionContext.eventMgr.dispatchEvent(t.type)))}function n(t){if(!o._dispose&&!o._error)if(e.EventName.error===t.type){if(o._sessionContext.videoTag.readyState===HTMLMediaElement.HAVE_NOTHING)return void e.Log.warning(7,"Ignoring video element error since state is HAVE_NOTHING "+e.Failure.mediaErrorToString(o._sessionContext.videoTag.error));var r=new e.Failure.External;r.translateMediaError(o._sessionContext.videoTag.error),o._handleError(r)}else o._workflowCoordinator||(e.Log.verbose(7,"dispatching event: "+t.type),o._sessionContext.eventMgr.dispatchEvent(t.type))}var i=this,o=this;this._passThroughEventNames.forEach(function(e){t?i._sessionContext.videoTag.addEventListener(e,r):i._sessionContext.videoTag.removeEventListener(e,r)}),this._conditionalEventNames.forEach(function(e){t?i._sessionContext.videoTag.addEventListener(e,n):i._sessionContext.videoTag.removeEventListener(e,n)})},r.prototype._registerInternalEvents=function(r){function n(t){i._dispose||t.message&&!i._checkErrorAndRetryPlayback()&&e.Util.setTimeout(function(){var r,n=t;throw r=n.message&&n.message.message&&n.message.stack?n.message.message+", "+n.message.stack:n.message,e.Log.error(7,"Throwing error "+r),new Error(r)},0)}var i=this;r?this._sessionContext.eventMgr.addHandler(t.exception,n,this):this._sessionContext.eventMgr.removeHandler(t.exception,n)},r.prototype._checkErrorAndRetryPlayback=function(){return!(this._playStarted||!e.Common.isChrome||this._retryAttempt)&&(e.Log.verbose(7,"Retrying Playback with Adjusted DTS"),this._retryAttempt=!0,this.setSrcInternal(this._src,this._options,!0),!0)},r.prototype._handleError=function(t){this._checkErrorAndRetryPlayback()||this._workflowCoordinator&&this._workflowCoordinator.error||(this._error=t,this._workflowCoordinator&&(e.Log.verbose(7,"Disposing WorkflowCoordinator b/c "+t.toString()),this._workflowCoordinator.dispose(),this._workflowCoordinator=null),e.Log.verbose(7,"dispatching event: "+e.EventName.error),this._sessionContext.eventMgr.dispatchEvent(e.EventName.error))},r._dtsOffsetToAddForChrome=.1,r}()}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function r(){this._disposed=!1,this._bandwidthTracker=null,this._buffer=null,this._downloadRequested=null,this._downloadCompleted=null,this._downloadDecrypted=null,this._downloadFailed=null,this._downloadTracker=null,this._eventMgr=new e.Events.Manager(null,!1)}return r.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._bandwidthTracker=null,this._buffer=null,this._downloadRequested=null,this._downloadCompleted=null,this._downloadDecrypted=null,this._downloadFailed=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null),this._downloadTracker&&(this._downloadTracker.dispose(),this._downloadTracker=null))},Object.defineProperty(r.prototype,"bufferLevel",{get:function(){return this._disposed||!this._buffer?null:this._buffer.getBufferedAheadOfCurrentTimeInSec()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"perceivedBandwidth",{get:function(){return this._disposed||!this._bandwidthTracker?null:this._bandwidthTracker.perceivedBandwidth()},enumerable:!0,configurable:!0}),r.prototype.updateBuffer=function(e){this._buffer=e},r.prototype.updateBandwidthTracker=function(e){this._bandwidthTracker=e,this._downloadTracker&&this._downloadTracker.dispose(),this._downloadTracker=new t.DownloadTracker},r.prototype.getPlaybackBitrate=function(e){return this._disposed||!this._downloadTracker?-1:this._downloadTracker.findBitrate(e)},Object.defineProperty(r.prototype,"downloadRequested",{get:function(){return this._downloadRequested},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"downloadCompleted",{get:function(){return this._downloadCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"downloadDecrypted",{get:function(){return this._downloadDecrypted},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"downloadFailed",{get:function(){return this._downloadFailed},enumerable:!0,configurable:!0}),r.prototype.dispatchDownloadRequested=function(t){this._downloadRequested=t,this._eventMgr.dispatchEvent(e.BufferDataEventName.downloadrequested)},r.prototype.dispatchDownloadCompleted=function(t,r,n){if(this._downloadCompleted=new i(t,r,n),this._eventMgr.dispatchEvent(e.BufferDataEventName.downloadcompleted),this._downloadTracker&&null!=t.mediaTime&&(this._downloadTracker.add(t.mediaTime,t.bitrate),this._buffer.buffered&&this._buffer.buffered.length>0)){var o=this._buffer.buffered.start(0);this._downloadTracker.cleanup(o)}},r.prototype.dispatchDownloadDecrypted=function(t){this._downloadDecrypted=t,this._eventMgr.dispatchEvent(e.BufferDataEventName.downloaddecrypted)},r.prototype.dispatchDownloadFailed=function(t,r,n){void 0===n&&(n=""),this._downloadFailed=new o(t,r,n),this._eventMgr.dispatchEvent(e.BufferDataEventName.downloadfailed)},r.prototype.addEventListener=function(e,t,r){this._eventMgr.addHandler(e,t,r)},r.prototype.removeEventListener=function(e,t){this._eventMgr.removeHandler(e,t)},r}();t.BufferData=r;var n=function(){function e(e,t,r,n,i,o){this._url=e,this._bitrate=t,this._mediaTime=r,this._data=n,this._presentationTimeOffsetInSec=i,this._timeScale=o}return Object.defineProperty(e.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaTime",{get:function(){return this._mediaTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationTimeOffsetInSec",{get:function(){return this._presentationTimeOffsetInSec},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeScale",{get:function(){return this._timeScale},enumerable:!0,configurable:!0}),e}();t.MediaDownload=n;var i=function(){function e(e,t,r){this._mediaDownload=e,this._measuredBw=1e3*t.bandwidth,this._bytes=t.responseLengthInBytes,this._downloadTimeMs=t.totalDownloadTimeMs,this._responseHeaders=r}return Object.defineProperty(e.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"measuredBandwidth",{get:function(){return this._measuredBw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalDownloadMs",{get:function(){return this._downloadTimeMs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responseHeaders",{get:function(){return this._responseHeaders},enumerable:!0,configurable:!0}),e}();t.MediaDownloadCompleted=i;var o=function(){function e(e,t,r){this._mediaDownload=e,this._code=t,this._message=r}return Object.defineProperty(e.prototype,"code",{get:function(){return this._code},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaDownload",{get:function(){return this._mediaDownload},enumerable:!0,configurable:!0}),e}();t.MediaDownloadFailed=o}(e.Context||(e.Context={})),e.Context}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";!function(e){e[e.proceed=0]="proceed",e[e.endOfStream=1]="endOfStream",e[e.retry=2]="retry"}(t.RequestState||(t.RequestState={})),t.RequestState,function(e){e[e.arraybuffer=0]="arraybuffer",e[e.blob=1]="blob",e[e.document=2]="document",e[e.json=3]="json",e[e.text=4]="text"}(t.ResponseType||(t.ResponseType={})),t.ResponseType,function(e){e[e.manifest=0]="manifest",e[e.mediaSegment=1]="mediaSegment",e[e.initSegment=2]="initSegment",e[e.initBandwidth=3]="initBandwidth"}(t.RequestType||(t.RequestType={}));var r=(t.RequestType,function(){function r(r,n,i){this.maxBufferBehindCurrentTimeInSec=-1,this.azureHtml5=r,this.videoTag=n,this.appConfig=i,this.emeManager=new e.KeySystem.EmeManager(n),this.eventMgr=new e.Events.Manager(r,!1),this.adManager=new e.Ad.Manager(this.eventMgr),this.workflows=null,this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.commonPresentation=null,this.isLiveToVod=!1,this.videoBufferData=new t.BufferData,this.audioBufferData=new t.BufferData,this.startPositionInSec=NaN,this.authenticationTokens={},this.heuristicSettings=new e.Settings.Heuristics,this.httpRetryPolicySettings=new e.Settings.HttpRetryPolicy,this.httpDataRetrieverSettings=new e.Settings.HttpDataRetriever,this.decryptionTracker=new e.Heuristics.DecryptionTracker,this._disposed=!1,this._xmlHttpRequestFactory=null}return r.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.videoTag=null,this.appConfig=null,this.workflows&&this.workflows.forEach(function(e){e.dispose()}),this.workflows=null,this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.authenticationTokens=null,this._xmlHttpRequestFactory=null,this.azureHtml5=null,this.emeManager&&(this.emeManager.dispose(),this.emeManager=null),this.eventMgr&&(this.eventMgr.dispose(),this.eventMgr=null),this.adManager&&(this.adManager=null),this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null),this.heuristicSettings=null,this.decryptionTracker=null,this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=null),this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=null))},Object.defineProperty(r.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),r.prototype.reset=function(){this.presentationUrl=null,this.presentationQueryStr=null,this.presentationJson=null,this.startPositionInSec=NaN,this.authenticationTokens={},this.commonPresentation&&(this.commonPresentation.dispose(),this.commonPresentation=null),this.emeManager&&this.emeManager.reset(),this.heuristicSettings&&this.heuristicSettings.reset(),this.videoBufferData&&(this.videoBufferData.dispose(),this.videoBufferData=new t.BufferData),this.audioBufferData&&(this.audioBufferData.dispose(),this.audioBufferData=new t.BufferData),this.adManager&&this.adManager.reset()},r.prototype.setRequestedDownloadHeaders=function(e){this.headers=e},r.prototype.setUserConfig=function(e){void 0!==e.maxBufferInWallClockSec&&(this.heuristicSettings.buffer.maxBufferInWallClockSec=e.maxBufferInWallClockSec),void 0!==e.prerollPercent&&(this.heuristicSettings.buffer.prerollPercent=e.prerollPercent),void 0!==e.livePlaybackOffsetPercent&&(this.heuristicSettings.buffer.livePlaybackOffsetPercent=e.livePlaybackOffsetPercent),void 0!==e.windowSizeHeuristicsEnabled&&(this.heuristicSettings.windowSizeHeuristicsEnabled=e.windowSizeHeuristicsEnabled),void 0!==e.useBrowserWindowForWindowSizeRule&&(this.heuristicSettings.useBrowserWindowForWindowSizeRule=e.useBrowserWindowForWindowSizeRule),void 0!==e.minFragmentsForBandwidthAverage&&(this.heuristicSettings.bandwidth.minBandwidthHistoryCount=e.minFragmentsForBandwidthAverage),void 0!==e.bandwidthTestWithTimeThresholdDuringLive&&(this.heuristicSettings.bandwidth.bandwidthTestWithTimeThresholdDuringLive=e.bandwidthTestWithTimeThresholdDuringLive),void 0!==e.useVariableFragmentSizeMode&&(this.heuristicSettings.bandwidth.useVariableFragmentSizeMode=e.useVariableFragmentSizeMode),void 0===e.decryptionTimeHeuristicsEnabled||e.decryptionTimeHeuristicsEnabled||(this.decryptionTracker=null),void 0!==e.preFetchDataEnabled&&(this.heuristicSettings.preFetchDataEnabled=e.preFetchDataEnabled),void 0!==e.maxRetryPerSegment&&(this.httpRetryPolicySettings.maxRetryPerSegment=e.maxRetryPerSegment),void 0!==e.maxSkipSegments&&(this.httpRetryPolicySettings.maxSkipSegments=e.maxSkipSegments),void 0!==e.maxTotalRetries&&(this.httpRetryPolicySettings.maxTotalRetries=e.maxTotalRetries)},r.prototype.maxBufferInWallClockSec=function(){return this.appConfig&&this.appConfig.maxBufferInWallClockSec&&"0"!=this.appConfig.maxBufferInWallClockSec?parseInt(this.appConfig.maxBufferInWallClockSec):this.heuristicSettings.buffer.maxBufferInWallClockSec},r.prototype.maxBufferInSec=function(){return this.maxBufferInWallClockSec()*this.playbackRate()},r.prototype.prerollBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.buffer.prerollPercent},r.prototype.lowBufferInSec=function(){return this.maxBufferInSec()*this.heuristicSettings.vodDowngradeBufferLevelPercent*this.heuristicSettings.buffer.lowBufferPercent},r.prototype.liveStartBufferInSec=function(){return this.maxBufferInSec()*(this.heuristicSettings.buffer.prerollPercent+this.heuristicSettings.buffer.livePlaybackOffsetPercent)},r.prototype.updatePresentation=function(e){this.commonPresentation?(this.commonPresentation.isLive&&!e.isLive&&(this.isLiveToVod=!0),this.commonPresentation.transferPresentationState(e),this.presentationJson=e.toJson(),e.dispose()):(this.commonPresentation=e,this.presentationJson=e.toJson())},r.prototype.setXmlHttpRequestFactory=function(e){this._xmlHttpRequestFactory=e},r.prototype.createXmlHttpRequest=function(){return this._xmlHttpRequestFactory?this._xmlHttpRequestFactory():new e.HttpRequest.XMLHttpRequestWrapper},r.prototype.playbackRate=function(){return this.azureHtml5.playbackRate()},r}());t.Session=r;var n=function(){function e(e,t){this.workflowType=e,this.sessionContext=t,this.state=0,this.retryWaitTimeMSec=0,this.currentModuleId=null,this.requestedStream=null,this.urlsToRetrieve=[],this.selectedTrack=null,this.selectedSegment=null,this.heuristicData=null,this.externalFailure=null,this.failTracker=new s,this._disposed=!1}return e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.workflowType=null,this.sessionContext=null,this.state=null,this.currentModuleId=null,this.requestedStream=null,this.urlsToRetrieve.forEach(function(e,t,r){r[t].dispose()}),this.urlsToRetrieve=[],this.selectedTrack=null,this.selectedSegment=null,this.heuristicData&&(this.heuristicData.dispose(),this.heuristicData=null),this.externalFailure&&(this.externalFailure.dispose(),this.externalFailure=null),this.failTracker&&(this.failTracker.dispose(),this.failTracker=null))},e.prototype.reset=function(){this.state=0,this.retryWaitTimeMSec=0,this.currentModuleId=null,this.selectedTrack=null,this.selectedSegment=null,1===this.workflowType&&(this.urlsToRetrieve=[]),this.heuristicData&&this.heuristicData.reset(),this.externalFailure=null},Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e}();t.Request=n;var i=function(){function e(e,t,r,n,i,o,a){void 0===t&&(t=0),void 0===r&&(r=4),void 0===n&&(n=""),void 0===i&&(i=NaN),void 0===o&&(o=NaN),void 0===a&&(a=NaN),this.url=e,this.httpResponseCode=-1,this.httpResposeContentType="",this.mediaData=null,this.presentationData=null,this.streamId=n,this.bitrate=i,this.presTimeInSec=o,this.durationInSec=a,this.responseType=r,this.requestType=t}return e.prototype.dispose=function(){this.url=null,this.httpResponseCode=null,this.httpResposeContentType="",this.mediaData=null,this.presentationData=null,this.streamId="",this.bitrate=NaN,this.presTimeInSec=NaN,this.durationInSec=NaN,this.responseType=null},e.prototype.clone=function(){var t=new e(this.url,this.requestType,this.responseType,this.streamId,this.bitrate,this.presTimeInSec,this.durationInSec);return t.httpResponseCode=this.httpResponseCode,t.httpResposeContentType=this.httpResposeContentType,t.mediaData=this.mediaData.slice(0),t.presentationData=this.presentationData,t},e}();t.UrlRequest=i;var o=function(){function e(e){var t=[];e.tracks.forEach(function(e){e.streamingInfo.selectable&&t.push(new a(e))}),this.tracksData=t}return e.prototype.dispose=function(){this.tracksData.forEach(function(e,t,r){r[t].dispose()}),this.tracksData=[]},e.prototype.reset=function(){this.tracksData.forEach(function(e,t,r){r[t].reset()})},e}();t.HeuristicData=o;var a=function(){function e(e){this.trackInfo=e,this.selectable=!0,this.dataRetrieverEstimationInWallClockSec=null}return e.prototype.dispose=function(){this.trackInfo=null,this.selectable=null,this.dataRetrieverEstimationInWallClockSec=null},e.prototype.reset=function(){this.selectable=!0,this.dataRetrieverEstimationInWallClockSec=null},e}();t.TrackData=a;var s=function(){function e(){this.reset()}return e.prototype.dispose=function(){this.lastFailure=null,this.lastTrack=null,this.tracksToTry=[]},e.prototype.reset=function(){this.lastFailure=null,this.lastTrack=null,this.totalRetried=0,this.tracksToTry=[],this.trackToTryIdx=0,this.sameRequestRetried=0,this.segmentsSkipped=0,this.noDataReceivedFailure=!1},e.prototype.resetForSegment=function(){this.sameRequestRetried=0,this.trackToTryIdx=0},e.prototype.log=function(e,t){this.lastFailure=e,this.lastTrack=t},e.prototype.isNone=function(){return null===this.lastFailure},e.prototype.isLastNetworkFail=function(){return this.lastFailure.code>=2097752&&this.lastFailure.code<3145727},e.prototype.isLastNetworkDown=function(){return 2097753===this.lastFailure.code},e.prototype.isLastNotReady=function(){return 2097564===this.lastFailure.code},e.prototype.isLastServerError=function(){return this.lastFailure.code>=2097652&&this.lastFailure.code<=2097751},e.prototype.isLastNotFound=function(){return 2097556===this.lastFailure.code},e}();t.FailTracker=s}(e.Context||(e.Context={})),e.Context}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._downloads=[]}return t.prototype.dispose=function(){this._downloads=[]},t.prototype.add=function(t,r){if(0!==this._downloads.length){var n=this._downloads[this._downloads.length-1];if(t>n.time)r!=n.bitrate&&this._downloads.push({time:t,bitrate:r});else{var i=e.Common.binarySearchTimeline(t,this._downloads,this._compareTime);(-1===i||t>this._downloads[i].time)&&i++,this._downloads.splice(i,this._downloads.length-i),this._downloads.push({time:t,bitrate:r})}}else this._downloads.push({time:t,bitrate:r})},t.prototype.findBitrate=function(t){var r=e.Common.binarySearchTimeline(t,this._downloads,this._compareTime);return-1===r?-1:this._downloads[r].bitrate},t.prototype.cleanup=function(t){if(!(this._downloads.length>0&&t<=this._downloads[0].time)){var r=e.Common.binarySearchTimeline(t,this._downloads,this._compareTime);r>0&&this._downloads.splice(0,r)}},t.prototype._compareTime=function(e,t,r){var n=0;return r?(e<t.time?n=-1:e>=r.time&&(n=1),n):t.time<=e?0:-1},t}();t.DownloadTracker=r}(e.Context||(e.Context={})),e.Context}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function r(r){var n=this;this._videoElement=r,this._errorHandler=null,this.matchedKeySystem=null,this._audioContentType=null,this._videoContentType=null,this._psshBoxes=[],this._keySystems={},this._laUrls={},this._authenticationTokens={},this._disposed=!1,this._initializedKeySystem=null;var i=new t.PlayReady;this.addKeySystem(i);var o=new t.Widevine;this.addKeySystem(o),this._needKeyHandlerWrapper=function(e){n._needKeyHandler(e)},this._encryptedHandlerWrapper=function(e){n._encryptedHandler(e)},e.EmeUtil.listenToNeedKey(r,this._needKeyHandlerWrapper),e.EmeUtil.listenToEncrypted(r,this._encryptedHandlerWrapper)}return r.prototype.reset=function(){this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null),this._psshBoxes=[],this._laUrls={},this._errorHandler=null,this._audioContentType=null,this._videoContentType=null,this._authenticationTokens={},this._initializedKeySystem=null},r.prototype.dispose=function(){this._disposed||(this._disposed=!0,this.matchedKeySystem&&(this.matchedKeySystem.deactivate(),this.matchedKeySystem=null),e.EmeUtil.unlistenToNeedKey(this._videoElement,this._needKeyHandlerWrapper),e.EmeUtil.unlistenToEncrypted(this._videoElement,this._encryptedHandlerWrapper),this._needKeyHandlerWrapper=null,this._encryptedHandlerWrapper=null,this._psshBoxes=[],this._keySystems={},this._laUrls={},this._videoElement=null,this._errorHandler=null,this._audioContentType=null,this._videoContentType=null,this._authenticationTokens=null,this._initializedKeySystem=null)},r.prototype.setup=function(e,t){this._errorHandler=e,this._authenticationTokens=t},r.prototype.setContentTypes=function(e,t){this._audioContentType=e,this._videoContentType=t},r.prototype.addKeySystem=function(t){var r=e.Common.uint8ArrayToHexString(t.systemId);return r&&r.length>0?(this._keySystems[r]&&e.Log.warning(12,"Overwriting "+t.name),this._keySystems[r]=t,t):null},r.prototype.addPsshBoxes=function(t){var r=this;t.forEach(function(t){var n=e.Common.uint8ArrayToHexString(t.systemId);e.Log.verbose(12,"Adding pssh box with system ID "+n),r._psshBoxes.push(t)})},r.prototype.addLaUrl=function(t,r){var n=e.Common.uint8ArrayToHexString(t);return this._keySystems[n]?(this._laUrls[n]&&this._laUrls[n]!==r&&e.Log.warning(12,"Overwriting license acquisition URL for "+this._keySystems[n].name),void(this._laUrls[n]=r)):void e.Log.warning(12,"Cannot set license acquisition URL for system ID "+n)},r.prototype._needKeyHandler=function(t){var r=this;if(!this._disposed){if(e.Log.verbose(12,"Got needKey event"),t.initData){var n=new DataView(t.initData.buffer),i=e.Mp4Util.GetPsshBoxes(n);this.addPsshBoxes(i)}this._findMatchedKeySystem().then(function(t){if(!t||null!=r._initializedKeySystem&&r._initializedKeySystem!=t.type)r._reportKeySystemNotFound();else{null==r._initializedKeySystem&&(r._initializedKeySystem=t.type);for(var n=0;n<r._psshBoxes.length;n++)if(r._psshBoxes[n].systemId.isEqual(t.systemId)){var i=new Uint8Array(r._psshBoxes[n].serialize());e.Log.verbose(12,"needKeyHandler: Sending initData to: "+t.name),t.initData(i,r._audioContentType,r._videoContentType)}}},function(){r._reportKeySystemNotFound()})}},r.prototype._encryptedHandler=function(t){var r=this;if(!this._disposed){if(e.Log.verbose(12,"Got encrypted event"),t.initData){var n=new DataView(t.initData),i=e.Mp4Util.GetPsshBoxes(n);this.addPsshBoxes(i)}this._findMatchedKeySystem().then(function(t){if(!t||null!=r._initializedKeySystem&&r._initializedKeySystem!=t.type)r._reportKeySystemNotFound();else{null==r._initializedKeySystem&&(r._initializedKeySystem=t.type);for(var n=e.Common.uint8ArrayToHexString(t.systemId),i=0;i<r._psshBoxes.length;i++)if(r._psshBoxes[i].systemId.isEqual(t.systemId)){var o=new Uint8Array(r._psshBoxes[i].serialize());e.Log.verbose(12,"encryptedHandler: Sending initData to: "+t.name),t.initData(o,r._audioContentType,r._videoContentType,r._laUrls[n])}}},function(){r._reportKeySystemNotFound()})}},r.prototype._findMatchedKeySystem=function(){var t=this;return new Promise(function(r,n){function i(){if(o>=t._psshBoxes.length)n();else{var a=e.Common.uint8ArrayToHexString(t._psshBoxes[o].systemId);t._keySystems[a]?t._keySystems[a].isSupported(t._psshBoxes[o].systemId,t._audioContentType,t._videoContentType).then(function(){t.matchedKeySystem=t._keySystems[a],t.matchedKeySystem.activate(t._videoElement,t._errorHandler,t._authenticationTokens[t.matchedKeySystem.type]),e.Log.verbose(12,"Matched key system found: "+t.matchedKeySystem.name),r(t.matchedKeySystem)},function(){++o,i()}):(++o,i())}}if(t.matchedKeySystem)r(t.matchedKeySystem);else{var o=0;i()}})},r.prototype._reportKeySystemNotFound=function(){var t=new e.Failure.External(5242881,"no matching keySystem found");this._errorHandler(t)},r}();t.EmeManager=r}(e.KeySystem||(e.KeySystem={})),e.KeySystem}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this.name="com.microsoft.playready",this.type="PlayReady",this._videoElement=null,this._errorHandler=null,this._session=null,this._active=!1,this._authenticationToken=""}return Object.defineProperty(t.prototype,"systemId",{get:function(){return t.systemId},enumerable:!0,configurable:!0}),t.prototype.isSupported=function(r,n,i){return r.isEqual(t.systemId)?e.EmeUtil.isTypeSupported(this.name,n,i):new Promise(function(e,t){t()})},t.prototype.activate=function(e,t,r){this._videoElement=e,this._errorHandler=t,this._authenticationToken=r,this._active=!0},t.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(e.EmeUtil.unlistenToKeyMessage(this._session,this._keyMessageHandler),e.EmeUtil.unlistenKeyError(this._session,this._keyErrorHandler),this._session.close(),this._session=null),this._videoElement=null,this._errorHandler=null,this._authenticationToken="")},t.prototype.initData=function(t,r,n){var i=this;if(!this._session){var o=e.EmeUtil.createMediaKeys(this.name);if(!o){e.Log.error(12,this.name+" createMediaKeys failed");l=new e.Failure.External(5242881,this.name+" createMediaKeys failed");return void this._reportError(l)}e.EmeUtil.setMediaKeys(this._videoElement,o);var a=r.substr(r.indexOf("=")+2),s=n.substr(0,n.length-1)+", "+a;if(e.Log.verbose(12,"creating media key session for PlayReady"),this._session=o.createSession(s,t),!this._session){e.Log.error(12,this.name+" createSession failed");var l=new e.Failure.External(5242881,this.name+" createSession failed");return void this._reportError(l)}e.EmeUtil.listenToKeyMessage(this._session,function(e){i._keyMessageHandler(e)}),e.EmeUtil.listenKeyError(this._session,function(){i._keyErrorHandler()})}},t.prototype._keyMessageHandler=function(e){var t=this,r=new Uint16Array(e.message.buffer),n=String.fromCharCode.apply(null,r),i=e.destinationURL;this._getPlayReadyLicense(n,i).then(function(e){t._active&&t._session&&t._session.update(e)},function(e){t._active&&t._reportError(e)})},t.prototype._keyErrorHandler=function(){if(this._active&&this._session.error){var t="MSMediaKeyError code: "+this._session.error.code+", systemCode: "+e.Common.toHexString(this._session.error.systemCode),r=new e.Failure.External(5242880,t);this._reportError(r)}},t.prototype._getPlayReadyLicense=function(r,n){var i=this;return new Promise(function(o,a){var s=null,l=[],u=(new DOMParser).parseFromString(r,"application/xml");if(!u.getElementsByTagName("Challenge")[0])return e.Log.error(12,"Playready: Can not find Challenge in keyMessage"),void a(new e.Failure.External(5242886,"No challenge"));var c=u.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;c&&(s=atob(c));var d=u.getElementsByTagName("name"),p=u.getElementsByTagName("value");if(d.length!=p.length)return e.Log.error(12,"Playready update, invalid header name/value pair in keyMessage"),void a(new e.Failure.External(5242886,"Invalid headers"));for(var h=0;h<d.length;h++)l[h]={name:d[h].childNodes[0].nodeValue,value:p[h].childNodes[0].nodeValue};i._authenticationToken&&i._authenticationToken.length>0&&(l[d.length]={name:e.HttpUtil.authorizationHeader,value:i._authenticationToken}),t.overrideLicenseAcquisitionUrl&&(e.Log.verbose(12,"overriding license acquisition url: "+n+" with: "+t.overrideLicenseAcquisitionUrl),n=t.overrideLicenseAcquisitionUrl),e.HttpUtil.httpRequest(n,"POST","arraybuffer",l,s).then(function(e){o(new Uint8Array(e))},function(t){var r=new e.Failure.External(5242886,"Http: "+e.Common.toHexString(t));a(r)})})},t.prototype._reportError=function(e){this._errorHandler&&this._errorHandler(e)},t.systemId=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),t}();t.PlayReady=r}(e.KeySystem||(e.KeySystem={})),e.KeySystem}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(){this.windowSizeHeuristicsEnabled=e._windowSizeHeuristicsEnabledDefault,this.useBrowserWindowForWindowSizeRule=e._useBrowserWindowForWindowSizeRuleDefault,this.preFetchDataEnabled=e._preFetchDataEnabledDefault,this.preFetchDataMiddle=e._preFetchDataMiddleDefault,this.vodStableBufferLevelPercent=e._vodStableBufferLevelPercentDefault,this.vodDowngradeBufferLevelPercent=e._vodDowngradeBufferLevelPercentDefault,this.belowDowngradeBufferLevelDownloadTimeFactor=e._belowDowngradeBufferLevelDownloadTimeFactorDefault,this.bandwidth=null,this.stepRule=null,this.buffer=null,this.bandwidth=new r,this.stepRule=new n,this.buffer=new i}return e.prototype.reset=function(){this.windowSizeHeuristicsEnabled=e._windowSizeHeuristicsEnabledDefault,this.useBrowserWindowForWindowSizeRule=e._useBrowserWindowForWindowSizeRuleDefault,this.preFetchDataEnabled=e._preFetchDataEnabledDefault,this.preFetchDataMiddle=e._preFetchDataMiddleDefault,this.vodStableBufferLevelPercent=e._vodStableBufferLevelPercentDefault,this.vodDowngradeBufferLevelPercent=e._vodDowngradeBufferLevelPercentDefault,this.belowDowngradeBufferLevelDownloadTimeFactor=e._belowDowngradeBufferLevelDownloadTimeFactorDefault,this.bandwidth.reset(),this.stepRule.reset(),this.buffer.reset()},e._windowSizeHeuristicsEnabledDefault=!0,e._useBrowserWindowForWindowSizeRuleDefault=!1,e._preFetchDataEnabledDefault=!0,e._preFetchDataMiddleDefault=!0,e._vodStableBufferLevelPercentDefault=.7,e._vodDowngradeBufferLevelPercentDefault=.15,e._belowDowngradeBufferLevelDownloadTimeFactorDefault=.75,e}();e.Heuristics=t;var r=function(){function e(){this.bandwidthUsabilityPercent=e._bandwidthUsabilityPercentDefault,this.bandwidthDataSizeThresholdInBytes=e._bandwidthDataSizeThresholdInBytesDefault,this.bandwidthEstimationMaxKbps=e._bandwidthEstimationMaxKbpsDefault,this.bandwidthEstimationMinMsec=e._bandwidthEstimationMinMsecDefault,this.maxBandwidthHistoryCount=e._maxBandwidthHistoryCountDefault,this.minBandwidthHistoryCount=e._minBandwidthHistoryCountDefault,this.bandwidthTestWithTimeThresholdDuringLive=e._bandwidthTestWithTimeThresholdDuringLiveDefault,this.useVariableFragmentSizeMode=e._useVariableFragmentSizeModeDefault}return e.prototype.reset=function(){this.bandwidthUsabilityPercent=e._bandwidthUsabilityPercentDefault,this.bandwidthDataSizeThresholdInBytes=e._bandwidthDataSizeThresholdInBytesDefault,this.bandwidthEstimationMaxKbps=e._bandwidthEstimationMaxKbpsDefault,this.bandwidthEstimationMinMsec=e._bandwidthEstimationMinMsecDefault,this.maxBandwidthHistoryCount=e._maxBandwidthHistoryCountDefault,this.minBandwidthHistoryCount=e._minBandwidthHistoryCountDefault,this.bandwidthTestWithTimeThresholdDuringLive=e._bandwidthTestWithTimeThresholdDuringLiveDefault,this.useVariableFragmentSizeMode=e._useVariableFragmentSizeModeDefault},e._bandwidthUsabilityPercentDefault=.85,e._bandwidthDataSizeThresholdInBytesDefault=1e4,e._bandwidthEstimationMaxKbpsDefault=5e5,e._bandwidthEstimationMinMsecDefault=5,e._maxBandwidthHistoryCountDefault=5,e._minBandwidthHistoryCountDefault=1,e._bandwidthTestWithTimeThresholdDuringLiveDefault=!0,e._useVariableFragmentSizeModeDefault=!1,e}();e.Bandwidth=r;var n=function(){function e(){this.minSegmentsBeforeDowngrade=e._minSegmentsBeforeDowngradeDefault,this.minSegmentsBeforeUpgrade=e._minSegmentsBeforeUpgradeDefault,this.maxStepDownInQuality=e._maxStepDownInQualityDefault,this.maxStepUpInQuality=e._maxStepUpInQualityDefault}return e.prototype.reset=function(){this.minSegmentsBeforeDowngrade=e._minSegmentsBeforeDowngradeDefault,this.minSegmentsBeforeUpgrade=e._minSegmentsBeforeUpgradeDefault,this.maxStepDownInQuality=e._maxStepDownInQualityDefault,this.maxStepUpInQuality=e._maxStepUpInQualityDefault},e._minSegmentsBeforeDowngradeDefault=0,e._minSegmentsBeforeUpgradeDefault=1,e._maxStepDownInQualityDefault=10,e._maxStepUpInQualityDefault=3,e}();e.StepRule=n;var i=function(){function e(){this.maxBufferInWallClockSec=e._maxBufferInSecDefault,this.prerollPercent=e._prerollPercentDefault,this.livePlaybackOffsetPercent=e._livePlaybackOffsetPercentDefault,this.leftEdgeBackoffInSec=e._leftEdgeBackoffInSecDefault,this.lowBufferPercent=e._lowBufferPercentDefault}return e.prototype.reset=function(){this.maxBufferInWallClockSec=e._maxBufferInSecDefault,this.prerollPercent=e._prerollPercentDefault,this.lowBufferPercent=e._lowBufferPercentDefault,this.livePlaybackOffsetPercent=e._livePlaybackOffsetPercentDefault,this.leftEdgeBackoffInSec=e._leftEdgeBackoffInSecDefault},e._maxBufferInSecDefault=30,e._prerollPercentDefault=.25,e._lowBufferPercentDefault=.25,e._livePlaybackOffsetPercentDefault=.25,e._leftEdgeBackoffInSecDefault=4,e}();e.Buffer=i;var o=function(){function e(){this.maxTotalRetries=e._maxTotalRetriesDefault,this.maxRetryPerSegment=e._maxRetryPerSegmentDefault,this.maxRetryPresentation=e._maxRetryPresentationDefault,this.maxSkipSegments=e._maxSkipSegmentsDefault,this.retryLowerBitrateOnly=!1,this.retryMediaInMSec=e._retryMediaInMSecDefault,this.retryMediaServerErrorInMSec=e._retryMediaServerErrorInMSecDefault,this.retryPresentationInMSec=e._retryPresentationInMSecDefault,this.retryDueToNetworkErrorInMSec=e._retryDueToNetworkErrorInMSecDefault}return e._maxTotalRetriesDefault=50,e._maxRetryPerSegmentDefault=10,e._maxRetryPresentationDefault=5,e._maxSkipSegmentsDefault=30,e._retryMediaInMSecDefault=2e3,e._retryMediaServerErrorInMSecDefault=4e3,e._retryPresentationInMSecDefault=500,e._retryDueToNetworkErrorInMSecDefault=1e3,e}();e.HttpRetryPolicy=o;var a=function(){function e(){this.initBandwidthTimeoutInMSec=e._initBandwidthTimeout,this.noDataTimeoutInMSec=e._noDataTimeoutDefault,this.timeoutInMSec=e._minTimeoutInMSecDefault,this.liveEdgeAdjustmentInSec=e._liveEdgeAdjustmentDefaultInSec}return Object.defineProperty(e.prototype,"maxTimeoutInMSec",{get:function(){return 6e4},enumerable:!0,configurable:!0}),e._minTimeoutInMSecDefault=1e4,e._initBandwidthTimeout=1e3,e._noDataTimeoutDefault=1e3,e._liveEdgeAdjustmentDefaultInSec=-1,e}();e.HttpDataRetriever=a}(e.Settings||(e.Settings={})),e.Settings}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";t.CreateAdapter=function(){return new i},t.supported=function(){return!(!window.hasOwnProperty("MediaSource")&&!window.hasOwnProperty("WebKitMediaSource"))};var r={closed:0,open:1,ended:2},n=function(){return function(e,t,r){this.bufferIndex=e,this.startTime=t,this.endTime=r}}(),i=function(){function i(){this._mediaSource=new MediaSource,this._sourceOpenHandler=null,this._adapterSourceBuffers=new o,this._disposed=!1,this._videoTag=null,this._buffered=null}return i.prototype.dispose=function(){if(!this._disposed){if(this._mediaSource){for(var e=this._mediaSource.sourceBuffers.length-1;e>=0;e--)this._mediaSource.removeSourceBuffer(this._mediaSource.sourceBuffers[e]);this._sourceOpenHandler&&(this._mediaSource.removeEventListener("sourceopen",this._sourceOpenHandler),this._sourceOpenHandler=null),this._mediaSource=null}this._adapterSourceBuffers.dispose(),this._adapterSourceBuffers=null,this._videoTag&&(this._videoTag.src&&(URL.revokeObjectURL(this._videoTag.src),this._videoTag.src=null),this._videoTag=null),this._disposed=!0}},Object.defineProperty(i.prototype,"readyState",{get:function(){return this._disposed?0:r[this._mediaSource.readyState]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"durationInSec",{get:function(){return this._disposed?NaN:this._mediaSource.duration},set:function(e){this._disposed||(this._mediaSource.duration=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"adapterBuffers",{get:function(){return this._disposed?null:this._adapterSourceBuffers.adapterBuffers},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffered",{get:function(){return this._buffered},enumerable:!0,configurable:!0}),i.prototype.setVideoElementSrcAsync=function(e){var t=this;return this._videoTag=e,new Promise(function(r,n){return t._disposed?void n("VideoElementAdapter already disposed"):(t._sourceOpenHandler=function(){return t._disposed?void n("VideoElementAdapter already disposed"):(t._mediaSource.removeEventListener("sourceopen",t._sourceOpenHandler),t._sourceOpenHandler=null,void r())},t._mediaSource.addEventListener("sourceopen",t._sourceOpenHandler),void(e.src=URL.createObjectURL(t._mediaSource)))})},i.prototype.setStartTime=function(t){function r(){!n._disposed&&n._videoTag&&0===n._videoTag.currentTime&&(n._videoTag.readyState!==HTMLMediaElement.HAVE_NOTHING?(n._videoTag.currentTime=t,e.Log.verbose(3,"StartTime set: "+t)):(e.Log.verbose(3,"Video tag not ready, will retry to set StartTime to "+t),e.Util.setTimeout(r,i._setCurrentTimeTimeoutInMSec)))}var n=this;r()},i.prototype.addAdapterBuffer=function(r,n,i,o,a){if(this._disposed)return null;var s,l=this,u=null;try{s=this._mediaSource.addSourceBuffer(r),u=new t.VideoElementAdapterBuffer(o,a,n,s,function(){l._updateBuffered()},function(e){i.call(l,e)}),this._adapterSourceBuffers.add(u,s),e.Log.verbose(3,"Adapter buffer added: "+r+" Adapter buffer total: "+this._adapterSourceBuffers.length)}catch(t){e.Log.error(3,"Failed to add SourceBuffer to MediaSource: "+t)}return u},i.prototype.removeAdapterBuffer=function(t){if(!this._disposed){var r;-1!==(r=this._adapterSourceBuffers.find(t))?(this._mediaSource.removeSourceBuffer(this._adapterSourceBuffers.sourceBuffers[r]),this._adapterSourceBuffers.remove(r),e.Log.verbose(3,"Adapter buffer removed, remaining: "+this._adapterSourceBuffers.length)):e.Log.error(3,"Failed to remove adapter buffer: instance not found")}},i.prototype.endOfStream=function(t){function r(){if(!n._disposed)try{o?n._mediaSource.endOfStream(o):n._mediaSource.endOfStream(),e.Log.verbose(3,"End of stream signaled")}catch(t){if(!(t.code===DOMException.INVALID_STATE_ERR&&a++<10))throw e.Log.error(3,"Failed to set end-of-stream: "+t),t;e.Log.warning(3,"MediaSource not ready, will retry: "+t),e.Util.setTimeout(r,i._retryTimeoutInMSec)}}var n=this,o=t,a=0;r()},i.prototype._updateBuffered=function(){if(!this._disposed){for(var t=this._adapterSourceBuffers.adapterBuffers,r=new e.Common.TimeRangeSet,n=this._findUniqueStartTimes(),i=0;i<n.length;i++){for(var o=n[i].startTime,a=n[i].endTime,s=!0,l=0;l<t.length;l++){var u=t[l].buffered;if(l!==n[i].bufferIndex){for(var c=!1,d=0;d<u.length;d++)if(u.start(d)<=o&&o<=u.end(d)){c=!0,u.end(d)<a&&(a=u.end(d));break}if(!c){s=!1;break}}}s&&(e.Log.verbose(3,"Intersecting buffer found ("+n[i].startTime+", "+a+")"),r.addRange(new e.Common.TimeRange(n[i].startTime,a)))}this._buffered=r}},i.prototype._findUniqueStartTimes=function(){for(var e=[],t=this._adapterSourceBuffers.adapterBuffers,r=0;r<t.length;r++)for(var i=t[r].buffered,o=0;o<i.length;o++)-1===e.findIndexOf(function(e){return e.startTime===i.start(o)})&&e.push(new n(r,i.start(o),i.end(o)));return e.sort(function(e,t){return e.startTime-t.startTime}),e},i._setCurrentTimeTimeoutInMSec=500,i._retryTimeoutInMSec=100,i}(),o=function(){function e(){this.adapterBuffers=[],this.sourceBuffers=[]}return e.prototype.dispose=function(){for(e=this.adapterBuffers.length-1;e>=0;e--)this.adapterBuffers[e].dispose(),this.adapterBuffers[e]=null;for(var e=this.sourceBuffers.length-1;e>=0;e--)this.sourceBuffers[e]=null},Object.defineProperty(e.prototype,"length",{get:function(){if(this.sourceBuffers.length!==this.adapterBuffers.length)throw new Error("AdapterSourceBuffers in invalid state");return this.sourceBuffers.length},enumerable:!0,configurable:!0}),e.prototype.find=function(e){return this.adapterBuffers.indexOf(e)},e.prototype.add=function(e,t){this.adapterBuffers.push(e),this.sourceBuffers.push(t)},e.prototype.remove=function(e){e>=0&&e<this.sourceBuffers.length&&(this.sourceBuffers.splice(e,1),this.adapterBuffers.splice(e,1))},e}()}(e.VideoElementAdapter||(e.VideoElementAdapter={})),e.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(t,r,n,i,o,a){function s(){l._notifyBufferUpdated(),l._tryInternalRemove(),l._tryInternalAppend()}var l=this;this._disposed=!1,this._pendingBufferRanges=new e.Common.TimeRangeSet,this._sourceBuffer=i,this._maxAdapterBufferAheadInWallClockSec=t,this._maxAdapterBufferBehindCurrentTimeInSec=r,this._playbackPosFn=n,this._notifyBufferUpdated=o,this._pendingBuffer=[],this._pendingRemove=[],this._submittedRemove=null,this._appendErrorHandler=a,this._sourceBufferUpdated=function(){e.Log.verbose(3,"SourceBuffer 'update' event completed."),s()},this._sourceBufferError=function(){e.Log.error(3,"SourceBuffer append failed with 'error' event."),s()},this._sourceBuffer.addEventListener("update",this._sourceBufferUpdated),this._sourceBuffer.addEventListener("error",this._sourceBufferError)}return Object.defineProperty(t.prototype,"buffered",{get:function(){var t,r,n=new e.Common.TimeRangeSet;try{n.addRanges(this._sourceBuffer.buffered),r=n.length>0?n.end(n.length-1):NaN;for(a=0;a<this._pendingBufferRanges.length;a++){var i=this._pendingBufferRanges.start(a),o=this._pendingBufferRanges.end(a);0===e.Common.diffTimes(i,r)?n.extendLast(o):(t=new e.Common.TimeRange(i,o),n.addRange(t)),r=o}for(var a=0;a<this._pendingRemove.length;a++){var s=this._pendingRemove[a].startInSec,l=this._pendingRemove[a].endInSec;n.removeRange(s,l)}if(this._submittedRemove){var s=this._submittedRemove.startInSec,l=this._submittedRemove.endInSec;n.removeRange(s,l)}}catch(t){e.Log.error(3,"buffered() threw exception "+t)}return n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._sourceBuffer.timestampOffset},set:function(e){this._sourceBuffer.timestampOffset=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this._sourceBuffer.audioTracks},enumerable:!0,configurable:!0}),t.prototype.getBufferedAheadOfCurrentTimeInSec=function(){if(this._disposed)return 0;var e=this.buffered,t=this._playbackPosFn(),r=0;if(0===e.length)return 0;for(var n=0;n<e.length;n++)e.start(n)<=t&&t<e.end(n)?r+=e.end(n)-t:t<e.start(n)&&(r+=e.end(n)-e.start(n));return r},t.prototype.bufferFull=function(e){return this.getBufferedAheadOfCurrentTimeInSec()>this._maxAdapterBufferAheadInWallClockSec*e},t.prototype.contains=function(e){for(var t=this.buffered,r=0;r<t.length;r++)if(t.start(r)<=e&&e<t.end(r))return!0;return!1},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this._sourceBuffer.removeEventListener("update",this._sourceBufferUpdated),this._sourceBuffer.removeEventListener("error",this._sourceBufferError),this._notifyBufferUpdated=null,this._playbackPosFn=null,this._appendErrorHandler=null,this._sourceBufferUpdated=null,this._sourceBufferError=null;for(e=this._pendingBuffer.length-1;e>=0;e--)this._pendingBuffer[e]=null;this._sourceBuffer=null;for(var e=this._pendingRemove.length-1;e>=0;e--)this._pendingRemove[e]=null;this._submittedRemove&&(this._submittedRemove=null),this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null)}},t.prototype.flushBufferBehindCurrentTime=function(){if(this._maxAdapterBufferBehindCurrentTimeInSec>0)try{var t=this._playbackPosFn()-this._maxAdapterBufferBehindCurrentTimeInSec,r=this.getStartTimeOfCurrentBuffered();NaN!=r&&r>=0&&t>r&&this.flushUntil(t)}catch(t){e.Log.warning(3,"Ignoring Exception in flushBufferBehindCurrentTim")}},t.prototype.append=function(t,r,n){this.flushBufferBehindCurrentTime();var i,o,a,s;for(s=0;s<this._pendingBuffer.length&&!(r<this._pendingBuffer[s].presTimeInSec);s++);if(n){if(s>0&&(o=this._pendingBuffer[s-1],(l=e.Common.diffTimes(r,o.presTimeInSec+o.durationInSec))>0))throw new Error("append ("+r+","+n+") failed, overlaps with ("+o.presTimeInSec+","+o.durationInSec+")");if(s<this._pendingBuffer.length){a=this._pendingBuffer[s];var l=e.Common.diffTimes(a.presTimeInSec,r+n);if(l>0)throw new Error("append ("+r+","+n+") failed, overlaps with ("+a.presTimeInSec+","+a.durationInSec+")")}}i=new e.Common.SegmentData(t,r,n),this._pendingBuffer.splice(s,0,i),this._updatePendingRanges(),e.Log.verbose(3,"Appending segment: "+r+" sec "+t.byteLength+" bytes"),this._tryInternalAppend(),this._notifyBufferUpdated()},t.prototype.remove=function(t,r){var n;t=Math.max(t,0),n=new e.Common.TimeRange(t,r),this._pendingRemove.push(n),e.Log.verbose(3,"Added to remove pending list ["+t+","+r+")"),this._tryInternalRemove()},t.prototype.flushFrom=function(e){var t=this._sourceBuffer.buffered;this._sourceBuffer.updating&&this._sourceBuffer.abort();var r=0,n=0;if(t.length>0&&(r=t.start(0)),this._pendingBuffer.length>0&&(r=Math.min(r,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0){var i=this._pendingBuffer[this._pendingBuffer.length-1];n=i.presTimeInSec+i.durationInSec}if(t.length>0&&(n=Math.max(n,t.end(t.length-1))),void 0!==e&&(r=e),n>r)this.remove(r,n);else if(0!==r||0!==n)throw new Error("flush failed, endTime ("+n+") not greater than startime ("+r+")")},t.prototype.getStartTimeOfCurrentBuffered=function(){var e=this._sourceBuffer.buffered,t=NaN;return e.length>0&&(t=e.start(0)),this._pendingBuffer.length>0&&(t=Math.min(t,this._pendingBuffer[0].presTimeInSec)),t},t.prototype.flushUntil=function(e){var t=this._sourceBuffer.buffered,r=0,n=0;if(t.length>0&&(r=t.start(0)),this._pendingBuffer.length>0&&(r=Math.min(r,this._pendingBuffer[0].presTimeInSec)),this._pendingBuffer.length>0){var i=this._pendingBuffer[this._pendingBuffer.length-1];n=i.presTimeInSec+i.durationInSec}if(t.length>0&&(n=Math.max(n,t.end(t.length-1))),(n=Math.min(n,e))>r)this.remove(r,n);else if(0!==r||0!==n)throw new Error("flush failed, endTime ("+n+") not greater than startime ("+r+")")},t.prototype._tryInternalAppend=function(){if(this._pendingBuffer&&this._sourceBuffer&&0!==this._pendingBuffer.length&&!this._sourceBuffer.updating)try{this._sourceBuffer.appendBuffer(this._pendingBuffer[0].data),e.Log.verbose(3,"Appended segment to SourceBuffer: "+this._pendingBuffer[0].presTimeInSec+" sec "+this._pendingBuffer[0].data.byteLength+" bytes"),this._pendingBuffer.splice(0,1),this._updatePendingRanges()}catch(t){switch(t.code){case DOMException.INVALID_STATE_ERR:case DOMException.QUOTA_EXCEEDED_ERR:e.Log.error(3,"Failed to append segment to SourceBuffer, will retry: "+t),this._appendErrorHandler&&this._appendErrorHandler(this._sourceBuffer);break;default:throw e.Log.error(3,"Failed to append segment to SourceBuffer: "+t),t}}},t.prototype._tryInternalRemove=function(){if(this._sourceBuffer&&(this._sourceBuffer.updating||(this._submittedRemove=null),this._pendingBuffer&&this._pendingRemove))for(;0!==this._pendingRemove.length&&!this._sourceBuffer.updating;){var t;t=this._pendingRemove[0];for(var r=this._pendingBuffer.length-1;r>=0;r--){var n,i,o;i=(n=this._pendingBuffer[r]).presTimeInSec,o=n.durationInSec,i>=t.startInSec&&i<t.endInSec&&(i+o<=t.endInSec?(this._pendingBuffer.splice(r,1),this._updatePendingRanges(),this._notifyBufferUpdated(),e.Log.verbose(3,"Segment removed: "+t.startInSec)):e.Log.verbose(3,"Failed to remove range ("+t.startInSec+", "+t.endInSec+") from \r\n                            segment ("+i+", "+(i+o)+") - range ends mid - segment"))}try{this._sourceBuffer.remove(t.startInSec,t.endInSec),this._submittedRemove=this._pendingRemove.splice(0,1)[0],e.Log.verbose(3,"Removing range from SourceBuffer: ["+t.startInSec+","+t.endInSec+")")}catch(t){switch(t.code){case DOMException.INVALID_ACCESS_ERR:case DOMException.INVALID_STATE_ERR:e.Log.error(3,"Failed to remove segment from SourceBuffer, will retry: "+t);break;default:throw e.Log.error(3,"Failed to remove segment from SourceBuffer: "+t),t}}}},t.prototype._updatePendingRanges=function(){var t,r=this,n=NaN;this._pendingBufferRanges&&(this._pendingBufferRanges.dispose(),this._pendingBufferRanges=null),this._pendingBufferRanges=new e.Common.TimeRangeSet,this._pendingBuffer.forEach(function(i){0===e.Common.diffTimes(i.presTimeInSec,n)?r._pendingBufferRanges.extendLast(i.endTimestampInSec):(t=new e.Common.TimeRange(i.presTimeInSec,i.endTimestampInSec),r._pendingBufferRanges.addRange(t)),n=i.endTimestampInSec})},t}();t.VideoElementAdapterBuffer=r}(e.VideoElementAdapter||(e.VideoElementAdapter={})),e.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function r(){this.name="com.widevine.alpha",this.type="Widevine",this._videoElement=null,this._errorHandler=null,this._laUrl="",this._session=null,this._active=!1,this._authenticationToken=""}return Object.defineProperty(r.prototype,"systemId",{get:function(){return r.systemId},enumerable:!0,configurable:!0}),r.prototype.isSupported=function(t,n,i){return t.isEqual(r.systemId)?e.EmeUtil.isTypeSupported(this.name,n,i):new Promise(function(e,t){t()})},r.prototype.activate=function(e,t,r){this._videoElement=e,this._errorHandler=t,this._authenticationToken=r,this._active=!0},r.prototype.deactivate=function(){this._active&&(this._active=!1,this._session&&(e.EmeUtil.unlistenToMessage(this._session,this._messageHandler),this._session.close(),this._session=null),this._videoElement&&(this._videoElement.src="",this._videoElement.setMediaKeys(null),this._videoElement=null),this._errorHandler=null,this._laUrl="",this._authenticationToken="")},r.prototype.initData=function(t,r,n,i){function o(e){a._messageHandler(e)}var a=this;if(i&&!this._laUrl){this._laUrl=i;var s=e.EmeUtil.createSupportedKeySystem(this.name,r,n);s.catch(function(){e.Log.error(12,a.name+" createSupportedKeySystem failed");var t=new e.Failure.External(5242882,a.name+" createSupportedKeySystem failed");a._reportError(t)});var l=s.then(function(e){return e.createMediaKeys()});l.catch(function(){e.Log.error(12,a.name+" createMediaKeys failed");var t=new e.Failure.External(5242882,a.name+" createMediaKeys failed");a._reportError(t)}),l.then(function(r){if(e.Log.verbose(12,"creating media key session for Widevine"),a._session=r.createSession(),a._session)e.EmeUtil.listenToMessage(a._session,o),a._session.generateRequest("cenc",t).catch(function(){e.Log.error(12,a.name+" generateRequest failed");var t=new e.Failure.External(5242881,a.name+" generateRequest failed");a._reportError(t)}),a._videoElement.setMediaKeys(r).catch(function(){e.Log.error(12,a.name+" setMediaKeys failed");var t=new e.Failure.External(5242881,a.name+" setMediaKeys failed");a._reportError(t)});else{e.Log.error(12,a.name+" createSession failed");var n=new e.Failure.External(5242881,a.name+" createSession failed");a._reportError(n)}}).catch(function(){e.Log.error(12,a.name+" createKeySession failed");var t=new e.Failure.External(5242882,a.name+" createKeySession failed");a._reportError(t)})}},r.prototype._messageHandler=function(e){var t=this;"license-request"===e.messageType&&this._getWidevineLicense(e.message,this._laUrl).then(function(e){t._active&&t._session&&t._session.update(e)},function(e){t._active&&t._reportError(e)})},r.prototype._getWidevineLicense=function(n,i){var o=this;return new Promise(function(a,s){var l=[];o._authenticationToken&&o._authenticationToken.length>0&&l.push({name:t.WidevineCustomAuthorizationHeader||e.HttpUtil.authorizationHeader,value:o._authenticationToken}),r.overrideLicenseAcquisitionUrl&&(e.Log.verbose(12,"overriding license acquisition url: "+i+" with: "+r.overrideLicenseAcquisitionUrl),i=r.overrideLicenseAcquisitionUrl),e.HttpUtil.httpRequest(i,"POST","arraybuffer",l,n).then(function(e){a(new Uint8Array(e))},function(t){var r=new e.Failure.External(5242886,"Http: "+e.Common.toHexString(t));s(r)})})},r.prototype._reportError=function(e){this._errorHandler&&this._errorHandler(e)},r.systemId=new Uint8Array([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),r}();t.Widevine=r,t.WidevineCustomAuthorizationHeader=""}(e.KeySystem||(e.KeySystem={})),e.KeySystem}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";t.CreateCoordinator=function(e){return new r(e)};var r=function(){function r(n){var i=this;this._sessionContext=n,this._workflowSeq=t.CreateSequencer(this._sessionContext),this._mediaSource=null,this._lastPresentation=new Date(0),this._pendingPresentation=new Date,this._disposed=!1,this._pendingPlay=!0,this._pendingTryMediaRequestCount=0,this._prerollMet=!1,this._error=null,this._playbackPosInSec=null,this._pendingPlaybackPosInSec=null,this._seekingForward=!0,this._lastDuration=0,this._videoStreamList=null,this._audioStreamList=null,this._healthCheckLastTime=0,this._healthCheckPeriodInMSec=r._healthCheckPeriodMinInMSec,this._healthCheckId=e.Util.setTimeout(this._periodicHealthCheck,this._healthCheckPeriodInMSec,this),this._healthCheckRetries=0,this._dtOffsetToAdd=0,this._lastPlaybackBitrate=null,this._lastDownloadBitrate=null,this._manifestRefreshed=!1,this._registerInternalEvents(!0),this.timeBeforeSettingVideoElementSrcInMs=0,this._canPlayThroughEvent=function(){i._disposed||i._pendingPlay&&i._buffersAbovePreroll()&&i._startPlayback()},this._durationChangeEvent=function(){if(!i._disposed){var t=i._sessionContext;t.eventMgr.dispatchEvent(e.EventName.durationchange),t.commonPresentation&&t.commonPresentation.isLive&&e.Util.setTimeout(o,r._durationChangeMinIntervalInMSec)}};var o=function(){if(!i._disposed){var t=i._sessionContext;t.commonPresentation&&t.commonPresentation.isLive&&(i._lastDuration!==i.duration?(i._lastDuration=i.duration,t.eventMgr.dispatchEvent(e.EventName.durationchange),e.Util.setTimeout(o,r._durationChangeMinIntervalInMSec)):0===i._lastDuration&&e.Util.setTimeout(o,r._durationChangeMinIntervalInMSec))}};this._resetHealthCheckTimeHandler=function(){i._resetHealthCheckTime()},this._checkPlaybackBitrate=function(){if(!i._disposed){var t=i._sessionContext.videoBufferData.getPlaybackBitrate(i.currentMediaTime);t!=i._lastPlaybackBitrate&&(i._lastPlaybackBitrate=t,i._sessionContext.eventMgr.dispatchEvent(e.EventName.playbackbitratechanged))}}}return r.prototype.dispose=function(){this._disposed||(this._registerInternalEvents(!1),this._registerVideoTagEvents(!1),this._disposed=!0,this._sessionContext=null,this._lastPresentation=null,this._pendingPresentation=null,this._canPlayThroughEvent=null,this._durationChangeEvent=null,this._resetHealthCheckTimeHandler=null,this._checkPlaybackBitrate=null,this._manifestRefreshed=!1,this._mediaSource&&(this._mediaSource.dispose(),this._mediaSource=null),this._workflowSeq&&(this._workflowSeq.dispose(),this._workflowSeq=null),this._videoStreamList&&(this._videoStreamList.dispose(),this._videoStreamList=null),this._audioStreamList&&(this._audioStreamList.dispose(),this._audioStreamList=null),this.timeBeforeSettingVideoElementSrcInMs=0,e.Util.clearTimeout(this._healthCheckId))},Object.defineProperty(r.prototype,"videoStreamList",{get:function(){return this._videoStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"audioStreamList",{get:function(){return this._audioStreamList},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"videoBufferData",{get:function(){return this._sessionContext.videoBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"audioBufferData",{get:function(){return this._sessionContext.audioBufferData},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"src",{get:function(){return this._sessionContext.presentationUrl},set:function(t){e.Log.verbose(1,"src("+t+")");var n,i=this;this._sessionContext.presentationUrl=t,-1!==(n=t.indexOf("?"))&&(this._sessionContext.presentationQueryStr=t.slice(n)),this._presentationWorkflowAsync(function(t){function n(){return null!==i._playbackPosInSec&&i._sessionContext.videoTag.seeking?i._playbackPosInSec:i._sessionContext.videoTag.currentTime}function o(t){if(this._mediaSource){for(var r=this._mediaSource.sourceBuffers,n=!1,o=0;o<r.length;o++)if(r[o]===t){n=!0;break}n||i._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,"SourceBuffer has been removed from MediaSource")}}if(!i._disposed){var a=null;if(e.Log.verbose(1,"presentationWorkflowResolved"),null===t.sessionContext.commonPresentation)throw new Error("presentationWorkflowResolved: unexpected null values");a=t.sessionContext.commonPresentation,i._videoStreamList=new e.Presentation.VideoStreamList(i._sessionContext,a.periods[0].streams),i._audioStreamList=new e.Presentation.AudioStreamList(i._sessionContext,a.periods[0].streams),i._sessionContext.emeManager.setContentTypes(i._audioStreamList.streams[0].codec,i._videoStreamList.streams[0].codec),i._sessionContext.eventMgr.dispatchEvent(e.EventName.loadedmetadata),i._mediaSource=e.VideoElementAdapter.CreateAdapter(),i.timeBeforeSettingVideoElementSrcInMs=Date.now(),i._mediaSource.setVideoElementSrcAsync(t.sessionContext.videoTag).then(function(){if(e.Log.verbose(1,"_setVideoElementSrcResolved"),e.Common.isChrome){var s=Date.now();s-i.timeBeforeSettingVideoElementSrcInMs>r._timeSpentSettingVideoElementSrcThresholdInMs&&(e.Log.verbose(1,"Adjusting playable window because we spent too much time setting video element source."),a.adjustPlayableWindowForChromeSourceDelay(s))}if(!i._disposed){var l=!1;a.periods[0].streams.forEach(function(r){if(!l&&r.streamingInfo.selected){if(r.streamingInfo.sourceBuffer=i._mediaSource.addAdapterBuffer(r.codec,n,o,t.sessionContext.maxBufferInWallClockSec(),t.sessionContext.maxBufferBehindCurrentTimeInSec),!r.streamingInfo.sourceBuffer)return i._error=new e.Failure.External(4194307,"presentationWorkflowResolved: Failed to create source buffer for stream "+e.Presentation.StreamType[r.type]+", codec "+r.codec),t.sessionContext.eventMgr.dispatchEvent(e.EventName.error),void(l=!0);0===r.type?i._sessionContext.videoBufferData.updateBuffer(r.streamingInfo.sourceBuffer):1===r.type&&i._sessionContext.audioBufferData.updateBuffer(r.streamingInfo.sourceBuffer),r.streamingInfo.sourceBuffer.presentationTimeOffsetInSec=r.presentationTimeOffsetInSec+i._dtOffsetToAdd}}),l||(i._updateStartPosition(),i._updateDuration(),i._registerVideoDownloadedEvents(),i._registerVideoTagEvents(!0),i._checkMediaWorkflow(),i._tryTimeUpdateEvent()),t.dispose()}},function(e){throw new Error(e)}).catch(function(t){i._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,t)})}},function(t){i._disposed||(e.Log.error(1,"presentationWorkflowRejected:  module: "+t.currentModuleId),t.externalFailure&&e.Failure.isExternalError(t.externalFailure.code)&&(i._error=new e.Failure.External(t.externalFailure.code,t.externalFailure.message),e.Log.error(1,"Dispatching error: "+i.error.toString()),t.sessionContext.eventMgr.dispatchEvent(e.EventName.error)),t.dispose())})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"dtsOffsetToAdd",{get:function(){return this._dtOffsetToAdd},set:function(e){this._dtOffsetToAdd=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pendingPlay",{get:function(){return this._pendingPlay},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentPresentationTime",{set:function(t){e.Log.verbose(1,"currentPresentationTime("+t.toFixed(3)+")"),this.setCurrentTimeInternal(t,!0)},enumerable:!0,configurable:!0}),r.prototype.setCurrentTimeInternal=function(t,r){var n=this._sessionContext,i=n.commonPresentation.periods[0].streams,o=!1,a=0,s=0,l=this.duration;if(n.commonPresentation.isLive){var u=n.commonPresentation.timeShiftBufferDepth||1/0,c=n.heuristicSettings.buffer.leftEdgeBackoffInSec,d=u-c;a=n.liveStartBufferInSec(),s=d>l?0:c}if(r){var p=this._fromPresentationTime(t),h=Math.max(p,s);p!==(h=Math.min(h,l-a))&&(t=this._toPresentationTime(h))}else e.Log.verbose(1,"timeInSec: "+t+", leftEdgeBackoff: "+s),t=Math.max(t,s),e.Log.verbose(1,"timeInSec: "+t+", duration: "+l+", rightEdgeBackoff: "+a),t=Math.min(t,l-a),s>t&&(e.Log.warning(1,"timeInSec: "+t+"is less than leftEdgeBackoff. Seeking to leftEdgeBackoff"),t=s),e.Log.verbose(1,"timeInSec: "+t),t=this._toPresentationTime(t);e.Log.verbose(1,"seeking from presentation time "+n.videoTag.currentTime.toFixed(3)+" to "+t.toFixed(3));for(var f=t,m=0;m<i.length;m++)if(i[m].streamingInfo.selected){var g=i[m].segments.getByInSegmentTimestamp(t);if(g)continue;(g=i[m].segments.getByInDiscontinuityTimestamp(t))&&(f=Math.max(f,g.segmentInfo.presTimeInSec))}f!==t&&(e.Log.verbose(1,"skipping discontinuity from presentation time "+t+" to "+f),t=f),this._seekingForward=t>n.videoTag.currentTime,this._playbackPosInSec=t,n.videoTag.currentTime=t,this._pendingPlaybackPosInSec=null,e.Common.diffTimes(n.videoTag.currentTime,t)&&(e.Log.verbose(1,"set currentTime failed to update videoTag: requested="+t+", actual="+n.videoTag.currentTime),this._pendingPlaybackPosInSec=t);for(m=0;m<i.length;m++)i[m].streamingInfo.selected&&i[m].streamingInfo.sourceBuffer&&!1===i[m].streamingInfo.sourceBuffer.contains(t)&&(i[m].streamingInfo.pendingSeekPositionInSec=t,i[m].streamingInfo.abortCurrentRequest=!0,i[m].streamingInfo.sourceBuffer.flushFrom(),o=!0,2===i[m].streamingInfo.workflowState&&(i[m].streamingInfo.workflowState=0));this._checkMediaWorkflow(),o||this._buffersAbovePreroll()||this._endOfSelectedStreams()||(o=!0),o&&(n.videoTag.paused||(this._pendingPlay=!0,n.eventMgr.dispatchEvent(e.EventName.waiting),n.videoTag.pause()))},Object.defineProperty(r.prototype,"currentTime",{get:function(){var e=this._sessionContext.videoTag,t=0;return this._sessionContext.commonPresentation&&(t=null!==this._pendingPlaybackPosInSec?this._manifestRefreshed?e.currentTime:this._pendingPlaybackPosInSec:e.currentTime,t=Math.max(this._fromPresentationTime(t),0)),t},set:function(t){e.Log.verbose(1,"currentTime("+t.toFixed(3)+")"),this.setCurrentTimeInternal(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentMediaTime",{get:function(){var e=this._sessionContext.videoTag,t=0;if(this._sessionContext.commonPresentation){var r=this._sessionContext.commonPresentation.periods[0].streams;if(r&&r[0]){var n=r[0].presentationTimeOffsetInSec;t=null!==this._pendingPlaybackPosInSec?this._pendingPlaybackPosInSec:e.currentTime,t-=n}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"downloadBitrate",{get:function(){return this._lastDownloadBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"playbackBitrate",{get:function(){return this._lastPlaybackBitrate},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"autoplay",{set:function(t){e.Log.verbose(1,"autoplay("+t+")"),this._pendingPlay=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"duration",{get:function(){var e=this._sessionContext,t=e.commonPresentation,r=1/0;if(t){var n=t.playableWindow;r=n.endInSec-n.startInSec}return Math.min(e.videoTag.duration||0,r)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"buffered",{get:function(){var t=null;if(this._mediaSource){var r=this._sessionContext.commonPresentation.playableWindow;(t=new e.Common.TimeRangeSet).addRanges(this._mediaSource.buffered),t.rebase(r.startInSec)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),r.prototype.play=function(){e.Log.verbose(1,"play()");var t=this._sessionContext,r=t.heuristicSettings.buffer.leftEdgeBackoffInSec,n=t.videoTag;if(this._mediaSource){0===this._mediaSource.readyState&&n.load();var i;t.commonPresentation&&t.commonPresentation.isLive&&n.paused&&!n.seeking&&(i=this._fromPresentationTime(n.currentTime))<r&&(e.Log.verbose(1,"play: skipping from "+n.currentTime+"(playable window time: "+i+") to left edge: "+r+", playable window start: "+t.commonPresentation.playableWindow.startInSec),this.currentTime=0),n.paused&&e.Common.diffTimes(n.currentTime,n.duration)<=0&&(this.currentTime=0),this._buffersAbovePreroll()||this._endOfSelectedStreams()?this._startPlayback():(this._pendingPlay=!0,t.eventMgr.dispatchEvent(e.EventName.waiting)),this._resetHealthCheckTime()}else this._pendingPlay=!0},r.prototype.pause=function(){var t=this._sessionContext;e.Log.verbose(1,"pause()"),this._pendingPlay&&(this._pendingPlay=!1),t.videoTag.pause(),this._tryTimeUpdateEvent()},r.prototype._presentationWorkflowAsync=function(t,n){function i(){s._disposed||(!s._sessionContext.commonPresentation||s._sessionContext.commonPresentation.isLive)&&s._workflowSeq.presentationRequestAsync().then(o,a).catch(function(t){s._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,t)})}function o(o){if(s._disposed)n&&n(o);else{e.Log.verbose(1,"presentationRequestResolved");var a=o.sessionContext.commonPresentation;if(null===a)throw new Error("presentationRequestResolved: unexpected null values");s._updateDuration();var l=new Date;if(a.isLive&&a.minimumUpdatePeriodInSec>0&&s._pendingPresentation<=l){var u=Math.max(r._minPresentationUpdatePeriodInMSec,1e3*a.minimumUpdatePeriodInSec);s._pendingPresentation.setTime(l.getTime()+u),e.Util.setTimeout(i,u)}s._lastPresentation=l,s._manifestRefreshed=!0,t&&(t(o),t=null)}}function a(t){s._disposed||e.Log.error(1,"presentationRequestRejected:  module: "+t.currentModuleId),n&&n(t)}var s=this,l=0,u=Date.now()-s._lastPresentation.getTime();u<r._minPresentationUpdatePeriodInMSec&&(l=r._minPresentationUpdatePeriodInMSec-u),e.Util.setTimeout(i,l)},r.prototype._checkMediaWorkflow=function(){function t(){if(!o._disposed){e.Log.verbose(1,"_doCheckMediaWorkflow"),o._pendingTryMediaRequestCount--,a.videoTag.paused||o._endOfSelectedStreams()||!o._buffersNearEmpty()?o._buffersAbovePreroll()&&(o._dispatchCanPlayThroughEvent(),o._pendingPlay&&(e.Log.verbose(1,"_doCheckMediaWorkflow: we have a pending play. Starting the playback."),o._startPlayback())):(e.Log.verbose(1,"_doCheckMediaWorkflow: pausing play because the buffer is close to empty"),o._pendingPlay=!0,a.videoTag.pause(),a.eventMgr.dispatchEvent(e.EventName.waiting));for(var s=!1,l=0;l<a.commonPresentation.periods[0].streams.length;l++){var u=a.commonPresentation.periods[0].streams[l];if(u.streamingInfo.selected&&0===u.streamingInfo.workflowState){var c=u.streamingInfo.sourceBuffer,d=o._isBufferAheadOtherStreams(u),p=c&&u.streamingInfo.sourceBuffer.bufferFull(o._sessionContext.playbackRate()),h=o._buffersAtLiveEdge(u);!c||d||p||h?(e.Log.verbose(1,"_doCheckMediaWorkflow: need to retry. Stream type: "+e.Presentation.StreamType[u.type]+", sourcebuffer:"+c+", buffer is ahead of other streams: "+d+", buffer is full: "+p+", buffer is at live edge: "+h),s=!0):(e.Log.verbose(1,"starting media workflow "+e.Presentation.StreamType[u.type]),u.streamingInfo.workflowState=1,o._workflowSeq.mediaRequestAsync(u).then(n,i).catch(function(t){a.eventMgr.dispatchEvent(e.InternalEventName.exception,t)}))}else e.Log.verbose(1,"_doCheckMediaWorkflow: Stream skipped. Stream type: "+e.Presentation.StreamType[u.type]+", selected: "+u.streamingInfo.selected+", workflowState: "+u.streamingInfo.workflowState)}s&&0===o._pendingTryMediaRequestCount&&(o._pendingTryMediaRequestCount++,e.Log.verbose(1,"_doCheckMediaWorkflow: schedule try again. Pending try count = "+o._pendingTryMediaRequestCount),e.Util.setTimeout(t,r._mediaSegmentTimeoutInMSec))}}function n(t){if(!o._disposed){o._manifestRefreshed=!1;var r=t.requestedStream;r.streamingInfo.workflowState=0,1===t.state&&null===r.streamingInfo.pendingSeekPositionInSec&&(e.Log.verbose(1,"mediaRequestResolved: "+e.Presentation.StreamType[r.type]+" end of stream"),r.streamingInfo.workflowState=2,o._endOfSelectedStreams()&&(e.Log.verbose(1,"End of selected streams"),o._mediaSource.endOfStream(),o._dispatchCanPlayThroughEvent(),o._pendingPlay&&o._startPlayback()));for(l=0;l<t.urlsToRetrieve.length;l++){if(null===t.urlsToRetrieve[l].mediaData)throw new Error("mediaRequestResolved: data is null url: "+t.urlsToRetrieve[l].url);if(r.streamingInfo){if(!r.streamingInfo.selected||null!==r.streamingInfo.pendingSeekPositionInSec){e.Log.verbose(1,"mediaRequestResolved discarding,"+(r.streamingInfo.selected?"seek in progress":"stream no longer selected ")+"url: "+t.urlsToRetrieve[l].url+"("+t.urlsToRetrieve[l].httpResposeContentType+", "+t.urlsToRetrieve[l].mediaData.byteLength+")");break}var n=t.urlsToRetrieve[l].presTimeInSec+t.urlsToRetrieve[l].durationInSec;e.Log.verbose(1,"mediaRequestResolved appending url: "+t.urlsToRetrieve[l].url+"("+t.urlsToRetrieve[l].httpResposeContentType+", "+t.urlsToRetrieve[l].mediaData.byteLength+" bytes, "+n+" secs)"),r.streamingInfo.sourceBuffer.append(t.urlsToRetrieve[l].mediaData,t.urlsToRetrieve[l].presTimeInSec,t.urlsToRetrieve[l].durationInSec)}}if(null!==o._pendingPlaybackPosInSec){for(var i=a.videoTag.buffered,s=!1,l=0;l<i.length;l++)if(i.start(l)<=o._pendingPlaybackPosInSec&&o._pendingPlaybackPosInSec<i.end(l)){s=!0;break}s&&(a.videoTag.currentTime=o._pendingPlaybackPosInSec,e.Common.diffTimes(a.videoTag.currentTime,o._pendingPlaybackPosInSec)&&(o._pendingPlaybackPosInSec>a.videoTag.currentTime&&o._seekingForward||o._pendingPlaybackPosInSec<a.videoTag.currentTime&&!o._seekingForward)?e.Log.verbose(1,"mediaRequestResolved failed to update videoTag currentTime: pending="+o._pendingPlaybackPosInSec+", actual="+a.videoTag.currentTime+", _seekingForward="+o._seekingForward):o._pendingPlaybackPosInSec=null)}o._checkMediaWorkflow(),t.dispose()}}function i(t){if(!o._disposed){o._manifestRefreshed=!1;var r=t.requestedStream;if(e.Log.error(1,"mediaRequestRejected: "+e.Presentation.StreamType[t.requestedStream.type]+" module: "+t.currentModuleId),t.externalFailure){if((2097556===t.externalFailure.code||1===t.externalFailure.code)&&t.sessionContext.commonPresentation.isLive&&0===t.sessionContext.commonPresentation.minimumUpdatePeriodInSec&&t.failTracker.isNone())return void o._presentationWorkflowAsync(function(t){if(!o._disposed){if(e.Log.verbose(1,"refreshPresentationWorkflowResolved"),null===t.sessionContext.commonPresentation)throw new Error("refreshPresentationWorkflowResolved: unexpected null values");r.streamingInfo.workflowState=0,o._checkMediaWorkflow(),t.dispose()}},function(t){o._disposed||(e.Log.error(1,"refreshPresentationWorkflowRejected:  module: "+t.currentModuleId),t.externalFailure&&e.Failure.isExternalError(t.externalFailure.code)&&(o._error=new e.Failure.External(t.externalFailure.code,t.externalFailure.message),e.Log.error(1,"Dispatching error: "+o.error.toString()),t.sessionContext.eventMgr.dispatchEvent(e.EventName.error)),t.dispose())});e.Failure.isExternalError(t.externalFailure.code)&&(o._error=new e.Failure.External(t.externalFailure.code,t.externalFailure.message),e.Log.error(1,"Dispatching error: "+o.error.toString()),a.eventMgr.dispatchEvent(e.EventName.error))}t.dispose()}}var o=this,a=o._sessionContext;this._pendingTryMediaRequestCount++,e.Util.setTimeout(t,0)},r.prototype._updateStartPosition=function(){var e=this._sessionContext,t=e.commonPresentation,r=e.liveStartBufferInSec(),n=1/0;t&&isNaN(e.startPositionInSec)&&0!==(n=t.isLive?Math.max(t.playableWindow.startInSec,t.playableWindow.endInSec-r):t.playableWindow.startInSec)&&(this._mediaSource.setStartTime(n),e.startPositionInSec=n)},r.prototype._updateDuration=function(){var t,r=this._sessionContext.commonPresentation;if(r&&this._mediaSource){if(r.isLive)t=1/0;else if(this._sessionContext.isLiveToVod){if(t=r.playableWindow.endInSec,e.Common.isChrome){var n=Math.floor(1e6*t)/1e6;t=parseFloat(n.toFixed(6)),e.Log.verbose(1,"newDuration: "+t)}}else t=r.durationInSec;if(this._mediaSource.durationInSec!==t)try{this._mediaSource.durationInSec=t}catch(t){e.Log.warning(1,"ignoring set durationInSec error: "+t)}}},r.prototype._toPresentationTime=function(e){return e+this._sessionContext.commonPresentation.playableWindow.startInSec},r.prototype._fromPresentationTime=function(e){return e-this._sessionContext.commonPresentation.playableWindow.startInSec},r.prototype._endOfSelectedStreams=function(){if(!this._sessionContext.commonPresentation)return!1;for(var e=this._sessionContext.commonPresentation.periods[0].streams,t=0;t<e.length;t++)if(e[t].streamingInfo.selected&&2!==e[t].streamingInfo.workflowState)return!1;return!0},r.prototype._buffersAbovePreroll=function(){var e=!0,t=this._sessionContext.videoTag;if(!this._sessionContext.commonPresentation)return!1;var r=this._sessionContext.commonPresentation.periods[0].streams;if(t.readyState<t.HAVE_METADATA)e=!1;else for(var n=0;n<r.length;n++)if(r[n].streamingInfo.selected&&r[n].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.prerollBufferInSec()){e=!1;break}return e},r.prototype._buffersNearEmpty=function(){for(var e=this._sessionContext.commonPresentation.periods[0].streams,t=0;t<e.length;t++)if(e[t].streamingInfo.selected&&e[t].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()<this._sessionContext.lowBufferInSec())return!0;return!1},r.prototype._isBufferAheadOtherStreams=function(e){for(var t=0,n=1/0,i=null,o=0,a=this._sessionContext.commonPresentation.periods[0].streams,s=0;s<a.length;s++)a[s].streamingInfo.selected&&2!==a[s].type&&2!==a[s].streamingInfo.workflowState&&(t++,(l=a[s].streamingInfo.sourceBuffer.buffered).length>0&&l.end(l.length-1)<n&&(n=l.end(l.length-1),i=a[s],o=a[s].streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()));var l=e.streamingInfo.sourceBuffer.buffered;return 1!==t&&i!==e&&0!==l.length&&(e.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()>o&&l.end(l.length-1)-n>r._bufferTooFarAheadInSec)},r.prototype._buffersAtLiveEdge=function(e){var t,r,n,i=this._sessionContext.commonPresentation;return!!e.streamingInfo.currentSegment&&(t=e.streamingInfo.currentSegment.segmentInfo,r=t.presTimeInSec+t.durationInSec,n=i.playableWindow.endInSec,i.isLive&&0===i.minimumUpdatePeriodInSec&&r>=n)},r.prototype._startPlayback=function(){var t=this._sessionContext.videoTag,n=this._dtOffsetToAdd;t.buffered&&t.buffered.length>0&&t.currentTime<t.buffered.start(0)&&(e.Common.isSafari&&e.Common.isOSXElCapitanOrEarlier()&&(n+=r._startTimeThresholdInSecForSafari),t.currentTime=t.buffered.start(0)+n,e.Log.verbose(1,"_startPlayback: skipping over missing data at the beginning. currentTime: "+t.currentTime+", buffer start: "+t.buffered.start(0))),this._pendingPlay=!1,e.Common.videoTagPlay(this._sessionContext.videoTag)},r.prototype._dispatchCanPlayThroughEvent=function(){this._prerollMet||(e.Log.verbose(7,"dispatching event: canplaythrough"),this._prerollMet=!0,this._sessionContext.eventMgr.dispatchEvent(e.EventName.canplaythrough))},r.prototype._registerVideoDownloadedEvents=function(){var t=this,r=this._sessionContext.videoBufferData;r.addEventListener(e.BufferDataEventName.downloadcompleted,function(){if(!t._disposed){var n=r.downloadCompleted.mediaDownload.bitrate;n!=this._lastDownloadBitrate&&(this._lastDownloadBitrate=n,this._sessionContext.eventMgr.dispatchEvent(e.EventName.downloadbitratechanged))}},this)},r.prototype._registerVideoTagEvents=function(t){var r=this._sessionContext.videoTag;t?(r.addEventListener(e.EventName.canplaythrough,this._canPlayThroughEvent),r.addEventListener(e.EventName.durationchange,this._durationChangeEvent),r.addEventListener(e.EventName.playing,this._resetHealthCheckTimeHandler),r.addEventListener(e.EventName.seeked,this._resetHealthCheckTimeHandler),r.addEventListener(e.EventName.timeupdate,this._checkPlaybackBitrate)):(r.removeEventListener(e.EventName.canplaythrough,this._canPlayThroughEvent),r.removeEventListener(e.EventName.durationchange,this._durationChangeEvent),r.removeEventListener(e.EventName.playing,this._resetHealthCheckTimeHandler),r.removeEventListener(e.EventName.seeked,this._resetHealthCheckTimeHandler),r.removeEventListener(e.EventName.timeupdate,this._checkPlaybackBitrate))},r.prototype._registerInternalEvents=function(t){t?this._sessionContext.eventMgr.addHandler(e.InternalEventName.flushvideo,this._flushVideoToPreroll,this):this._sessionContext.eventMgr.removeHandler(e.InternalEventName.flushvideo,this._flushVideoToPreroll)},r.prototype._periodicHealthCheck=function(t){if(t._sessionContext&&t._sessionContext.videoTag){var n=t._sessionContext.videoTag;if(t._healthCheckLastTime)if(n.paused||n.seeking||n.ended||t._healthCheckLastTime!==n.currentTime)t._healthCheckRetries=0,t._healthCheckPeriodInMSec=r._healthCheckPeriodMinInMSec;else{e.Log.verbose(1,"Health Check: currentTime stopped"),t._sessionContext.eventMgr.dispatchEvent(e.EventName.playbackstalled);var i,o=n.currentTime,a=-1,s=new e.Common.TimeRangeSet;if(s.addRanges(n.buffered),(i=s.getIndexByInRangeTimestamp(o))>=0&&(s.beforeDiscontinuity(o,i)?(a=s.start(i+1),e.Log.verbose(1,"Health Check: skipping over discontinuity")):s.atOrAfterDiscontinuity(o,i)&&(a=s.start(i),e.Log.verbose(1,"Health Check: resetting on discontinuity"))),0>a&&(a=o+r._healthCheckSkipInSec,e.Log.verbose(1,"Health Check: skipping "+r._healthCheckSkipInSec+" seconds ahead"),t._healthCheckPeriodInMSec+=r._healthCheckPeriodIncrementInMSec,t._healthCheckPeriodInMSec=Math.min(t._healthCheckPeriodInMSec,r._healthCheckPeriodMaxInMSec)),e.Log.verbose(1,"Health Check: seeking from "+o+" to "+a),n.currentTime=a,-2===i){t._healthCheckRetries++;var l=t._sessionContext.commonPresentation.isLive;(!l||l&&t._healthCheckRetries>=r._healthCheckMaxRetries)&&t.pause()}}t._healthCheckLastTime=n.currentTime}t._healthCheckId=e.Util.setTimeout(t._periodicHealthCheck,t._healthCheckPeriodInMSec,t)},r.prototype._resetHealthCheckTime=function(){this._disposed||(this._healthCheckLastTime=0)},r.prototype._flushVideoToPreroll=function(){var t=this._sessionContext.commonPresentation.periods[0].streams,r=t.filter(function(e){return!0===e.streamingInfo.flushStream});0===r.length&&(r=t);for(var n=0;n<r.length;n++){var i=r[n].streamingInfo;0===r[n].type&&i.selected&&function(t,r){var n=r.prerollBufferInSec(),o=r.videoTag.currentTime+Math.max(n,1.5*t.maxSegmentDuration),a=null;i.flushStream=!1;var s=t.segments.getByInSegmentTimestamp(o);s?a=s.segmentInfo.presTimeInSec:(s=t.segments.getByInDiscontinuityTimestamp(o))&&(a=s.segmentInfo.presTimeInSec),null!=a&&i.sourceBuffer&&i.sourceBuffer.contains(a)&&(e.Log.verbose(7,"flushing at "+a+" from track selection"),i.sourceBuffer.flushFrom(a),i.pendingSeekPositionInSec=a,2===t.streamingInfo.workflowState&&(t.streamingInfo.workflowState=0))}(r[n],this._sessionContext)}this._checkMediaWorkflow()},r.prototype._tryTimeUpdateEvent=function(){function t(){n.disposed||n.videoTag.paused&&n.commonPresentation&&n.commonPresentation.isLive&&(n.eventMgr.dispatchEvent(e.EventName.timeupdate),e.Util.setTimeout(t,r._timeupdateLivePausedIntervalInMSec))}if(!this._disposed){var n=this._sessionContext;t()}},r._mediaSegmentTimeoutInMSec=2e3,r._minPresentationUpdatePeriodInMSec=1e3,r._bufferTooFarAheadInSec=4,r._timeupdateLivePausedIntervalInMSec=1e3,r._durationChangeMinIntervalInMSec=1e3,r._healthCheckPeriodMinInMSec=1e3,r._healthCheckPeriodMaxInMSec=5e3,r._healthCheckPeriodIncrementInMSec=2e3,r._healthCheckSkipInSec=.5,r._healthCheckMaxRetries=2,r._startTimeThresholdInSecForSafari=.2,r._timeSpentSettingVideoElementSrcThresholdInMs=100,r}()}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},AzureHtml5JS;!function(e){!function(t){"use strict";t.CreatePresentation=function(){return new n},t.CreateMedia=function(){return new i};var r=function(){function t(t){this._eventManager=new e.Events.Manager,this._eventsOrdered=t,this._stepList=[]}return t.prototype.dispose=function(){this._eventManager.dispose(),this._eventManager=null,this._eventsOrdered=null,this._stepList=null},t.prototype.addHandler=function(e,t,r){this._eventManager.addHandler(e,t,r)},t.prototype.createSteps=function(){var e=this,t=0;for(var r in this._eventsOrdered)this._eventManager.getHandlers(this._eventsOrdered[r]).forEach(function(r){e._stepList[t++]=r})},Object.defineProperty(t.prototype,"stepList",{get:function(){return this._stepList},enumerable:!0,configurable:!0}),t}(),n=function(e){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(r),i=function(e){function t(){var t=[this.stepEvents.requestBegin,this.stepEvents.requestSend,this.stepEvents.dataRetrieved,this.stepEvents.requestEnd];e.call(this,t)}return __extends(t,e),Object.defineProperty(t.prototype,"stepEvents",{get:function(){return{requestBegin:"requestBegin",requestSend:"requestSend",dataRetrieved:"dataRetrieved",requestEnd:"requestEnd"}},enumerable:!0,configurable:!0}),t}(r)}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";t.CreateSequencer=function(e){return new r(e)};var r=function(){function r(t){this._disposed=!1,this._sessionContext=t,this._orderedModules=[new e.DataRetriever.HttpRetryPolicy,new e.SegmentLocator.Dash,new e.Heuristics.InitialBandwidthDataUrlFormatter,new e.Heuristics.WindowSizeRule,new e.Heuristics.StepRule,new e.Heuristics.Engine,new e.UrlBuilder.DashUrlFormatter,new e.DataRetriever.HttpDataRetriever(t),new e.DashPresentation.Parser,new e.ContentProtection.PlayReady,new e.ContentProtection.Widevine,new e.ContentProtection.AesHandler,new e.DashMediaSegment.Parser,new e.Presentation.InitialStreamSelector,new e.Ad.AdHandler],this._createWorkflows(t)}return r.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._orderedModules.forEach(function(e){e.dispose()}),this._orderedModules=null,this._sessionContext=null)},r.prototype.presentationRequestAsync=function(){var t=this,r=this;return new Promise(function(n,i){var o=new e.Context.Request(0,r._sessionContext);o.urlsToRetrieve.push(new e.Context.UrlRequest(r._sessionContext.presentationUrl)),t._processSteps(o,n,i)})},r.prototype.mediaRequestAsync=function(t){var r=this;return new Promise(function(n,i){var o=new e.Context.Request(1,r._sessionContext);o.requestedStream=t,o.heuristicData=new e.Context.HeuristicData(t),r._processSteps(o,n,i)})},r.prototype._processSteps=function(t,r,n){function i(){if(s._disposed||t.disposed||t.sessionContext.disposed)n();else{if(l===t.sessionContext.workflows[t.workflowType].stepList.length)return 1===t.workflowType?e.Log.verbose(0,"Finished process steps for "+e.Presentation.StreamType[t.requestedStream.type]+" media workflow"):e.Log.verbose(0,"Finished process steps for presentation workflow"),void r(t);var i=t.sessionContext.workflows[t.workflowType].stepList[l],u=i.functionHandler.call(i.callerInstance,t);l++,u.then(o,a)}}function o(){switch(t.state){case 0:e.Util.setTimeout(i,0);break;case 2:l=0,e.Util.setTimeout(i,t.retryWaitTimeMSec),t.reset();break;case 1:r(t);break;default:throw new Error("processSteps unexpected state"+t.state)}}function a(r){if(null!==t.externalFailure){var i="stepRejected: "+t.externalFailure.toString();r&&(i+="err: "+r),e.Log.error(0,i),n(t)}else t.sessionContext.eventMgr.dispatchEvent(e.InternalEventName.exception,r)}var s=this;1===t.workflowType?e.Log.verbose(0,"Starting process steps for "+e.Presentation.StreamType[t.requestedStream.type]+" media workflow"):e.Log.verbose(0,"Starting process steps for presentation workflow");var l=0;e.Util.setTimeout(i,0)},r.prototype._createWorkflows=function(e){e.workflows=[t.CreatePresentation(),t.CreateMedia()],this._orderedModules.forEach(function(t){t.init(e)}),this._sessionContext.workflows.forEach(function(e){e.createSteps()})},r}()}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){"use strict";var t=function(){function e(){}return e.volumechange="volumechange",e.ended="ended",e.timeupdate="timeupdate",e.durationchange="durationchange",e.pause="pause",e.play="play",e.playing="playing",e.seeking="seeking",e.seeked="seeked",e.suspend="suspend",e.loadstart="loadstart",e.loadedmetadata="loadedmetadata",e.loadeddata="loadeddata",e.fullscreenchange="fullscreenchange",e.waiting="waiting",e.canplaythrough="canplaythrough",e.error="error",e.playbackstalled="playbackstalled",e.downloadbitratechanged="downloadbitratechanged",e.playbackbitratechanged="playbackbitratechanged",e.ratechange="ratechange",e.spliceWaiting="splicewaiting",e}();e.EventName=t;var r=function(){function e(){}return e.trackselected="trackselected",e}();e.StreamEventName=r;var n=function(){function e(){}return e.streamselected="streamselected",e.streamindexinvalid="streamindexinvalid",e.streamselectnotsupported="streamselectnotsupported",e}();e.StreamListEventName=n;var i=function(){function e(){}return e.downloadrequested="downloadrequested",e.downloadcompleted="downloadcompleted",e.downloaddecrypted="downloaddecrypted",e.downloadfailed="downloadfailed",e}();e.BufferDataEventName=i,function(e){e[e.abortedErrStart=1048576]="abortedErrStart",e[e.abortedErrUnknown=1048576]="abortedErrUnknown",e[e.abortedErrNotImplemented=1048577]="abortedErrNotImplemented",e[e.abortedErrHttpMixedContentBlocked=1048578]="abortedErrHttpMixedContentBlocked",e[e.abortedErrEnd=2097151]="abortedErrEnd",e[e.networkErrStart=2097152]="networkErrStart",e[e.networkErrUnknown=2097152]="networkErrUnknown",e[e.networkErrHttpResponseBegin=2097552]="networkErrHttpResponseBegin",e[e.networkErrHttpBadUrlFormat=2097552]="networkErrHttpBadUrlFormat",e[e.networkErrHttpUserAuthRequired=2097553]="networkErrHttpUserAuthRequired",e[e.networkErrHttpUserForbidden=2097555]="networkErrHttpUserForbidden",e[e.networkErrHttpUrlNotFound=2097556]="networkErrHttpUrlNotFound",e[e.networkErrHttpNotAllowed=2097557]="networkErrHttpNotAllowed",e[e.networkErrHttpGone=2097562]="networkErrHttpGone",e[e.networkErrHttpPreconditionFailed=2097564]="networkErrHttpPreconditionFailed",e[e.networkErrHttpInternalServerFailure=2097652]="networkErrHttpInternalServerFailure",e[e.networkErrHttpBadGateway=2097654]="networkErrHttpBadGateway",e[e.networkErrHttpServiceUnavailable=2097655]="networkErrHttpServiceUnavailable",e[e.networkErrHttpGatewayTimeout=2097656]="networkErrHttpGatewayTimeout",e[e.networkErrHttpResponseEnd=2097751]="networkErrHttpResponseEnd",e[e.networkErrTimeout=2097752]="networkErrTimeout",e[e.networkErrError=2097753]="networkErrError",e[e.networkErrAbort=2097754]="networkErrAbort",e[e.networkErrEnd=3145727]="networkErrEnd",e[e.decodeErrStart=3145728]="decodeErrStart",e[e.decodeErrUnknown=3145728]="decodeErrUnknown",e[e.decodeErrEnd=4194303]="decodeErrEnd",e[e.srcErrStart=4194304]="srcErrStart",e[e.srcErrUnknown=4194304]="srcErrUnknown",e[e.srcErrParsePresentation=4194305]="srcErrParsePresentation",e[e.srcErrParseSegment=4194306]="srcErrParseSegment",e[e.srcErrUnsupportedPresentation=4194307]="srcErrUnsupportedPresentation",e[e.srcErrInvalidSegment=4194308]="srcErrInvalidSegment",e[e.srcErrLiveNoChunks=4194309]="srcErrLiveNoChunks",e[e.srcErrEnd=5242879]="srcErrEnd",e[e.encryptErrStart=5242880]="encryptErrStart",e[e.encryptErrUnknown=5242880]="encryptErrUnknown",e[e.encryptErrDecrypterNotFound=5242881]="encryptErrDecrypterNotFound",e[e.encryptErrDecrypterInit=5242882]="encryptErrDecrypterInit",e[e.encryptErrDecrypterNotSupported=5242883]="encryptErrDecrypterNotSupported",e[e.encryptErrKeyAcquire=5242884]="encryptErrKeyAcquire",e[e.encryptErrDecryption=5242885]="encryptErrDecryption",e[e.encryptErrLicenseAcquire=5242886]="encryptErrLicenseAcquire",e[e.encryptErrCertAcquire=5242887]="encryptErrCertAcquire",e[e.encryptErrEnd=6291455]="encryptErrEnd"}(e.ErrorCode||(e.ErrorCode={})),e.ErrorCode}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";!function(e){e[e.video=0]="video",e[e.audio=1]="audio",e[e.text=2]="text"}(e.StreamType||(e.StreamType={})),e.StreamType,function(e){e[e.playReadySpecificData=0]="playReadySpecificData",e[e.widevineSpecificData=1]="widevineSpecificData",e[e.seaEncryptionSystemId=2]="seaEncryptionSystemId",e[e.seaKeyUri=3]="seaKeyUri",e[e.seaIV=4]="seaIV"}(e.ContentProtectionDataType||(e.ContentProtectionDataType={})),e.ContentProtectionDataType}(e.Presentation||(e.Presentation={})),e.Presentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";!function(e){e[e.closed=0]="closed",e[e.open=1]="open",e[e.ended=2]="ended"}(e.ReadyState||(e.ReadyState={})),e.ReadyState}(e.VideoElementAdapter||(e.VideoElementAdapter={})),e.VideoElementAdapter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";!function(e){e[e.presentation=0]="presentation",e[e.media=1]="media",e[e.max=2]="max"}(e.Type||(e.Type={})),e.Type}(e.Workflow||(e.Workflow={})),e.Workflow}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="AdHandler"}return t.prototype.dispose=function(){},t.prototype.init=function(e){var t=e.workflows[0],r=e.workflows[1];t.addHandler(t.stepEvents.requestEnd,this.onParseScte35InMpd,this),r.addHandler(r.stepEvents.dataRetrieved,this.onGetMediaData,this)},t.prototype.onParseScte35InMpd=function(e){e.currentModuleId=this._moduleId;var t=this;return new Promise(function(r){var n=e.sessionContext.presentationJson;if(t._adSignaledInMpd=!1,n&&n.Period&&n.Period.EventStream_asArray){var i=[];n.Period.EventStream_asArray.forEach(function(e){var r=t.extractAdSignal(e);i=i.concat(r)}),i.length>0&&(t._adSignaledInMpd=!0,t.sendAdSignals(e.sessionContext,i))}r()})},t.prototype.onGetMediaData=function(r){r.currentModuleId=this._moduleId;var n=this;return new Promise(function(i){var o=r.urlsToRetrieve.findFirst(function(e){return 1===e.requestType});if(!o||!o.mediaData)throw new Error(o.url+": no media segment data found");if(r.sessionContext.commonPresentation.isLive){var a=new DataView(o.mediaData),s=e.Mp4Util.GetEmsgBoxes(a);if(s){var l=[];s.forEach(function(n){if(n.schemeIdUrl===t._schemeIdUriScte35||n.schemeIdUrl===t._schemeIdUriSimple){var i=(n.timescale*o.presTimeInSec+n.presentationTimeDelta+r.requestedStream.rawPresentationTimeOffset)/n.timescale;e.Log.verbose(15,"ADSIGNAL: id: "+n.id+", mediaRequest.presTimeInSec: "+o.presTimeInSec+", presentationTimeDelta: "+n.presentationTimeDelta+", rawPresentationTimeOffset: "+r.requestedStream.rawPresentationTimeOffset+", presentationTime = "+i*n.timescale),n.schemeIdUrl===t._schemeIdUriScte35&&n.messageData?n.presentationTimeDelta>0?l.push({scteSignal:{signalInString:n.messageData,presentationTimeOverride:i}}):e.Log.verbose(15,"ADSIGNAL: skipping this one."):n.presentationTimeDelta>0?l.push({simpleSignal:{id:n.id,presentationTime:i,duration:n.eventDuration/n.timescale}}):e.Log.verbose(15,"ADSIGNAL: skipping this one.")}}),l.length>0&&n.sendAdSignals(r.sessionContext,l)}}i()})},t.prototype.extractAdSignal=function(r){var n=[],i=r.timescale;return r.schemeIdUri===t._schemeIdUriScte35?r.Event_asArray.forEach(function(t){var r=t.__text;if(r){var o=t.presentationTime;o&&(o/=i),n.push({scteSignal:{signalInString:r,presentationTimeOverride:o}}),e.Log.verbose(15,"ADSIGNAL mpd: presentationTime: "+o)}}):r.schemeIdUri===t._schemeIdUriSimple&&r.Event_asArray.forEach(function(t){var r=t.presentationTime;r&&(r/=i);var o=t.duration/i,a=t.id;n.push({simpleSignal:{id:a,presentationTime:r,duration:o}}),e.Log.verbose(15,"ADSIGNAL mpd: id: "+a+", presentationTime: "+r+", duration: "+o)}),n},t.prototype.sendAdSignals=function(e,t){e.adManager.addAdSignals(t)},t._schemeIdUriScte35="urn:scte:scte35:2013a:bin",t._schemeIdUriSimple="urn:com:adobe:dpi:simple:2015",t}();t.AdHandler=r}(e.Ad||(e.Ad={})),e.Ad}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="AesHandler",this._disposed=!1,this._decryptor=new e.WebCryptoUtil.Decryptor}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._decryptor&&(this._decryptor.dispose(),this._decryptor=null))},t.prototype.init=function(e){var t=e.workflows[0],r=e.workflows[1];t.addHandler(t.stepEvents.requestEnd,this.onDownloadKey,this),r.addHandler(r.stepEvents.dataRetrieved,this.onDecrypt,this)},t.prototype.onDownloadKey=function(r){var n=this;return r.currentModuleId=this._moduleId,new Promise(function(i,o){function a(){c<u.length?e.Util.setTimeout(s,0,u[c++]):i()}function s(n){if(l._disposed)return e.Failure.attachFailureToRequest(r,r.currentModuleId,0),void o();if(l._decryptor.isInitialized(n.streamingInfo.aes))a();else{var i=t._getAesContentProtectionIndex(n);if(isNaN(i))a();else{var s=n.contentProtections[i],c=s.data(3),d=s.data(4);if(!c||!d)return e.Failure.attachFailureToRequest(r,r.currentModuleId,5242883,"Missing IV or keyUrl"),void o();var p=l._findExistingAesInfo(u,n,c,d);if(p)return n.streamingInfo.aes=p,void a();var h=r.sessionContext.authenticationTokens[t._tokenId];if(!e.AesUtil.verifyKeyUrlWithToken(c,h))return e.Failure.attachFailureToRequest(r,r.currentModuleId,5242883,"verify AMS hostname failed"),void o();var f=[];h&&h.length>0&&(f[0]={name:e.HttpUtil.authorizationHeader,value:h});var m=Date.now();e.Log.verbose(12,"Starting AES key acquisition"),e.HttpUtil.httpRequest(c,"POST","arraybuffer",f).then(function(t){l._decryptor.initialize(n.streamingInfo.aes,t,e.Common.hexStringToUint8Array(d)).then(function(){e.Log.verbose(12,"AES key acquisition in "+(Date.now()-m)+" ms"),a()},function(t){e.Log.error(12,"Failed to initialize decryptor: "),e.Failure.attachFailureToRequest(r,r.currentModuleId,5242882,"AES: "+t),o()})},function(t){e.Log.error(12,"Failed to download AES key url: "+c+", "+e.Common.toHexString(t)),e.Failure.attachFailureToRequest(r,r.currentModuleId,5242884,"Http: "+e.Common.toHexString(t)),o()})}}}var l=n,u=r.sessionContext.commonPresentation.periods[0].streams,c=0;a()})},t.prototype.onDecrypt=function(t){var r=this;return t.currentModuleId=this._moduleId,new Promise(function(n,i){function o(){l<t.urlsToRetrieve.length?e.Util.setTimeout(a,0,t.urlsToRetrieve[l++]):n()}function a(r){if(s._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i();if(r.mediaData){var n=Date.now();s._decryptor.decrypt(u,r.mediaData).then(function(i){var a=Date.now()-n;e.Log.verbose(12,"AES decrypt data in "+a+" ms, bytes: "+r.mediaData.byteLength+" url: "+r.url),r.mediaData=i,e.StreamUtil.getBufferData(t).dispatchDownloadDecrypted(s._createMediaDownload(t,r)),t.sessionContext.decryptionTracker&&t.sessionContext.decryptionTracker.updateDecryptionSpeedInfo(r.mediaData.byteLength,a/1e3),o()},function(n){e.Log.error(12,"Failed to AES decrypt url: "+r.url+" "+JSON.stringify(n)),e.Failure.attachFailureToRequest(t,t.currentModuleId,5242885,"Failed to AES decrypt segment"),i()})}else o()}var s=r,l=0,u=t.requestedStream.streamingInfo.aes;return s._decryptor.isInitialized(u)?void o():void n()})},t._getAesContentProtectionIndex=function(e){for(var r=e.contentProtections,n=0;n<r.length;n++)if(r[n].data(2)===t._aesCbc128SystemId)return n;return NaN},t.prototype._findExistingAesInfo=function(e,t,r,n){for(var i=0;i<e.length;i++)if(e[i]!==t)for(var o=e[i].contentProtections,a=0;a<o.length;a++){var s=o[a].data(3),l=o[a].data(4);if(s===r&&l===n&&this._decryptor.isInitialized(e[i].streamingInfo.aes))return e[i].streamingInfo.aes}return null},t.prototype._createMediaDownload=function(t,r){var n=t.requestedStream.presentationTimeOffsetInSec,i=t.requestedStream.streamingInfo.currentSegment.segmentInfo,o=2===r.requestType?null:i.mediaTimestamp/i.timescale;return new e.Context.MediaDownload(r.url,t.selectedTrack.bitrate,o,r.mediaData,n,i.timescale)},t._aesCbc128SystemId="urn:mpeg:dash:sea:aes128-cbc:2013",t._tokenId="AES",t}();t.AesHandler=r}(e.ContentProtection||(e.ContentProtection={})),e.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(t,r){this._bandwidthSettings=t,this._decryptionTracker=r,this._averageCalc=new e.Util.AverageCalculator(this._bandwidthSettings.minBandwidthHistoryCount,this._bandwidthSettings.maxBandwidthHistoryCount)}return Object.defineProperty(t.prototype,"averageBandwidthInKbps",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latestInKbps",{get:function(){return this._averageCalc.latest},enumerable:!0,configurable:!0}),t.prototype.perceivedBandwidth=function(){return 1e3*this._averageCalc.average*this._bandwidthSettings.bandwidthUsabilityPercent},t.prototype.updateBandwidthInfo=function(t,r,n,i){if(e.Log.verbose(5,"updateBandWidthInfo - analyzing bandwidth data: received size="+t.responseLengthInBytes+" bytes, download time="+t.downloadTimeMs+" ms, TOTAL download time="+t.totalDownloadTimeMs+" ms, "+(this._bandwidthSettings.useVariableFragmentSizeMode?"(default mode) ":"")+"bandwidth = "+t.bandwidth+" kbps"),t.responseLengthInBytes<this._bandwidthSettings.bandwidthDataSizeThresholdInBytes)e.Log.verbose(5,"Ignoring bandwidth data, retrieved size "+t.responseLengthInBytes+" is less than the limit "+this._bandwidthSettings.bandwidthDataSizeThresholdInBytes+" bytes");else{if((!r||this._bandwidthSettings.bandwidthTestWithTimeThresholdDuringLive)&&t.downloadTimeMs<this._bandwidthSettings.bandwidthEstimationMinMsec)return e.Log.verbose(5,"Ignoring bandwidth estimation, download time "+Math.floor(t.downloadTimeMs)+" ms is less than configured min "+this._bandwidthSettings.bandwidthEstimationMinMsec+" ms"),void this._averageCalc.dropOldestKeepAtLeastOne();if(t.bandwidth>this._bandwidthSettings.bandwidthEstimationMaxKbps)return e.Log.verbose(5,"Ignoring bandwidth estimation "+Math.floor(t.bandwidth)+" Kbps, greater than configured max "+this._bandwidthSettings.bandwidthEstimationMaxKbps+" Kbps"),void this._averageCalc.dropOldestKeepAtLeastOne();var o;if(this._bandwidthSettings.useVariableFragmentSizeMode){var a=i.requestedStream.streamingInfo.currentSegment?e.StreamUtil.getSegmentDuration(i):n.durationInSec,s=n.bitrate;if(isNaN(s)||0>=s||isNaN(a)||0>=a||t.responseLengthInBytes<=0)return void e.Log.verbose(5,"Ignoring bandwidth estimation, supplied bitrate: "+s+", supplied chunk duration: "+a+", downloaded fragment size: "+t.responseLengthInBytes);var l=s*a;o=l/(t.totalDownloadTimeMs-t.downloadTimeMs+l/(8*t.responseLengthInBytes)*t.downloadTimeMs),e.Log.verbose(5,"updateBandWidthInfo - vfsMode On, vfs bandwidth="+o+"kbps")}else o=t.bandwidth;var u=t.totalDownloadTimeMs;this._averageCalc.addValue(o),e.Log.verbose(5,"updateBandWidthInfo -  currentBw: "+Math.floor(this._averageCalc.latest)+" Kbps averageBw: "+Math.floor(this._averageCalc.average)+" Kbps size: "+t.responseLengthInBytes+" bytes time-taken: "+u+" ms")}},t.prototype.reportHeuristicsData=function(t,r){var n=this.perceivedBandwidth(),i=this._decryptionTracker?this._decryptionTracker.averageDecryptionSpeed:1/0;if(e.Log.verbose(5,"averageBW reporting: "+Math.round(n/1e3)+" Kbps decryptionBW: "+Math.round(i/1e3)+" Kbps, chunk duration: "+r),!r)throw new Error("reportHeuristicsData failed, invalid chunkDuration");for(var o=0;o<t.tracksData.length;o++)if(t.tracksData[o].selectable){var a=t.tracksData[o].trackInfo.bitrate*r;if(n){var s=a/n,l=i?a/i:0;t.tracksData[o].dataRetrieverEstimationInWallClockSec=s+l,e.Log.verbose(5,"Estimated time to download "+a+" bits = "+t.tracksData[o].dataRetrieverEstimationInWallClockSec+" s")}else t.tracksData[o].dataRetrieverEstimationInWallClockSec=1/0}},t}();t.BandwidthTracker=r;var n=function(){function t(){this.requestStartTimeInMS=(new Date).getTime(),this.responseStartTimeInMS=null,this.responseEndTimeInMS=null,this.responseLengthInBytes=0}return Object.defineProperty(t.prototype,"totalDownloadTimeMs",{get:function(){return e.assert(this.responseEndTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.totalDownloadTimeMs: unexpected values:"+this.responseEndTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseEndTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"latencyTimeMs",{get:function(){return e.assert(this.responseStartTimeInMS>=this.requestStartTimeInMS,"BandwidthInfo.latencyTimeMs: unexpected values:"+this.responseStartTimeInMS+" should not be < "+this.requestStartTimeInMS),this.responseStartTimeInMS-this.requestStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downloadTimeMs",{get:function(){return e.assert(this.responseEndTimeInMS>=this.responseStartTimeInMS,"BandwidthInfo.downloadTimeMs: unexpected values:"+this.responseEndTimeInMS+" should not be < "+this.responseStartTimeInMS),this.responseEndTimeInMS-this.responseStartTimeInMS||1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bandwidth",{get:function(){return e.assert(this.totalDownloadTimeMs>0,"BandwidthInfo.bandwidth: unexpected value:"+this.totalDownloadTimeMs+" should be > 0"),8*this.responseLengthInBytes/this.totalDownloadTimeMs},enumerable:!0,configurable:!0}),t}();t.BandwidthInfo=n}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="playReady",this._disposed=!1,this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var r=this;return t.currentModuleId=this._moduleId,new Promise(function(n,i){var o=[],a=t.sessionContext.commonPresentation;if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("Disposed");if(r._initial){if(!a)throw new Error("CommonPresentation is empty");a.periods[0].streams.forEach(function(t){for(var r=0;r<t.contentProtections.length;r++){var n=t.contentProtections[r].data(0);if(n){var i=new e.Mp4Util.PsshBox;i.systemId=e.KeySystem.PlayReady.systemId,i.specificData=e.Common.stringToUint8Array(atob(n)),o.push(i)}}}),o.length>0&&t.sessionContext.emeManager.addPsshBoxes(o),r._initial=!1,n()}else n()})},t}();t.PlayReady=r}(e.ContentProtection||(e.ContentProtection={})),e.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="widevine",this._disposed=!1,this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onContentProtected,this)},t.prototype.onContentProtected=function(t){var r=this;return t.currentModuleId=this._moduleId,new Promise(function(n,i){var o=[],a=t.sessionContext.commonPresentation;if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("Disposed");if(r._initial){if(!a)throw new Error("CommonPresentation is empty");a.periods[0].streams.forEach(function(r){for(var n=0;n<r.contentProtections.length;n++){var i=r.contentProtections[n].data(1);if(i){var a=e.Common.stringToUint8Array(atob(i)),s=new DataView(a.buffer),l=e.Mp4Util.GetPsshBoxes(s);if(1!=l.length)throw new Error("Each cenc:pssh element should contain a 'pssh' box");o.push(l[0])}r.contentProtections[n].laUrl&&t.sessionContext.emeManager.addLaUrl(e.KeySystem.Widevine.systemId,r.contentProtections[n].laUrl)}}),o.length>0&&t.sessionContext.emeManager.addPsshBoxes(o),r._initial=!1,n()}else n()})},t}();t.Widevine=r}(e.ContentProtection||(e.ContentProtection={})),e.ContentProtection}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="DashMediaSegmentParser"}return t.prototype.dispose=function(){},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.dataRetrieved,this.onGetData,this)},t.prototype.onGetData=function(t){function r(){var r,o,a,s,l,u,c,d;d=t.requestedStream.streamingInfo.currentSegment;var p=t.urlsToRetrieve.findFirst(function(e){return 1===e.requestType});if(!p||!p.mediaData)throw new Error(p.url+": no media segment data found");if(r=new DataView(p.mediaData),!(o=e.Mp4Util.GetBoxByType(r,"moof")))return new n(4194306,"moof not found");if(!(a=e.Mp4Util.GetBoxByType(o.data,"traf")))return new n(4194306,"traf not found");if(!(s=e.Mp4Util.GetTfhdBox(a.data)))return new n(4194306,"tfhd not found");if(!(l=e.Mp4Util.GetTrunBox(a.data)))return new n(4194306,"trun not found");if(!(u=e.Mp4Util.GetTfdtBox(a.data)))return new n(4194306,"tfdt not found");if(e.Common.diffTimes(u.baseMediaDecodeTime,d.segmentInfo.mediaTimestamp))throw new Error("Segment mismatch, requested: "+d.segmentInfo.mediaTimestamp+" got: "+u.baseMediaDecodeTime);return 0===(c=i(s,l))?new n(4194308,"failed to derive segment duration"):(e.Log.verbose(10,"Segment duration: "+c),t.requestedStream.segments.updateSegmentDuration(d.segmentInfo.presTimeInSec,c)?(d.segmentInfo.mediaDuration=c,p.durationInSec=d.segmentInfo.durationInSec,null):new n(4194308,"failed to update segment duration in container"))}function i(t,r){var n=0;return r.flags&e.Mp4Util.TrunBox.flags_sampleDurationPresent?r.sampleInfoArray.forEach(function(e){n+=e.sampleDuration}):t.defaultSampleDuration?n=t.defaultSampleDuration*r.sampleCount:e.Log.warning(10,"Cannot calculate segment duration from 'tfhd' and 'trun'"),n}function o(){var r=t.requestedStream,n=r.streamingInfo.currentSegment.segmentInfo,i=r.segments;n.mediaDuration&&i.addMediaSegmentInfo(n.index+1,e.Timestamp.add(n.mediaTimestampStr,n.mediaDuration),NaN,n.presentationOffset,n.timescale)}return t.currentModuleId=this._moduleId,new Promise(function(n,i){var a;if(a=t.requestedStream.streamingInfo.currentSegment,!t.sessionContext.commonPresentation.isLive||t.sessionContext.commonPresentation.minimumUpdatePeriodInSec||a.next)n();else{if(!a.segmentInfo.mediaDuration){var s=r();if(s)return e.Failure.attachFailureToRequest(t,t.currentModuleId,s.errorCode,s.message),void i()}o(),n()}})},t}();t.Parser=r;var n=function(){return function(e,t){this.errorCode=e,this.message=t}}()}(e.DashMediaSegment||(e.DashMediaSegment={})),e.DashMediaSegment}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},AzureHtml5JS;!function(e){!function(t){"use strict";function r(e){var t;if(!("schemeIdUri"in e))throw new Error("ContentProtection missing @schemeIdUri");return(t=e.schemeIdUri).toLowerCase()===u.schemeIdUri?new u(e):t.toLowerCase()===c.schemeIdUri?new c(e):t.toLowerCase()===d.schemeIdUri?new d(e):new p(e)}var n=function(){function t(){this._moduleId="DashPresentationParser"}return t.prototype.dispose=function(){},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.dataRetrieved,this.onParse,this)},t.prototype.onParse=function(r){return r.currentModuleId=this._moduleId,new Promise(function(n,o){var a,s,l;if(!r.urlsToRetrieve[0].presentationData)throw new Error(r.urlsToRetrieve[0].url+": no presentation data found");a=r.sessionContext;var u=t._getPublishTime(r.urlsToRetrieve[0].presentationData);if(u&&a.commonPresentation&&a.commonPresentation.publishTime&&a.commonPresentation.publishTime.getTime()>=Date.parse(u))return e.Log.verbose(4,"skipping MPD parse, not newer than last parsed: "+r.urlsToRetrieve[0].url),void n();if(s=t._getBaseURL(a.presentationUrl),!(l=new i(r.urlsToRetrieve[0].presentationData,s))||!l.periods)return e.Failure.attachFailureToRequest(r,r.currentModuleId,4194305,r.urlsToRetrieve[0].url+": failed to generate DASH presentation"),void o("failed to generate DASH presentation");if(!t._validPresentation(l))return e.Failure.attachFailureToRequest(r,r.currentModuleId,4194307,r.urlsToRetrieve[0].url+": unsupported presentation"),void o("unsupported presentation");var c=l.isLive,d=c&&null!==l.periods[0].streams.findFirst(function(e){return(0===e.type||1===e.type)&&!e.segments});return a.updatePresentation(l),e.Log.verbose(4,"MPD updated. Streaming type: "+(c?"Live":"VOD")),d?(e.Failure.attachFailureToRequest(r,r.currentModuleId,4194309,r.urlsToRetrieve[0].url+": no chunks in the live manifest"),void o("no chunks in this presentation")):void n()})},t._validPresentation=function(t){return 0===t.periods.length||t.periods.length>1?(e.Log.error(4,"invalid period count: "+(t.periods?t.periods.length.toString():"undefined")),!1):!!t.periods[0].streams||(e.Log.error(4,"no streams found"),!1)},t._getPublishTime=function(e){var t,r,n="";return e&&(t=e.match(/<MPD[^>]*>/i))&&t.length>0&&(r=t[0].match(/publishTime="[^"]*/i))&&r.length>0&&(n=r[0].slice(13)),n},t._getBaseURL=function(e){var t,r=e;if(-1!==(t=r.indexOf("?"))&&(r=r.slice(0,t)),-1===(t=r.lastIndexOf("/")))throw new Error(e+": could not derive base URL");return r=r.slice(0,t+1)},t}();t.Parser=n;var i=function(){function t(e,t){var r,n=this,i=[];if(this._lastRetrievalTime=new Date,r=Dash.dependencies.DashParser(),r.debug=new f,r.errHandler=new m,this._manifest=r.parse(e,t),this._manifest){if("Period_asArray"in this._manifest&&this._manifest.Period_asArray.length>0&&this._manifest.Period_asArray.forEach(function(e){i.push(new o(e,n.publishTime,n.isLive))}),this._periods=i,i.length>1)throw new Error("Error parsing MPD: multiple periods not supported");"dynamic"===this._manifest.type&&0===this._manifest.minimumUpdatePeriod&&(this._timeShiftTracker=new h(i,this._manifest.timeShiftBufferDepth))}}return Object.defineProperty(t.prototype,"segmentBoundaries",{get:function(){var e=[];if(this.periods&&this.periods.length>0&&this.periods[0].streams&&this.periods[0].streams.length>0)for(var t=0;t<this.periods[0].streams.length;t++)if(0===this.periods[0].streams[t].type&&this.periods[0].streams[t].segments){for(var r=this.periods[0].streams[t].segments.first;r;)e.push(r.segmentInfo.presTimeInSec),r=r.next;break}return e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._periods&&(this._periods.forEach(function(e){e.dispose()}),this._periods=[]),this._manifest=null,this._lastRetrievalTime=null},Object.defineProperty(t.prototype,"startTime",{get:function(){var e=null;return"availabilityStartTime"in this._manifest&&(e=new Date(this._manifest.availabilityStartTime)),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"publishTime",{get:function(){return"publishTime"in this._manifest?new Date(this._manifest.publishTime):this._lastRetrievalTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLive",{get:function(){return"dynamic"===this._manifest.type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minimumUpdatePeriodInSec",{get:function(){return this._manifest.minimumUpdatePeriod},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationInSec",{get:function(){var e=0;return"mediaPresentationDuration"in this._manifest&&(e=this._manifest.mediaPresentationDuration),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeShiftBufferDepth",{get:function(){return this._manifest.timeShiftBufferDepth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"playableWindow",{get:function(){return new e.Common.TimeRange(this._playWindowLeftEdge(),this._playWindowLiveEdge())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var e=0;return this._periods.forEach(function(t){e=Math.max(e,t.maxSegmentDuration)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"periods",{get:function(){return this._periods},enumerable:!0,configurable:!0}),t.prototype.toJson=function(){return this._manifest},t.prototype.transferPresentationState=function(t){var r=t,n=[],i=[];this._manifest=r._manifest,this._lastRetrievalTime=r._lastRetrievalTime,this._timeShiftTracker=r._timeShiftTracker,this.periods.forEach(function(e){n.push(e)}),r.periods.forEach(function(e){i.push(e)});for(var o=0;o<i.length;o++)for(var a=0;a<n.length;a++)if(n[a]&&i[o].startInSec===n[a].startInSec){n[a].transferPeriodState(i[o]),i[o]=null,n[a]=null;break}n=n.filter(function(e){return!!e}),i=i.filter(function(e){return!!e}),n.length>0&&e.Log.verbose(4,"Periods removed from MPD: "+n.length),i.length>0&&e.Log.verbose(4,"Periods added to MPD: "+i.length)},t.prototype.adjustPlayableWindow=function(e){this._timeShiftTracker&&this._timeShiftTracker.adjust(e)},t.prototype.adjustPlayableWindowForChromeSourceDelay=function(e){this._timeShiftTracker&&this._timeShiftTracker.adjustForChromeSourceDelay(e)},t.prototype._playWindowLeftEdge=function(){var e,t=0;return this._timeShiftTracker?this._timeShiftTracker.leftEdge:this._periods&&this._periods.length&&(e=this._periods[0].streams)&&e.length?(e.forEach(function(e){2!==e.type&&e.segments&&e.segments.first&&(t=Math.max(t,e.segments.first.segmentInfo.presTimeInSec))}),t):0},t.prototype._playWindowLiveEdge=function(){var e,t=1/0;return this._timeShiftTracker?this._timeShiftTracker.liveEdge:this._periods&&this._periods.length&&(e=this._periods[0].streams)&&e.length?(e.forEach(function(e){if(2!==e.type&&e.segments&&e.segments.last){var r=e.segments.last.segmentInfo;t=Math.min(t,r.presTimeInSec+(r.durationInSec||0))}}),t):0},t}();t.Mpd=i;var o=function(){function t(e,t,r){var n=this,i=[];this.startInSec="start"in e?e.start:0,"AdaptationSet_asArray"in e&&e.AdaptationSet_asArray.length>0&&e.AdaptationSet_asArray.forEach(function(e){i.push(new a(e,t,r,n.startInSec))}),this._streams=i}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){var e=0;return this._streams.forEach(function(t){e=Math.max(e,t.maxSegmentDuration)}),e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._streams&&(this._streams.forEach(function(e){e.dispose()}),this._streams=[])},t.prototype.transferPeriodState=function(t){var r=[],n=[];this.streams.forEach(function(e){r.push(e)}),t.streams.forEach(function(e){n.push(e)});for(var i=0;i<n.length;i++)for(var o=0;o<r.length;o++)if(r[o]&&n[i].id===r[o].id){r[o].transferStreamState(n[i]),n[i]=null,r[o]=null;break}r=r.filter(function(e){return!!e}),n=n.filter(function(e){return!!e}),r.length>0&&e.Log.verbose(4,"Adaptation Sets removed from period: "+r.length),n.length>0&&e.Log.verbose(4,"Adaptation Sets added to period: "+n.length)},t}();t.Period=o;var a=function(){function t(t,n,i,o){var a=[],l=[];if(this._adaptationSet=t,this.streamingInfo=new e.Presentation.MediaStreamStreamingInfo,"SegmentTemplate"in t&&(this._segmentTemplate=t.SegmentTemplate,"SegmentTimeline"in this._segmentTemplate)){var u,c,d,p;if(u=this._segmentTemplate.SegmentTimeline,c=this._segmentTemplate.timescale?this._segmentTemplate.timescale:1,d=o*c,this._rawPresentationTimeOffset=this._segmentTemplate.presentationTimeOffset?this._segmentTemplate.presentationTimeOffset:0,d-=this._rawPresentationTimeOffset,this._normalizedPtoInSec=d/c,p=new e.Presentation.MediaSegmentInfoContainer(c,d,n,i),"S_asArray"in u){var h,f="0";h=this._segmentTemplate.startNumber?this._segmentTemplate.startNumber:0;for(var m=0;m<u.S_asArray.length;m++){var g,y,v,_;y="t"in(g=u.S_asArray[m])?g.t_str:f,v="r"in g?g.r:0,_=new e.Presentation.SegmentRunEntry(h,y,g.d,d,c,v),p.addMediaSegmentRun(_),h+=v+1,f=e.Timestamp.add(y,g.d*(v+1))}this.segments=p}}"Representation"in t&&t.Representation_asArray.forEach(function(e){a.push(new s(e))}),this._tracks=a.sort(function(e,t){return e.bitrate-t.bitrate}),"ContentProtection"in t&&t.ContentProtection_asArray.forEach(function(e){l.push(r(e))}),this._contentProtections=l}return t.prototype.dispose=function(){this._tracks&&(this._tracks.forEach(function(e){e.dispose()}),this._tracks=[]),this._contentProtections&&(this._contentProtections.forEach(function(e){e.dispose()}),this._contentProtections=[]),this.segments&&(this.segments.dispose(),this.segments=null),this.streamingInfo&&(this.streamingInfo.dispose(),this.streamingInfo=null),this._adaptationSet=null,this._segmentTemplate=null},Object.defineProperty(t.prototype,"codec",{get:function(){var e=this._adaptationSet;return e.mimeType+';codecs="'+function(){var t=e.codecs;if(!t)for(var r=0;r<e.Representation_asArray.length;r++)if(e.Representation_asArray[r].codecs){t=e.Representation_asArray[r].codecs;break}return t}()+'"'},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t;switch(this._adaptationSet.contentType){case"video":t=0;break;case"audio":t=1;break;default:e.Log.error(4,"Stream type not supported: "+this._adaptationSet.contentType)}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){var e=null;return"id"in this._adaptationSet?e=this._adaptationSet.id.toString():(e=this._adaptationSet.codecs,"lang"in this._adaptationSet&&(e+=this._adaptationSet.lang)),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=null;return"lang"in this._adaptationSet&&(e=this._adaptationSet.lang),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initUrlTemplate",{get:function(){var e=null;return"initialization"in this._segmentTemplate&&(e=this._adaptationSet.BaseURL+this._segmentTemplate.initialization),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mediaUrlTemplate",{get:function(){var e=null;return"media"in this._segmentTemplate&&(e=this._adaptationSet.BaseURL+this._segmentTemplate.media),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"presentationTimeOffsetInSec",{get:function(){return this._normalizedPtoInSec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawPresentationTimeOffset",{get:function(){return this._rawPresentationTimeOffset},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentProtections",{get:function(){return this._contentProtections},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSegmentDuration",{get:function(){return this.segments.maxSegmentDuration},enumerable:!0,configurable:!0}),t.prototype.transferStreamState=function(t){var r=[],n=[];this.tracks.forEach(function(e){r.push(e)}),t.tracks.forEach(function(e){n.push(e)});for(var i=0;i<n.length;i++)for(var o=0;o<r.length;o++)if(r[o]&&n[i].id===r[o].id){n[i]=null,r[o]=null;break}r=r.filter(function(e){return!!e}),n=n.filter(function(e){return!!e}),r.length>0&&e.Log.verbose(4,"Representations removed from MPD: "+r.length),n.length>0&&e.Log.verbose(4,"Representations added to MPD: "+n.length),this.segments.update(t.segments)},t}();t.AdaptationSet=a;var s=function(){function t(t){if(!("id"in t))throw new Error("Representation missing @id");if(this._id=t.id,!("bandwidth"in t))throw new Error("Representation missing @bandwidth");this._bitrate=t.bandwidth,this._height=t.height,this._width=t.width,this._codecs=t.codecs,this.streamingInfo=new e.Presentation.MediaTrackStreamingInfo}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._bitrate},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codecs",{get:function(){return this._codecs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){},t}();t.Representation=s;var l=function(){function e(e){if(!("schemeIdUri"in e))throw new Error("ContentProtection missing @schemeIdUri");this.schemeIdUri=e.schemeIdUri,"value_str"in e?this._value=e.value_str:"value"in e&&(this._value=e.value),"id"in e&&(this._id=e.id)}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){},e}();t.BaseContentProtection=l;var u=function(e){function t(t){e.call(this,t),"pro"in t&&(this._specificData=t.pro.__text)}return __extends(t,e),t.prototype.data=function(e){return 0===e?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",t}(l);t.PlayReadyContentProtection=u;var c=function(e){function t(t){e.call(this,t),"pssh"in t&&(this._specificData=t.pssh.__text),"laurl"in t&&(this._laUrl=t.laurl.licenseUrl)}return __extends(t,e),Object.defineProperty(t.prototype,"laUrl",{get:function(){return this._laUrl},enumerable:!0,configurable:!0}),t.prototype.data=function(e){return 1===e?this._specificData:null},t.prototype.dispose=function(){},t.schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",t}(l);t.WidevineContentProtection=c;var d=function(e){function t(t){if(e.call(this,t),"SegmentEncryption"in t&&(this._seaEncryptionSystemId=t.SegmentEncryption.schemeIdUri,"CryptoPeriod"in t)){var r=t.CryptoPeriod;"keyUriTemplate"in r&&(this._keyUri=r.keyUriTemplate),"IV"in r&&(this._iv=r.IV)}}return __extends(t,e),t.prototype.data=function(e){switch(e){case 2:return this._seaEncryptionSystemId;case 3:return this._keyUri;case 4:return this._iv;default:return null}},t.prototype.dispose=function(){},t.schemeIdUri="urn:mpeg:dash:sea:2012",t}(l);t.SegmentEncryptionContentProtection=d;var p=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.data=function(){return null},t.prototype.dispose=function(){},t}(l);t.GenericContentProtection=p;var h=function(){function t(t,r){var n,i=0,o=1/0;t.length&&(n=t[0].streams)&&n.length&&(n.forEach(function(e){2!==e.type&&e.segments&&e.segments.first&&e.segments.last&&(i=Math.max(i,e.segments.first.segmentInfo.presTimeInSec),o=Math.min(o,e.segments.last.segmentInfo.presTimeInSec+e.segments.last.segmentInfo.durationInSec))}),e.Log.verbose(4,"TimeShiftBufferTracker: leftEdge: "+i+" liveEdge: "+o+" duration: "+(o-i)),this._dvrWindowLenInSec=r||1/0,this._leftEdgeReferenceInPresentation=i,this._liveEdgeReferenceInPresentation=o,this._liveEdgeReferenceLocalTime=Date.now())}return Object.defineProperty(t.prototype,"liveEdge",{get:function(){var e=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3;return this._liveEdgeReferenceInPresentation+e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftEdge",{get:function(){var e=(Date.now()-this._liveEdgeReferenceLocalTime)/1e3,t=this._liveEdgeReferenceInPresentation+e;return t-this._leftEdgeReferenceInPresentation<this._dvrWindowLenInSec?this._leftEdgeReferenceInPresentation:t-this._dvrWindowLenInSec},enumerable:!0,configurable:!0}),t.prototype.adjust=function(t){var r=this._liveEdgeReferenceInPresentation+t;return 0>=r?void e.Log.warning(4,"TimeShiftBufferTracker error, ignoring invalid adjustment: "+t):(e.Log.verbose(4,"Adjusting TimeShiftBufferTracker: "+t),void(this._liveEdgeReferenceInPresentation=r))},t.prototype.adjustForChromeSourceDelay=function(t){this._liveEdgeReferenceLocalTime=t,e.Log.verbose(4,"Adjusting TimeShiftBufferTracker: _liveEdgeReferenceLocalTime to "+t)},t}(),f=function(){return function(){this.log=function(t){e.Log.verbose(4,t)}}}(),m=function(){return function(){this.manifestError=function(t){e.Log.error(4,t)}}}()}(e.DashPresentation||(e.DashPresentation={})),e.DashPresentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="DashUrlFormatter"}return t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onUrlFormat,this)},t.prototype.dispose=function(){},t.prototype.onUrlFormat=function(t){return t.currentModuleId=this._moduleId,new Promise(function(r){if(!t.selectedTrack)throw new Error("Selected Track not set");var n=t.requestedStream.id;if(!n)throw new Error("stream id not set");var i=t.selectedTrack.bitrate;if(null===i||void 0===i)throw new Error("incorrect bitrate");var o=t.requestedStream.streamingInfo.currentSegment;if(!o)throw new Error("current segment not selected.");var a=o.segmentInfo.presTimeInSec;if(t.requestedStream.streamingInfo.fetchInitSegment){var s=t.requestedStream.initUrlTemplate;if(!s)throw new Error("initialization url template is not set for the stream");var l=e.Util.UrlFormatter.FormatDashInitUrl(s,i.toString(),t.sessionContext.presentationQueryStr);t.requestedStream.streamingInfo.fetchInitSegment=!1;var u=new e.Context.UrlRequest(l,2,0,n,i,a);t.urlsToRetrieve.push(u)}var c=t.requestedStream.mediaUrlTemplate;if(!c)throw new Error("media url template is not set for the stream");var d=o.segmentInfo.mediaTimestampStr,p=e.Util.UrlFormatter.FormatDashMediaUrl(c,i.toString(),d,t.sessionContext.presentationQueryStr);t.urlsToRetrieve.push(new e.Context.UrlRequest(p,1,0,n,i,a,o.segmentInfo.durationInSec)),r()})},t}();t.DashUrlFormatter=r}(e.UrlBuilder||(e.UrlBuilder={})),e.UrlBuilder}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._averageCalc=new e.Util.AverageCalculator(0,t._maxHistoryCount)}return Object.defineProperty(t.prototype,"averageDecryptionSpeed",{get:function(){return this._averageCalc.average},enumerable:!0,configurable:!0}),t.prototype.updateDecryptionSpeedInfo=function(e,t){var r=8*e/t;this._averageCalc.addValue(r)},t._maxHistoryCount=3,t}();t.DecryptionTracker=r}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="heuristics.Engine",this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestSend,this.onGetIndex,this)},t.prototype.onGetIndex=function(t){function r(){t.selectedTrack!==t.requestedStream.streamingInfo.lastDownloadedTrack&&(t.requestedStream.streamingInfo.fetchInitSegment=!0)}function n(r){var n=t.heuristicData.tracksData;if(!r)throw new Error("findHighestTrack failed, invalid timeEstimationThresholdInSec");e.Log.verbose(8,"Time we have for fragment download: "+r+"s");for(var i=n.length-1;i>=0;i--)if(n[i].selectable&&n[i].dataRetrieverEstimationInWallClockSec*t.sessionContext.playbackRate()<r)return n[i].trackInfo;return null}function i(){for(var e=t.heuristicData.tracksData,r=1/0,n=e.length-1;n>=0;n--){var i=e[n];i.selectable&&(r=Math.min(r,i.dataRetrieverEstimationInWallClockSec))}return r}function o(e){for(var r=t.heuristicData.tracksData,n=null,i=r.length-1;i>=0;i--){var o=r[i];o.selectable&&o.trackInfo.bitrate>e&&(!n||o.trackInfo.bitrate<n.bitrate)&&(n=o.trackInfo)}return n}var a=this;return e.Log.verbose(8,"OnGetIndex"),t.currentModuleId=this._moduleId,new Promise(function(s,l){function u(){r(),s()}if(a._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void l("object is already disposed.");if(t.selectedTrack)u();else{if(0!==t.requestedStream.type)return t.selectedTrack=t.requestedStream.tracks[0],void u();var c=t.heuristicData.tracksData.findFirst(function(e){return!0===e.selectable});if(!c)return t.selectedTrack=t.heuristicData.tracksData[0].trackInfo,void u();t.selectedTrack=c.trackInfo;var d=t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec(),p=5*t.sessionContext.playbackRate();if(t.requestedStream.streamingInfo.currentSegment){p=e.StreamUtil.getSegmentDuration(t);var h=t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodStableBufferLevelPercent;t.sessionContext.maxBufferInSec()*t.sessionContext.heuristicSettings.vodDowngradeBufferLevelPercent>d&&!t.sessionContext.videoTag.paused&&(p*=t.sessionContext.heuristicSettings.belowDowngradeBufferLevelDownloadTimeFactor);var f=n(p);!f&&i()===1/0&&t.requestedStream.streamingInfo.lastDownloadedTrack&&(f=o(t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate)),(!f||d>h&&f.bitrate<t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate)&&t.heuristicData.tracksData.findFirst(function(e){return e.trackInfo===t.requestedStream.streamingInfo.lastDownloadedTrack&&e.selectable})&&(f=t.requestedStream.streamingInfo.lastDownloadedTrack),f&&(e.Log.verbose(8,"Selected bitrate: "+f.bitrate),t.selectedTrack=f),u()}else u()}})},t}();t.Engine=r}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="stepRule",this._disposed=!1,this._currentTrackSegmentCount=0,this._previousTrackSelected=null,this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0,this._previousTrackSelected=null,this._currentSelectedVideoStream=null},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunStepRule,this)},t.prototype.onRunStepRule=function(t){var r=this;e.Log.verbose(8,"onRunStepRule"),t.currentModuleId=this._moduleId;var n=this;return new Promise(function(i,o){if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");if(t.selectedTrack||null===t.requestedStream.streamingInfo.lastDownloadedTrack||0!==t.requestedStream.type)i();else{t.requestedStream!==r._currentSelectedVideoStream&&(n._currentSelectedVideoStream=t.requestedStream,n._previousTrackSelected=null),t.requestedStream.streamingInfo.lastDownloadedTrack===n._previousTrackSelected?n._currentTrackSegmentCount++:(n._previousTrackSelected=t.requestedStream.streamingInfo.lastDownloadedTrack,n._currentTrackSegmentCount=1);var a=n._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeDowngrade,s=n._currentTrackSegmentCount>=t.sessionContext.heuristicSettings.stepRule.minSegmentsBeforeUpgrade,l=t.requestedStream.tracks.indexOf(n._previousTrackSelected),u=l,c=l;a&&t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality>0&&(u=Math.max(0,l-t.sessionContext.heuristicSettings.stepRule.maxStepDownInQuality)),s&&t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality>0&&(c=Math.min(t.heuristicData.tracksData.length-1,l+t.sessionContext.heuristicSettings.stepRule.maxStepUpInQuality));for(var d=0;d<t.heuristicData.tracksData.length;d++)(d>c||u>d)&&(t.heuristicData.tracksData[d].selectable=!1);i()}})},t}();t.StepRule=r}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="windowSizeRule",this._disposed=!1,this._windowHeight=0,this._windowWidth=0,this._highestTrackIndexAllowed=0,this._currentSelectedVideoStream=null}return t.prototype.dispose=function(){this._disposed=!0,this._currentSelectedVideoStream=null},t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onRunWindowSizeRule,this)},t.prototype.onRunWindowSizeRule=function(t){e.Log.verbose(8,"onRunWindowSizeRule"),t.currentModuleId=this._moduleId;var r=!1,n=this;return new Promise(function(i,o){if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");if(!t.selectedTrack&&t.sessionContext.heuristicSettings.windowSizeHeuristicsEnabled&&0===t.requestedStream.type){t.requestedStream!==n._currentSelectedVideoStream&&(n._currentSelectedVideoStream=t.requestedStream,n._highestTrackIndexAllowed=0);var a,s;if(t.sessionContext.heuristicSettings.useBrowserWindowForWindowSizeRule?(a=window.innerWidth,s=window.innerHeight):(a=Math.max(t.sessionContext.videoTag.scrollWidth,t.sessionContext.videoTag.width),s=Math.max(t.sessionContext.videoTag.scrollHeight,t.sessionContext.videoTag.height)),0===s||0===a)return e.Log.warning(8,"Ignoring window size heuristic rule, as one of the window dimensions is 0."),void i();(n._windowWidth!==a||n._windowHeight!==s)&&((n._windowWidth<a||n._windowHeight<s)&&(r=!0),n._windowWidth=a,n._windowHeight=s,n._highestTrackIndexAllowed=0);for(var l=t.heuristicData.tracksData,u=!1,c=n._highestTrackIndexAllowed;c<l.length;c++)l[c].selectable&&l[c].trackInfo.width>a&&l[c].trackInfo.height>s&&(u?l[c].selectable=!1:(u=!0,n._highestTrackIndexAllowed=c));u||(n._highestTrackIndexAllowed=l.length-1),r&&t.requestedStream.streamingInfo.lastDownloadedTrack&&l[n._highestTrackIndexAllowed].trackInfo.bitrate>t.requestedStream.streamingInfo.lastDownloadedTrack.bitrate&&t.sessionContext.eventMgr.dispatchEvent(e.InternalEventName.flushvideo),i()}else i()})},t}();t.WindowSizeRule=r}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r;!function(e){e[e.success=200]="success",e[e.notFound=404]="notFound",e[e.badGateway=502]="badGateway"}(r||(r={}));var n=function(){function t(t){this._moduleId="httpDataRetriever",this._requestList=[],this._disposed=!1,this._bandwidthRequest=null,this._bandwidthData=new e.Heuristics.BandwidthTracker(t.heuristicSettings.bandwidth,t.decryptionTracker),t.videoBufferData.updateBandwidthTracker(this._bandwidthData)}return t.prototype.dispose=function(){for(;this._requestList.length>0;){var e=this._requestList.pop();e.request=null,e=null}this._bandwidthRequest=null,this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0],r=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onGetData,this),t.addHandler(t.stepEvents.requestEnd,this.onGetData,this),r.addHandler(r.stepEvents.requestBegin,this.onReportHeuristicData,this),r.addHandler(r.stepEvents.requestSend,this.onGetData,this)},t.prototype.onReportHeuristicData=function(t){e.Log.verbose(5,"onReportHeuristicData"),t.currentModuleId=this._moduleId;var r=this;return new Promise(function(n,i){return r._disposed?(e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("object is already disposed.")):0!==t.requestedStream.type?void n():(r._bandwidthData.reportHeuristicsData(t.heuristicData,e.StreamUtil.getSegmentDuration(t)),void n())})},t.prototype.getResponseHeaders=function(e,t){for(var r=t.sessionContext.headers||[],n={},i=0;i<r.length;i++)n[r[i]]=e.getResponseHeader(r[i]);return n},t.prototype.onGetData=function(t){e.Log.verbose(5,"onGetData"),t.currentModuleId=this._moduleId;var r=this;return new Promise(function(n,a){function s(){if(e.assert(null!=t.urlsToRetrieve[m],"Failed to start the download as urlToRetrieve at index "+m+" is null"),e.assert(null!=t.urlsToRetrieve[m].url&&t.urlsToRetrieve[m].url.length>0,"Failed to start the download as urlToRetrieve at index "+m+" is empty"),t.requestedStream&&(t.requestedStream.streamingInfo.abortCurrentRequest=!1),r._bandwidthRequest&&r._bandwidthRequest.req.streamId===t.urlsToRetrieve[m].streamId&&r._bandwidthRequest.req.presTimeInSec===t.urlsToRetrieve[m].presTimeInSec){var i=t.heuristicData.tracksData.findFirst(function(e){return e.trackInfo.bitrate===r._bandwidthRequest.req.bitrate});i&&r._bandwidthRequest.req.bitrate>=t.urlsToRetrieve[m].bitrate?2===t.urlsToRetrieve[m].requestType?r._bandwidthRequest.req.bitrate!==t.urlsToRetrieve[m].bitrate&&(e.Log.verbose(5,"Switching init segment request "+t.urlsToRetrieve[m].url+" to "+r._bandwidthRequest.req.bitrate),t.urlsToRetrieve[m].bitrate=r._bandwidthRequest.req.bitrate,t.urlsToRetrieve[m].url=e.Util.UrlFormatter.FormatDashInitUrl(t.requestedStream.initUrlTemplate,r._bandwidthRequest.req.bitrate.toString(),t.sessionContext.presentationQueryStr),t.selectedTrack=i.trackInfo):(e.Log.verbose(5,"Reusing bandwidth request "+r._bandwidthRequest.req.url),t.urlsToRetrieve[m].dispose(),t.urlsToRetrieve[m]=r._bandwidthRequest.req,1===t.workflowType&&e.StreamUtil.getBufferData(t).dispatchDownloadCompleted(f(m),r._bandwidthRequest.info,r._bandwidthRequest.headers),r._bandwidthRequest=null):(r._bandwidthRequest.req.dispose(),r._bandwidthRequest=null)}if(0===t.urlsToRetrieve[m].responseType&&null!=t.urlsToRetrieve[m].mediaData||4===t.urlsToRetrieve[m].responseType&&null!=t.urlsToRetrieve[m].presentationData){if(4===t.urlsToRetrieve[m].responseType&&null!=t.sessionContext.commonPresentation){var a=t.sessionContext.httpDataRetrieverSettings,h=1e3*t.sessionContext.commonPresentation.maxSegmentDuration;a.timeoutInMSec=Math.max(a.timeoutInMSec,2*h),a.timeoutInMSec=Math.min(a.timeoutInMSec,a.maxTimeoutInMSec),e.Log.verbose(5,"Setting data retriever timeout: "+a.timeoutInMSec+" ms")}++m>=t.urlsToRetrieve.length?n():s()}else{1===t.workflowType&&e.StreamUtil.getBufferData(t).dispatchDownloadRequested(f(m));var g=t.sessionContext.createXmlHttpRequest();g.open("GET",t.urlsToRetrieve[m].url),g.onreadystatechange=l,g.onprogress=u,g.onload=c,g.onerror=d,g.ontimeout=p,g.onabort=d,0===t.urlsToRetrieve[m].responseType&&(g.responseType=e.Context.ResponseType[0]),g.msCaching&&(g.msCaching="disabled"),g.timeout=t.sessionContext.httpDataRetrieverSettings.timeoutInMSec;var y=new o(t.urlsToRetrieve[m],g);t.requestedStream&&0==t.requestedStream.type&&t.selectedTrack?e.Log.verbose(5,"HeuristicInfo: SuggestedBr: "+t.selectedTrack.bitrate+" CurrentBw: "+Math.floor(1e3*r._bandwidthData.latestInKbps)+" AverageBw: "+Math.floor(1e3*r._bandwidthData.averageBandwidthInKbps)+" BufferSize: "+t.requestedStream.streamingInfo.sourceBuffer.getBufferedAheadOfCurrentTimeInSec()+" StreamType: "+e.Presentation.StreamType[t.requestedStream.type]+" StreamName: "+t.requestedStream.language+" Index: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" TimeInMS: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.presTimeInSec+" MediaTimeStamp: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.mediaTimestamp+" Index: "+t.requestedStream.streamingInfo.currentSegment.segmentInfo.index+" Duration: "+(t.requestedStream.streamingInfo.currentSegment.segmentInfo.durationInSec||0)+" Url: "+t.urlsToRetrieve[m].url):0===t.workflowType&&e.Log.verbose(5,"Getting "+t.urlsToRetrieve[m].url),r._requestList.push(y),g.send()}}function l(){var t=this;if(!r._disposed){var n=r._requestList.findFirst(function(e){return e.request===t});e.assert(null!=n,"cannot find the request in the request queue"),n.request.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!n.bandwidthInfo.responseStartTimeInMS&&(n.bandwidthInfo.responseStartTimeInMS=Date.now(),n.request.onreadystatechange=null)}}function u(n){var i=this;if(!r._disposed){var o=Date.now(),a=r._requestList.findFirst(function(e){return e.request===i});if(e.assert(null!=a,"cannot find the request in the request queue"),!(e.Common.isSafari&&e.Common.isOSXElCapitanOrEarlier()&&a.getIsAbortInProgress())){if(a.request.readyState>=XMLHttpRequest.HEADERS_RECEIVED&&!a.bandwidthInfo.responseStartTimeInMS&&(a.bandwidthInfo.responseStartTimeInMS=o),t.requestedStream&&t.requestedStream.streamingInfo.abortCurrentRequest&&a.request.readyState<4)return a.abortRequest(),void e.Log.verbose(5,"Aborting request: "+a.urlRequest.url);if(0===n.loaded&&o-(s=a.bandwidthInfo.responseStartTimeInMS)>(l=t.sessionContext.httpDataRetrieverSettings.noDataTimeoutInMSec))return a.abortRequest(),void e.Log.verbose(5,"Aborting request after timeout with no data received: "+a.urlRequest.url);if(3===a.urlRequest.requestType){var s=a.bandwidthInfo.responseStartTimeInMS,l=t.sessionContext.httpDataRetrieverSettings.initBandwidthTimeoutInMSec;if(o-s>l){a.bandwidthInfo.responseLengthInBytes=n.loaded,a.bandwidthInfo.responseEndTimeInMS=o;var u=t.sessionContext&&t.sessionContext.commonPresentation&&t.sessionContext.commonPresentation.isLive;r._bandwidthData.updateBandwidthInfo(a.bandwidthInfo,u,a.urlRequest,t),a.abortRequest(),e.Log.verbose(5,"Aborting init bandwidth request due to timeout: "+a.urlRequest.url)}}}}}function c(){var o=this;if(!r._disposed){var a=r._requestList.findFirst(function(e){return e.request===o});e.assert(null!=a,"cannot find the request in the request queue"),a.bandwidthInfo.responseEndTimeInMS=Date.now();var l=t.urlsToRetrieve.indexOf(a.urlRequest);if(t.urlsToRetrieve[l].httpResposeContentType=this.getResponseHeader("Content-Type"),t.urlsToRetrieve[l].httpResponseCode=this.status,200===this.status){switch(r._requestList.removeFirst(function(e){return e.request===o}),a.urlRequest.responseType){case 0:t.urlsToRetrieve[l].mediaData=this.response,a.bandwidthInfo.responseLengthInBytes=t.urlsToRetrieve[l].mediaData.byteLength;var u=r.getResponseHeaders(this,t);1===t.workflowType?e.StreamUtil.getBufferData(t).dispatchDownloadCompleted(f(l),a.bandwidthInfo,u):(r._bandwidthRequest=new i(t.urlsToRetrieve[l].clone(),a.bandwidthInfo,u),r._bandwidthRequest.req.requestType=1);break;case 4:t.urlsToRetrieve[l].presentationData=this.response,a.bandwidthInfo.responseLengthInBytes=t.urlsToRetrieve[l].presentationData.length;break;default:e.assert(!1,"Unexpected response Type in the request Context")}if(e.Log.verbose(5,"Download Finished for :"+a.urlRequest.url),t.requestedStream){var c=t.sessionContext&&t.sessionContext.commonPresentation&&t.sessionContext.commonPresentation.isLive;r._bandwidthData&&0===t.requestedStream.type&&r._bandwidthData.updateBandwidthInfo(a.bandwidthInfo,c,a.urlRequest,t),t.requestedStream.streamingInfo.lastDownloadedTrack=t.selectedTrack}if(++m>=t.urlsToRetrieve.length)return void n();s()}else e.Log.error(5,a.urlRequest.url+" failed, httpStatus: "+this.status),h.call(this,e.Failure.translateHttpStatusToCode(this.status))}}function d(e){if(!r._disposed){var t=2097152;"error"===e.type?t=2097753:"abort"===e.type&&(t=2097754),h.call(this,t,"http: "+e.type)}}function p(n){var i=this;if(!r._disposed){var o=r._requestList.findFirst(function(e){return e.request===i});if(e.assert(null!=o,"cannot find the request in the request queue"),n.loaded&&1===o.urlRequest.requestType){var a=t.sessionContext&&t.sessionContext.commonPresentation&&t.sessionContext.commonPresentation.isLive;o.bandwidthInfo.responseLengthInBytes=n.loaded,o.bandwidthInfo.responseEndTimeInMS=Date.now(),r._bandwidthData.updateBandwidthInfo(o.bandwidthInfo,a,o.urlRequest,t)}h.call(this,2097752,"http timed out")}}function h(i,o){var s=this,l=r._requestList.removeFirst(function(e){return e.request===s});!e.Common.isFirefox&&e.Common.isSafari&&e.Common.isOSXElCapitanOrEarlier()||e.assert(null!=l,"cannot find the request in the request queue");var u=!1;t.requestedStream&&t.requestedStream.streamingInfo.abortCurrentRequest&&(t.requestedStream.streamingInfo.abortCurrentRequest=!1,u=!0);var c=null!=l?l.urlRequest.url:"no details info";o&&(c+=", "+o);var d=new e.Failure.Record(t.currentModuleId,i,c);if(e.Log.error(5,d.toString()),null!=l)if(t.requestedStream){-1!==t.urlsToRetrieve.findIndexOf(function(e){return 2===e.requestType})&&(t.requestedStream.streamingInfo.fetchInitSegment=!0);var p=t.urlsToRetrieve.indexOf(l.urlRequest);if(1===t.workflowType&&e.StreamUtil.getBufferData(t).dispatchDownloadFailed(f(p),i,o),2097556===i&&t.sessionContext.commonPresentation.isLive&&t.requestedStream.streamingInfo&&t.requestedStream.streamingInfo.currentSegment&&!t.requestedStream.streamingInfo.currentSegment.next){g=(m=t.requestedStream.streamingInfo.currentSegment.segmentInfo)?m.presTimeInSec:null;t.requestedStream.streamingInfo.currentSegment=t.requestedStream.streamingInfo.currentSegment.prev,t.failTracker.reset(),e.Log.verbose(5,"hit past live edge with 404: "+(o?o+", ":"")+"presTimeInSec: "+g+" "+l.urlRequest.url),t.externalFailure=d,a()}else if(2097564===i&&t.sessionContext.commonPresentation.isLive&&t.requestedStream.streamingInfo&&t.requestedStream.streamingInfo.currentSegment&&!t.requestedStream.streamingInfo.currentSegment.next){t.state=2,t.retryWaitTimeMSec=t.sessionContext.httpRetryPolicySettings.retryMediaInMSec,t.failTracker.log(d,t.selectedTrack);var h=t.sessionContext.httpDataRetrieverSettings.liveEdgeAdjustmentInSec;t.sessionContext.commonPresentation.adjustPlayableWindow(h);var m=t.requestedStream.streamingInfo.currentSegment.segmentInfo,g=m?m.presTimeInSec:null;e.Log.verbose(5,"hit past live edge with 412: "+(o?o+", ":"")+"presTimeInSec: "+g+" "+l.urlRequest.url),n()}else 0!==t.workflowType&&l&&l.urlRequest&&3!==l.urlRequest.requestType&&(t.state=2,t.failTracker.log(d,t.selectedTrack),t.failTracker.noDataReceivedFailure=!l.bandwidthInfo.responseLengthInBytes,t.retryWaitTimeMSec=t.failTracker.isLastServerError()?t.sessionContext.httpRetryPolicySettings.retryMediaServerErrorInMSec:2097753===i?t.sessionContext.httpRetryPolicySettings.retryDueToNetworkErrorInMSec:0),e.Log.error(5,"failed to download: "+(o?o+", ":"")+l.urlRequest.url),n()}else 0!==t.workflowType||2097556!==i&&2097752!==i&&2097753!==i?(t.externalFailure=d,e.Log.error(5,"failed to download: "+(o?o+", ":"")+l.urlRequest.url),a()):(t.state=2,t.retryWaitTimeMSec=2097556===i?t.sessionContext.httpRetryPolicySettings.retryPresentationInMSec:2097753===i?t.sessionContext.httpRetryPolicySettings.retryDueToNetworkErrorInMSec:0,t.failTracker.log(d),e.Log.error(5,"failed to download: "+(o?o+", ":"")+l.urlRequest.url),n());u&&t.failTracker.reset()}function f(r){var n=t.urlsToRetrieve[r],i=t.requestedStream.presentationTimeOffsetInSec,o=t.requestedStream.streamingInfo.currentSegment.segmentInfo,a=2===n.requestType?null:o.mediaTimestamp/o.timescale;return new e.Context.MediaDownload(n.url,t.selectedTrack.bitrate,a,n.mediaData,i,o.timescale)}if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void a("object is already disposed.");e.assert(0!==t.urlsToRetrieve.length,"Failed to start the download as urlsToRetrieve is empty.");var m=0;s()})},t}();t.HttpDataRetriever=n;var i=function(){return function(e,t,r){this.req=e,this.info=t,this.headers=r}}(),o=function(){function t(t,r){this.urlRequest=t,this.request=r,this.bandwidthInfo=new e.Heuristics.BandwidthInfo,this.abortStarted=!1}return t.prototype.abortRequest=function(){this.abortStarted=!0,this.request.abort()},t.prototype.getIsAbortInProgress=function(){return this.abortStarted},t}()}(e.DataRetriever||(e.DataRetriever={})),e.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r;!function(e){e[e.noRetry=0]="noRetry",e[e.nextTrack=1]="nextTrack",e[e.nextTrackDown=2]="nextTrackDown",e[e.nextSegment=3]="nextSegment",e[e.same=4]="same"}(r||(r={}));var n=function(){function t(){this._moduleId="httpRetryPolicy",this._disposed=!1}return t.prototype.dispose=function(){this._disposed||(this._disposed=!0)},t.prototype.init=function(e){var t=e.workflows[0],r=e.workflows[1];t.addHandler(r.stepEvents.requestBegin,this.onPresentationRetry,this),r.addHandler(r.stepEvents.requestBegin,this.onMediaRetry,this)},t.prototype.onPresentationRetry=function(t){var n=this;return e.Log.verbose(5,"onPresentationRetry"),t.currentModuleId=this._moduleId,new Promise(function(i,o){if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");var a=t.failTracker,s=t.sessionContext.httpRetryPolicySettings;if(a.isNone())i();else{var l=n._getAction(0,s,t);switch(l){case 0:return t.externalFailure=a.lastFailure,e.Log.verbose(5,"onPresentationRetry: noRetry, "+t.urlsToRetrieve[0].url),void o();case 4:a.sameRequestRetried++;break;default:throw new Error("unexpected retry action: "+l)}a.totalRetried++,e.Log.verbose(5,"onPresentationRetry: "+r[l]+" URL: "+t.urlsToRetrieve[0].url),i()}})},t.prototype.onMediaRetry=function(t){var n=this;return e.Log.verbose(5,"onMediaRetry"),t.currentModuleId=this._moduleId,new Promise(function(i,o){if(n._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void o("object is already disposed.");if(t.requestedStream){var a=t.failTracker,s=t.requestedStream.streamingInfo,l=t.sessionContext.httpRetryPolicySettings;if(a.isNone()||null!==s.pendingSeekPositionInSec)i();else{0===a.totalRetried&&(a.tracksToTry=n._createTrackToTry(l,t.requestedStream,a.lastTrack));var u=n._getAction(1,l,t);switch(u){case 0:return t.externalFailure=a.lastFailure,e.Log.verbose(5,"onMediaRetry: noRetry,mediaTimestamp: "+s.currentSegment.segmentInfo.mediaTimestamp),void o();case 1:case 2:var c,d;a.sameRequestRetried++,t.selectedSegment=s.currentSegment,d=a.trackToTryIdx<a.tracksToTry.length-1?a.trackToTryIdx+1:0,c=a.tracksToTry[d],(1===u||c.bitrate<a.lastTrack.bitrate)&&(a.trackToTryIdx=d),t.selectedTrack=a.tracksToTry[a.trackToTryIdx];break;case 3:if(!s.currentSegment.next)return t.externalFailure=a.lastFailure,e.Log.verbose(5,"onRetry: noRetry, EOS mediaTimestamp: "+s.currentSegment.segmentInfo.mediaTimestamp),void o();s.currentSegment=s.currentSegment.next,a.segmentsSkipped++,a.resetForSegment(),t.selectedSegment=s.currentSegment,t.selectedTrack=a.tracksToTry[0];break;case 4:a.sameRequestRetried++,t.selectedSegment=s.currentSegment,t.selectedTrack=a.tracksToTry[0];break;default:throw new Error("unexpected retry action: "+u)}a.totalRetried++,e.Log.verbose(5,"onRetry: "+r[u]+" bitrate: "+t.selectedTrack.bitrate+" mediaTimestamp: "+t.selectedSegment.segmentInfo.mediaTimestamp),i()}}else i()})},t.prototype._getAction=function(e,t,r){var n=0,i=!1,o=r.failTracker;if(r.sessionContext&&r.sessionContext.commonPresentation&&(i=r.sessionContext.commonPresentation.isLive),0===e)n=o.sameRequestRetried>=t.maxRetryPresentation?0:4;else if(o.totalRetried>=t.maxTotalRetries||o.segmentsSkipped>=t.maxSkipSegments&&(o.trackToTryIdx>=o.tracksToTry.length-1||o.sameRequestRetried>=t.maxRetryPerSegment))n=0;else if(o.isLastNotFound()||o.isLastNotReady()&&i&&!this._isLiveEdge(r))n=o.trackToTryIdx<o.tracksToTry.length-1&&o.sameRequestRetried<t.maxRetryPerSegment?1:3;else if(i&&this._isLiveEdge(r)&&o.isLastNotReady())n=4,o.sameRequestRetried>=t.maxRetryPerSegment&&(n=0);else if(o.isLastServerError())n=1;else if(o.isLastNetworkFail()){var a=i&&this._isLiveEdge(r)&&o.isLastNetworkDown()?3*t.maxRetryPerSegment:t.maxRetryPerSegment;n=o.sameRequestRetried<a?o.noDataReceivedFailure?4:2:3}else n=0;return n},t.prototype._isLiveEdge=function(e){var t=!1;if(!e.requestedStream||!e.requestedStream.streamingInfo)return t;var r=e.requestedStream.streamingInfo.currentSegment;return t=!(!r||r.next)},t.prototype._createTrackToTry=function(e,t,r){var n=[],i=t.tracks.indexOf(r),o=t.tracks.length;n.push(t.tracks[i]);for(a=i-1;a>=0;a--)t.tracks[a].streamingInfo.selectable&&n.push(t.tracks[a]);if(!e.retryLowerBitrateOnly)for(var a=i+1;o>a;a++)t.tracks[a].streamingInfo.selectable&&n.push(t.tracks[a]);return n},t}();t.HttpRetryPolicy=n}(e.DataRetriever||(e.DataRetriever={})),e.DataRetriever}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r;!function(e){e[e.success=200]="success",e[e.notFound=404]="notFound",e[e.badGateway=502]="badGateway"}(r||(r={}));var n=function(){function t(){this._moduleId="InitialBandwidthDataUrlFormatter",this._disposed=!1}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onPreFetchUrlFormat,this)},t.prototype.onPreFetchUrlFormat=function(t){e.Log.verbose(6,"OnPreFetchUrlFormat"),t.currentModuleId=this._moduleId;var r=this;return new Promise(function(n,i){if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("object is already disposed.");if(t.sessionContext.heuristicSettings.preFetchDataEnabled){var o=t.sessionContext.commonPresentation.periods[0].streams.findFirst(function(e){return 0===e.type});if(t.requestedStream=o,t.requestedStream){var a=r.getBitrate(t);if(!a)throw new Error("bitrate of video track not set in presentation");var s=t.requestedStream.mediaUrlTemplate;if(!s)throw new Error("media url template is not set for the video stream");var l,u=o.segments;l=t.sessionContext.commonPresentation.isLive?u.last.segmentInfo:u.first.segmentInfo;var c=e.Util.UrlFormatter.FormatDashMediaUrl(s,a.toString(),l.mediaTimestampStr,t.sessionContext.presentationQueryStr),d=new e.Context.UrlRequest(c,3,0,o.id,a,l.presTimeInSec,l.durationInSec);t.urlsToRetrieve.push(d),t.sessionContext.heuristicSettings.preFetchDataEnabled=!1,n()}else n()}else n()})},t.prototype.getBitrate=function(e){var t=Math.max(e.sessionContext.videoTag.scrollWidth,e.sessionContext.videoTag.width),r=Math.max(e.sessionContext.videoTag.scrollHeight,e.sessionContext.videoTag.height),n=0;if(r>0&&t>0){for(var i=e.requestedStream.tracks,o=i.length-1;o>=0&&i[o].selectable&&i[o].width>t&&i[o].height>r;o--)n=i[o].bitrate;if(0==n){for(o=i.length-1;o>=0&&i[o].selectable&&(i[o].width>t||i[o].height>r);o--)n=i[o].bitrate;0==n&&i.length>0&&(n=i[i.length-1].bitrate)}}if(0==n)if(e.sessionContext.heuristicSettings.preFetchDataMiddle){var a;a=Math.round(e.requestedStream.tracks.length/2)-1,n=e.requestedStream.tracks[a].bitrate}else n=e.requestedStream.tracks[0].bitrate;return n},t}();t.InitialBandwidthDataUrlFormatter=n}(e.Heuristics||(e.Heuristics={})),e.Heuristics}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="streamSelector",this._disposed=!1,this._initial=!0}return t.prototype.dispose=function(){this._disposed=!0},t.prototype.init=function(e){var t=e.workflows[0];t.addHandler(t.stepEvents.requestEnd,this.onSelectStreams,this)},t.prototype.onSelectStreams=function(t){var r=this;return t.currentModuleId=this._moduleId,new Promise(function(n,i){var o=!1,a=!1,s=t.sessionContext.commonPresentation;if(r._disposed)return e.Failure.attachFailureToRequest(t,t.currentModuleId,0),void i("Disposed");{if(r._initial){if(!s)throw new Error("CommonPresentation is empty");s.periods[0].streams.forEach(function(e){e.streamingInfo.selected=!1});for(var l=s.periods[0].streams.length-1;l>=0;l--)0!==s.periods[0].streams[l].type||o?1!==s.periods[0].streams[l].type||a||(a=!0,s.periods[0].streams[l].streamingInfo.selected=!0):(o=!0,s.periods[0].streams[l].streamingInfo.selected=!0);return o&&a?(r._initial=!1,void n()):(e.Failure.attachFailureToRequest(t,t.currentModuleId,4194307),void i("Video or audio streams not found"))}n()}})},t}();t.InitialStreamSelector=r}(e.Presentation||(e.Presentation={})),e.Presentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function e(e,t,r,n,i){this.index=e,this._timescale=i,this._presentationOffset=n,this._mediaTimestampStr=t,this._mediaTimestamp=parseInt(t),this._presTimeInSec=(this._mediaTimestamp+n)/i,r&&(this._mediaDuration=r,this._durationInSec=r/i)}return Object.defineProperty(e.prototype,"timescale",{get:function(){return this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presentationOffset",{get:function(){return this._presentationOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaTimestampStr",{get:function(){return this._mediaTimestampStr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaTimestamp",{get:function(){return this._mediaTimestamp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mediaDuration",{get:function(){return this._mediaDuration},set:function(e){this._mediaDuration=e,this._durationInSec=e/this._timescale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"presTimeInSec",{get:function(){return this._presTimeInSec},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"durationInSec",{get:function(){return this._durationInSec},enumerable:!0,configurable:!0}),e.prototype.update=function(e,t){e&&(this.index+=e),this._presentationOffset!==t&&(this._presentationOffset=t,this._presTimeInSec=(this._mediaTimestamp+t)/this._timescale)},e}();t.MediaSegmentInfo=r;var n=function(){return function(e,t,n,i,o,a){this.firstSegment=new r(e,t,n,i,o),this.repeat=a,this.containerIndex=NaN}}();t.SegmentRunEntry=n;var i=function(){function t(t,n,i){this._container=t,this._pubTime=t.pubTime,this._runEntry=n,this._runEntryRepeatPosition=i;var o=n.firstSegment.mediaTimestampStr;i&&(o=e.Timestamp.add(o,i*n.firstSegment.mediaDuration)),this.segmentInfo=new r(n.firstSegment.index+i,o,n.firstSegment.mediaDuration,t.presentationTimeOffset,t.timescale)}return t.prototype.dispose=function(){this.segmentInfo=null,this._container=null,this._pubTime=null,this._runEntry=null,this._runEntryRepeatPosition=NaN},Object.defineProperty(t.prototype,"next",{get:function(){if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;var r=this._runEntry,n=0;if(this._runEntryRepeatPosition+1>this._runEntry.repeat){var i=this._runEntry.containerIndex+1;if(!(i<this._container.segmentTable.length))return e.Log.verbose(4,"Cannot get next iterator"),null;r=this._container.segmentTable[i]}else n=this._runEntryRepeatPosition+1;return new t(this._container,r,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){if(this._updateIterator(),isNaN(this._runEntryRepeatPosition))return null;var r,n=this._runEntry;if(0===this._runEntryRepeatPosition){var i=this._runEntry.containerIndex-1;if(!(i>=0&&i<this._container.segmentTable.length))return e.Log.warning(4,"Cannot get previous iterator"),null;r=(n=this._container.segmentTable[i]).repeat}else r=this._runEntryRepeatPosition-1;return new t(this._container,n,r)},enumerable:!0,configurable:!0}),t.prototype._updateIterator=function(){if(this._container.pubTime.getTime()>this._pubTime.getTime()){this._pubTime=this._container.pubTime;for(var t=this._runEntry.containerIndex,r=this._container.segmentTable[t];!r&&t>0;)t--,r=this._container.segmentTable[t];if(r){if(r.firstSegment.index<=this.segmentInfo.index&&this.segmentInfo.index<=r.firstSegment.index+r.repeat)return this._runEntry=r,this._runEntryRepeatPosition=this.segmentInfo.index-r.firstSegment.index,void this._updateInfo();if(this.segmentInfo.index>r.firstSegment.index+r.repeat&&this._container.segmentTable.length>t+1){var n=this._container.segmentTable[t+1];if(this.segmentInfo.index<=n.firstSegment.index+n.repeat)return this._runEntry=n,this._runEntryRepeatPosition=this.segmentInfo.index-n.firstSegment.index,void this._updateInfo()}}var i=this._container.getByIndex(this.segmentInfo.index);if(!i)return e.Log.warning(4,"Referenced segment not found in presentation, disposing iterator"),void this.dispose();this._runEntry=i._runEntry,this._runEntryRepeatPosition=i._runEntryRepeatPosition,this._updateInfo()}},t.prototype._updateInfo=function(){var e=this._container.getByIndex(this.segmentInfo.index);if(e){var t=e.segmentInfo;(this.segmentInfo.mediaTimestampStr!==t.mediaTimestampStr||this.segmentInfo.mediaDuration!==t.mediaDuration)&&(this.segmentInfo=new r(t.index,t.mediaTimestampStr,t.mediaDuration,t.presentationOffset,t.timescale))}},t}();t.MediaSegmentInfoIterator=i;var o=function(){function r(e,t,r,n){this.maxSegmentDuration=0,this.timescale=e,this.presentationTimeOffset=t,this.pubTime=r,this.segmentTable=[],this._isLive=n}return r.prototype.dispose=function(){this.segmentTable.length=0},Object.defineProperty(r.prototype,"first",{get:function(){var e=null;return this.segmentTable.length>0&&(e=new i(this,this.segmentTable[0],0)),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"last",{get:function(){var e,t=null;return this.segmentTable.length>0&&(e=this.segmentTable[this.segmentTable.length-1],t=new i(this,e,e.repeat)),t},enumerable:!0,configurable:!0}),r.prototype.addMediaSegmentRun=function(t){var r=null,n=0;if(this.segmentTable.length>0){n=(r=this.segmentTable[this.segmentTable.length-1]).firstSegment.mediaTimestamp+r.firstSegment.mediaDuration*(r.repeat+1);var i=e.Common.timestampDeltaThreshold*this.timescale;n-t.firstSegment.mediaTimestamp>i&&(e.Log.error(4,"Cannot add segment with timestamp "+t.firstSegment.mediaTimestamp+" to middle of table ["+this.segmentTable[0].firstSegment.mediaTimestamp+","+n+"]"),t=null)}t&&(t.containerIndex=this.segmentTable.length,this.segmentTable.push(t),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,t.firstSegment.durationInSec||0),e.Log.verbose(4,"Added segment with idx="+t.firstSegment.index+" mt="+t.firstSegment.mediaTimestamp+" pt="+t.firstSegment.presTimeInSec.toFixed(7)+" r="+t.repeat+(t.firstSegment.durationInSec?" d="+t.firstSegment.durationInSec.toFixed(7):"")))},r.prototype.addMediaSegmentInfo=function(e,r,n,i,o){var a;if(this.segmentTable.length>0&&NaN===this.segmentTable[this.segmentTable.length-1].firstSegment.mediaDuration)throw new Error("Failed to add segment: previous entry doesn't have duration");a=new t.SegmentRunEntry(e,r,n,i,o,0),this.addMediaSegmentRun(a)},r.prototype.updateSegmentDuration=function(t,r){var n,i;if(0===this.segmentTable.length)return!1;if((n=this.segmentTable[this.segmentTable.length-1]).firstSegment.presTimeInSec!==t){if(-1===(i=e.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec)))return e.Log.verbose(4,"Failed to update segment duration, run entry with presentation time "+t+" not found"),!1;n=this.segmentTable[i]}return n.firstSegment.mediaDuration!==r&&(e.assert(!n.firstSegment.mediaDuration&&0===n.repeat,"Failed to update segment duration, run entry (s:"+n.firstSegment.presTimeInSec+" d:"+n.firstSegment.durationInSec+" r:"+n.repeat+") cannot be overwritten by segment (s:"+t+" d:"+r/this.timescale+")"),n.firstSegment.mediaDuration=r),this.maxSegmentDuration=Math.max(this.maxSegmentDuration,n.firstSegment.durationInSec||0),!0},r.prototype.getByIndex=function(t){var r,n=null;if(0===this.segmentTable.length)return null;if(-1!==(r=e.Common.binarySearch(t,this.segmentTable,this._compareIndex))){var o=this.segmentTable[r],a=t-o.firstSegment.index;n=new i(this,o,a)}return n||e.Log.verbose(4,"Entry with index "+t+" not found"),n},r.prototype.getBySegmentStartTime=function(t,r){var n,o=null;if(0===this.segmentTable.length)return null;if(r||(r=e.Common.timestampDeltaThreshold),Math.abs(t-this.segmentTable[0].firstSegment.presTimeInSec)<r)return this.first;if(-1!==(n=e.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec))){var a=this.segmentTable[n],s=0;if(e.Common.diffTimes(t,a.firstSegment.presTimeInSec)&&(s=Math.round((t-a.firstSegment.presTimeInSec)/a.firstSegment.durationInSec)||0),s>a.repeat){if(!(n+1<this.segmentTable.length))return e.Log.verbose(4,"Cannot find match for "+t),null;a=this.segmentTable[n+1],s=0}var l=a.firstSegment.presTimeInSec+s*a.firstSegment.durationInSec;if(Math.abs(t-l)>r)return e.Log.verbose(4,"Cannot find match within error range for "+t),null;o=new i(this,a,s)}return o},r.prototype.getByInSegmentTimestamp=function(t){var r,n=null;if(0===this.segmentTable.length)return null;if(-1===(r=e.Common.binarySearch(t,this.segmentTable,this._compareTimestampInSec))&&this._isLive&&t<this.segmentTable[0].firstSegment.presTimeInSec&&(e.Log.verbose(4,"Live presentation requested time "+t+" is ahead of the first segment time "+this.segmentTable[0].firstSegment.presTimeInSec+" seeking to the first segment!"),r=0),-1!==r){var o,a=this.segmentTable[r];o=Math.floor(Math.abs(t-a.firstSegment.presTimeInSec)/a.firstSegment.durationInSec),n=new i(this,a,o)}return n||e.Log.verbose(4,"Entry including timestamp "+t+" not found"),n},r.prototype.getByInDiscontinuityTimestamp=function(t){var r,n=null;return 0===this.segmentTable.length?null:(-1!==(r=e.Common.binarySearchInGaps(t,this.segmentTable,this._compareTimestampInSecInGaps))&&(n=new i(this,this.segmentTable[r],0)),n||e.Log.verbose(4,"Discontinuity including timestamp "+t+" not found"),n)},r.prototype.update=function(t){var r=this,n=t,i=null,o=0;if(!(n.pubTime.getTime()<=this.pubTime.getTime())){if(this.pubTime=n.pubTime,(i=this.getBySegmentStartTime(n.first.segmentInfo.presTimeInSec))&&i.segmentInfo.index!==n.first.segmentInfo.index){if(o=i.segmentInfo.index,e.Common.diffTimes(n.first.segmentInfo.presTimeInSec,i.segmentInfo.presTimeInSec))throw new Error("Segment mismatch during container update");e.Log.verbose(4,"Segment index offset="+o)}if(n._isLive){var a=n.last.segmentInfo,s=a.index,l=a.mediaTimestamp+a.mediaDuration;for(i=this.getBySegmentStartTime(a.presTimeInSec);l&&i&&i.next&&!((i=i.next).segmentInfo.mediaTimestamp<l);)a=i.segmentInfo,l=a.mediaTimestamp+a.mediaDuration,n.addMediaSegmentInfo(++s,a.mediaTimestampStr,a.mediaDuration,a.presentationOffset,a.timescale)}this._isLive=n._isLive,this.segmentTable.length=0,n.segmentTable.forEach(function(e){e.firstSegment.update(o,r.presentationTimeOffset),r.segmentTable.push(e)}),this.maxSegmentDuration=n.maxSegmentDuration}},r.prototype._compareTimestampInSec=function(t,r){var n=0;return e.Common.diffTimes(t,r.firstSegment.presTimeInSec)>0?n=-1:e.Common.diffTimes(t,r.firstSegment.presTimeInSec)&&e.Common.diffTimes(t,r.firstSegment.presTimeInSec+(r.repeat+1)*(r.firstSegment.durationInSec||0))<=0&&(n=1),n},r.prototype._compareIndex=function(e,t){var r=0;return e<t.firstSegment.index?r=-1:e>=t.firstSegment.index+(t.repeat+1)&&(r=1),r},r.prototype._compareTimestampInSecInGaps=function(e,t,r){var n=0,i=t.firstSegment.presTimeInSec+(t.repeat+1)*(t.firstSegment.durationInSec||0),o=r.firstSegment.presTimeInSec;return i>e?n=-1:e>=o&&(n=1),n},r}();t.MediaSegmentInfoContainer=o,function(e){e[e.needsToBeScheduled=0]="needsToBeScheduled",e[e.inProgress=1]="inProgress",e[e.endOfStream=2]="endOfStream"}(t.WorkflowState||(t.WorkflowState={}));var a=(t.WorkflowState,function(){function e(){this.forge=null,this.webCrypto=null}return e.prototype.dispose=function(){this.forge=null,this.webCrypto=null},e}());t.AesInfo=a;var s=function(){function e(){this.selected=!1,this.fetchInitSegment=!0,this.currentSegment=null,this.pendingSeekPositionInSec=null,this.abortCurrentRequest=!1,this.workflowState=0,this.sourceBuffer=null,this.lastDownloadedTrack=null,this.aes=new a,this.flushStream=!1}return e.prototype.dispose=function(){this.currentSegment=null,this.sourceBuffer&&(this.sourceBuffer.dispose(),this.sourceBuffer=null),this.lastDownloadedTrack=null,this.aes&&(this.aes.dispose(),this.aes=null)},e}();t.MediaStreamStreamingInfo=s;var l=function(){return function(){this.selectable=!0}}();t.MediaTrackStreamingInfo=l;var u=function(){function e(e,t){this._streams=[];for(var r=0;r<t.length;r++)if(0==t[r].type){var n=new c(e,t[r]);this._streams.push(n)}}return e.prototype.dispose=function(){for(var e=0;e<this._streams.length;e++)this._streams[e].dispose();this._streams=[]},Object.defineProperty(e.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedIndex",{get:function(){for(var e=-1,t=0;t<this._streams.length;t++)if(this._streams[t].commonStream.streamingInfo.selected){e=t;break}return e},enumerable:!0,configurable:!0}),e}();t.VideoStreamList=u;var c=function(){function t(t,r){this._commonStream=r,this._eventMgr=new e.Events.Manager(t.azureHtml5,!1),this._sessionContext=t}return t.prototype.dispose=function(){this._commonStream=null,this._sessionContext=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null)},Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._commonStream.id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tracks",{get:function(){return this._commonStream.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commonStream",{get:function(){return this._commonStream},enumerable:!0,configurable:!0}),t.prototype.selectTrackByIndex=function(t){var r=!1;(-1>t||t>=this._commonStream.tracks.length)&&(e.Log.warning(7,"selectTrackByIndex: "+t+" switching back to auto track selection"),t=-1),e.Log.verbose(7,"selectTrackByIndex: "+t);for(var n=0;n<this._commonStream.tracks.length;n++){var i=this._commonStream.tracks[n].streamingInfo.selectable;this._commonStream.tracks[n].streamingInfo.selectable=-1===t||n===t,i!=this._commonStream.tracks[n].streamingInfo.selectable&&(r=!0)}r&&(this.commonStream.streamingInfo.flushStream=!0,this._eventMgr.dispatchEvent(e.StreamEventName.trackselected),this._sessionContext.eventMgr.dispatchEvent(e.InternalEventName.flushvideo))},t.prototype.addEventListener=function(e,t,r){this._eventMgr.addHandler(e,t,r)},t.prototype.removeEventListener=function(e,t){this._eventMgr.removeHandler(e,t)},t}(),d=function(){function t(t,r){this._streams=[];for(var n=0;n<r.length;n++)if(1==r[n].type){var i=new p(t,r[n]);this._streams.push(i)}this._eventMgr=new e.Events.Manager(t.azureHtml5,!1),this._sessionContext=t}return t.prototype.dispose=function(){for(var e=0;e<this._streams.length;e++)this._streams[e].dispose();this._sessionContext=null,this._eventMgr&&(this._eventMgr.dispose(),this._eventMgr=null),this._streams=[]},Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var e=[],t=0;t<this._streams.length;t++)if(this._streams[t].enabled){e.push(t);break}return e},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){if(1!=this.enabledIndices.length)return e.Log.error(7,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled"),void this._eventMgr.dispatchEvent(e.StreamListEventName.streamselectnotsupported);if(t>=this.streams.length||0>t)return e.Log.error(7,"audioChange failed - tried to enable invalid index: "+t),void this._eventMgr.dispatchEvent(e.StreamListEventName.streamindexinvalid);var r=this._streams[this.enabledIndices[0]],n=this._streams[t];if(t===this.enabledIndices[0])return e.Log.verbose(7,"audioChange failed because current stream selected"),void this._eventMgr.dispatchEvent(e.StreamListEventName.streamselected);this._switchEnabledIndex(t);var i=this._sessionContext.videoTag.currentTime,o=this._sessionContext.prerollBufferInSec();n.swapBuffersAndCleanUp(r,i,o),this._eventMgr.dispatchEvent(e.StreamListEventName.streamselected)},t.prototype.addEventListener=function(e,t,r){this._eventMgr.addHandler(e,t,r)},t.prototype.removeEventListener=function(e,t){this._eventMgr.removeHandler(e,t)},t.prototype._switchEnabledIndex=function(t){e.assert(1==this.enabledIndices.length,"Current implementation only allows one enabled stream at a time");var r=this.enabledIndices[0];this._streams[r].enabled=!1,this._streams[t].enabled=!0},t}();t.AudioStreamList=d;var p=function(){function t(e,t){this._commonStream=t}return t.prototype.dispose=function(){this._commonStream=null},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._commonStream.streamingInfo.selected},set:function(e){this._commonStream.streamingInfo.selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){var t=this._commonStream.mediaUrlTemplate.toLowerCase(),r="fragments(",n=t.indexOf(r),i=t.indexOf("=",n);return e.assert(i>n+r.length,"mediaUrlTemplate ("+t+") did not follow expected schema"),this._commonStream.mediaUrlTemplate.substring(n+r.length,i)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._commonStream.language},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"codec",{get:function(){return this._commonStream.codec},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bitrate",{get:function(){return this._commonStream.tracks[0].bitrate},enumerable:!0,configurable:!0}),t.prototype.swapBuffersAndCleanUp=function(e,t,r){if(e._commonStream.streamingInfo.sourceBuffer){this._commonStream.streamingInfo.sourceBuffer||(this._commonStream.streamingInfo.sourceBuffer=e._commonStream.streamingInfo.sourceBuffer);var n=this._commonStream.streamingInfo.sourceBuffer;this._commonStream.streamingInfo.workflowState=0,e._commonStream.streamingInfo.workflowState=2,this._commonStream.streamingInfo.pendingSeekPositionInSec=t,this._commonStream.streamingInfo.audioTrackSwitched=!0,n.buffered.length>0&&n.buffered.end(n.buffered.length-1)>t+r&&n.flushFrom(t+r),n.flushUntil(t)}},t}()}(e.Presentation||(e.Presentation={})),e.Presentation}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){this._moduleId="SegmentLocator.Dash",this._disposed=!1}return t.prototype.init=function(e){var t=e.workflows[1];t.addHandler(t.stepEvents.requestBegin,this.onFindSegment,this)},t.prototype.dispose=function(){this._disposed=!0},t.prototype.onFindSegment=function(r){e.Log.verbose(9,"onFindSegment"),r.currentModuleId=this._moduleId;var n=this;return new Promise(function(i,o){if(n._disposed)return e.Failure.attachFailureToRequest(r,r.currentModuleId,0),void o("object is already disposed.");var a=r.requestedStream,s=a.streamingInfo.currentSegment,l=a.segments;if(r.selectedSegment)i();else{if(null!==a.streamingInfo.pendingSeekPositionInSec)a.streamingInfo.currentSegment=l.getByInSegmentTimestamp(a.streamingInfo.pendingSeekPositionInSec),a.streamingInfo.currentSegment?(a.streamingInfo.pendingSeekPositionInSec=null,r.requestedStream.streamingInfo.fetchInitSegment=!0):r.sessionContext.isLiveToVod&&(a.streamingInfo.pendingSeekPositionInSec=r.sessionContext.commonPresentation.playableWindow.endInSec-.01);else if(s)a.streamingInfo.currentSegment=s.next;else{var u=r.sessionContext;a.streamingInfo.currentSegment=isNaN(u.startPositionInSec)?l.first:l.getByInSegmentTimestamp(u.startPositionInSec)}if(null===a.streamingInfo.currentSegment)if(r.sessionContext.commonPresentation.isLive&&s&&(s.segmentInfo.mediaTimestamp>=l.last.segmentInfo.mediaTimestamp||a.streamingInfo.pendingSeekPositionInSec)){if(a.streamingInfo.currentSegment=s,!r.sessionContext.commonPresentation.minimumUpdatePeriodInSec)return a.streamingInfo.audioTrackSwitched=!1,e.Failure.attachFailureToRequest(r,r.currentModuleId,1),void o();r.state=2,r.retryWaitTimeMSec=t._retryWaitTimeMSec}else{if(a.streamingInfo.audioTrackSwitched&&r.sessionContext.commonPresentation.isLive)return a.streamingInfo.audioTrackSwitched=!1,e.Failure.attachFailureToRequest(r,r.currentModuleId,1),void o();r.state=1}i()}})},t._retryWaitTimeMSec=2e3,t}();t.Dash=r}(e.SegmentLocator||(e.SegmentLocator={})),e.SegmentLocator}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(e){this._adSignals=[],this._adSignalsSeen={},this._eventManager=e}return t.prototype.reset=function(){this._adSignals=[],this._adSignalsSeen={}},t.prototype.getAdSignalsAndReset=function(){var e=this._adSignals;return this._adSignals=[],e},t.prototype.addAdSignals=function(t){for(var r=t&&t.length>0&&!!t[0].simpleSignal,n=[],i=0;i<t.length;i++)if(!this.checkSignalHasBeenSeenBefore(t[i])){if(!r){var o=window.atob(t[i].scteSignal.signalInString),a=e.Common.stringToUint8Array(o);t[i].scteSignal.signalInBinary=a}n.push(t[i])}n.length>0&&(this._adSignals=this._adSignals.concat(n),this._eventManager.dispatchEvent(e.EventName.spliceWaiting))},t.prototype.checkSignalHasBeenSeenBefore=function(t){var r;return r=t.simpleSignal?t.simpleSignal.id+","+t.simpleSignal.duration+","+t.simpleSignal.presentationTime:t.scteSignal.signalInString+(t.scteSignal.presentationTimeOverride?t.scteSignal.presentationTimeOverride:0),this._adSignalsSeen[r]?(e.Log.verbose(15,"ADSIGNAL: Redundant ad signal: "+r+", ignoring..."),!0):(this._adSignalsSeen[r]=!0,!1)},t}();t.Manager=r}(e.Ad||(e.Ad={})),e.Ad}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){(e.AesUtil||(e.AesUtil={})).verifyKeyUrlWithToken=function(t,r){if(!r||0===r.length)return!0;try{var n=decodeURIComponent(r)}catch(t){return e.Log.error(12,t),!1}var i=n.indexOf("urn:microsoft:azure:mediaservices:keyacquisitionhostname");if(-1===i)return!0;var o=n.indexOf("&",i);-1===o&&(o=n.length);var a=n.substring(i,o),s=a.split("=");if(2!=s.length)return e.Log.error(12,"AMS hostname token is malformed: "+a),!1;var l=document.createElement("a");return l.href=t,s[1].toLowerCase()==l.hostname.toLowerCase()||(e.Log.error(12,"AMS hostname mismatch: "+s[1].toLowerCase()+", "+l.hostname.toLowerCase()),!1)}}(),e.AesUtil}(AzureHtml5JS||(AzureHtml5JS={})),Object.defineProperty(Array.prototype,"findFirst",{value:function(e){for(var t=0;t<this.length;t++){var r=this[t];if(e.call(this,r,t,Object(this)))return r}return null},enumerable:!1,configurable:!0}),Object.defineProperty(Array.prototype,"findLast",{value:function(e){for(var t=this.length-1;t>=0;t--){var r=this[t];if(e.call(this,r,t,Object(this)))return r}return null},enumerable:!1,configurable:!0}),Object.defineProperty(Array.prototype,"findIndexOf",{value:function(e){for(var t=0;t<this.length;t++){var r=this[t];if(e.call(this,r,t,Object(this)))return t}return-1},enumerable:!1,configurable:!0}),Object.defineProperty(Array.prototype,"removeFirst",{value:function(e){var t=this.findIndexOf(e),r=null;return-1!==t&&(r=this.splice(t,1)[0]),r},enumerable:!1,configurable:!0}),Object.defineProperty(Uint8Array.prototype,"isEqual",{value:function(e){if(this.length===e.length){for(var t=0;t<this.length;t++)if(this[t]!==e[t])return!1;return!0}return!1},enumerable:!1,configurable:!0}),window.ArrayBuffer&&(ArrayBuffer.prototype.polyfill_slice=function(e,t){t=t||this.byteLength;for(var r=new Uint8Array(this),n=new Uint8Array(t-e),i=e;t>i;i++)n[i-e]=r[i];return n.buffer},ArrayBuffer.prototype.slice=ArrayBuffer.prototype.slice||ArrayBuffer.prototype.polyfill_slice);var AzureHtml5JS;!function(e){"use strict";(AzureHtml5JS||(AzureHtml5JS={})).assert=function(e,t){if(!e)throw new Error(t)}}();var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(e,t){if(this.dropOldestKeepAtLeastOne=function(){this._slidingWindow.length>1&&this.dropOldest()},this._slidingWindow=[],this._sum=0,this._minWindowLength=e,this._maxWindowLength=t,0>e||1>t||e>t)throw new Error("window length for average class should be greater than 0")}return e.prototype.dispose=function(){this._slidingWindow=null},Object.defineProperty(e.prototype,"average",{get:function(){return 0===this._slidingWindow.length||this._slidingWindow.length<this._minWindowLength?0:this._sum/this._slidingWindow.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latest",{get:function(){return 0===this._slidingWindow.length?0:this._slidingWindow[this._slidingWindow.length-1]},enumerable:!0,configurable:!0}),e.prototype.addValue=function(e){this._slidingWindow.length>=this._maxWindowLength&&this.dropOldest(),this._slidingWindow.push(e),this._sum+=e},e.prototype.dropOldest=function(){if(this._slidingWindow.length>0){var e=this._slidingWindow.splice(0,1);e[0]!=1/0?this._sum-=e[0]:this._sum=this._slidingWindow.reduce(function(e,t){return e+t})}},e}();e.AverageCalculator=t}(e.Util||(e.Util={})),e.Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function r(e,r,n){void 0===n&&(n=t.timestampDeltaThreshold);var i=r-e;return Math.abs(i)<n&&(i=0),i}t.timestampDeltaThreshold=5e-4,t.nearDiscontinuityThreshold=2,t.isChrome=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),t.isEdge=/Edge/i.test(navigator.userAgent),t.isIEMobile=/IEMobile\/([0-9.]*)/.test(navigator.userAgent),t.isSafari=/Safari/i.test(navigator.userAgent)&&!t.isChrome&&!t.isEdge&&!t.isIEMobile,t.isFirefox=/Firefox/i.test(navigator.userAgent)&&!t.isChrome&&!t.isEdge&&!t.isIEMobile&&!t.isSafari,t.isMobile=/android|webos|windows phone|iphone|ipad|ipod|blackBerry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),t.isOSXElCapitanOrEarlier=function(){var e=/.*Mac OS X (\d+)_(\d+)_*.*\).*/.exec(navigator.userAgent);if(e&&3===e.length){var t=parseInt(e[1],10),r=parseInt(e[2],10);return 10==t&&11>=r||10>t}return!1},t.diffTimes=r;var n=function(){return function(e,t){this.startInSec=e,this.endInSec=t}}();t.TimeRange=n;var i=function(){function e(){this._timeRanges=[]}return e.prototype.dispose=function(){this._timeRanges=null},Object.defineProperty(e.prototype,"length",{get:function(){return this._timeRanges.length},enumerable:!0,configurable:!0}),e.prototype.start=function(e){return this._timeRanges[e].startInSec},e.prototype.end=function(e){return this._timeRanges[e].endInSec},e.prototype.duration=function(e){return this._timeRanges[e].endInSec-this._timeRanges[e].startInSec},e.prototype.extendLast=function(e){this._timeRanges[this._timeRanges.length-1].endInSec=e},e.prototype.addRange=function(e){this._timeRanges.push(e)},e.prototype.addRanges=function(e){if(e)for(var t=0;t<e.length;t++)this.addRange(new n(e.start(t),e.end(t)))},e.prototype.removeRange=function(e,r){if(r>e)for(var i=0;i<this._timeRanges.length;i++){var o=this._timeRanges[i].startInSec,a=this._timeRanges[i].endInSec;t.diffTimes(a,e)>=0||t.diffTimes(r,o)>=0||(t.diffTimes(o,e)>=0&&t.diffTimes(e,a)>=0&&t.diffTimes(a,r)>=0?this._timeRanges[i].endInSec=e:t.diffTimes(o,e)>=0&&t.diffTimes(r,a)>=0?(this._timeRanges[i].endInSec=e,this._timeRanges.splice(i+1,0,new n(r,a))):t.diffTimes(e,o)>=0&&t.diffTimes(a,r)>=0?(this._timeRanges.splice(i,1),--i):t.diffTimes(e,o)>=0&&t.diffTimes(o,r)>=0&&t.diffTimes(r,a)>=0&&(this._timeRanges[i].startInSec=r),t.diffTimes(this._timeRanges[i].endInSec,this._timeRanges[i].startInSec)>=0&&(this._timeRanges.splice(i,1),--i))}},e.prototype.rebase=function(e){this._timeRanges.forEach(function(t){t.startInSec-=e,t.endInSec-=e})},e.prototype.removeGaps=function(e){for(var t=0;t+1<this._timeRanges.length;)this._timeRanges[t+1].startInSec-this._timeRanges[t].endInSec<e?(this._timeRanges[t].endInSec=this._timeRanges[t+1].endInSec,this._timeRanges.splice(t+1,1)):t++},e.prototype.getIndexByInRangeTimestamp=function(e){for(var t=0;t<this._timeRanges.length;t++){var r=this._timeRanges[t];if(e<r.startInSec)return-1;if(r.startInSec<=e&&e<r.endInSec)return t;if(t+1>=this._timeRanges.length)return-2;var n=this._timeRanges[t+1];if(r.endInSec<=e&&e<=n.startInSec)return t+1}return-1},e.prototype.beforeDiscontinuity=function(e,n){return!(0>n||n+1>=this._timeRanges.length||this._timeRanges[n].startInSec>e||e>=this._timeRanges[n].endInSec)&&(0!==r(this._timeRanges[n].endInSec,this._timeRanges[n+1].startInSec)&&this._timeRanges[n].endInSec-e<t.nearDiscontinuityThreshold)},e.prototype.atOrAfterDiscontinuity=function(e,n){return!(0>=n||n>=this._timeRanges.length||this._timeRanges[n-1].endInSec>e||e>=this._timeRanges[n].endInSec)&&(0!==r(this._timeRanges[n-1].endInSec,this._timeRanges[n].startInSec)&&(e<this._timeRanges[n].startInSec||e-this._timeRanges[n].startInSec<t.nearDiscontinuityThreshold))},e}();t.TimeRangeSet=i;var o=function(){function e(e,t,r){this.presTimeInSec=t,this.durationInSec=r,this.data=e}return Object.defineProperty(e.prototype,"endTimestampInSec",{get:function(){return this.presTimeInSec+this.durationInSec},enumerable:!0,configurable:!0}),e}();t.SegmentData=o,t.binarySearch=function(e,t,r){for(var n=0,i=t.length-1,o=0;i>=n;){var a=r(e,t[o=Math.floor((n+i)/2)]);if(0>a)i=o-1;else{if(!(a>0))return o;n=o+1}}return-1},t.binarySearchInGaps=function(e,t,r){var n=0,i=t.length-1,o=0;if(0>=i)return-1;for(;i>=n;){if(0===(o=Math.floor((n+i)/2)))return r(e,t[n],t[i])?-1:1;var a=r(e,t[o-1],t[o]);if(0>a)i=o-1;else{if(!(a>0))return o;n=o+1}}return-1},t.binarySearchTimeline=function(e,t,r){var n=0,i=t.length-1,o=0;if(0>i)return-1;if(0===i)return r(e,t[0]);for(;i>=n;){if(0===(o=Math.floor((n+i)/2)))return r(e,t[n],t[i]);var a=r(e,t[o-1],t[o]);if(0>a)i=o-1;else{if(!(a>0))return o-1;n=o+1}}return t.length-1},t.uint8ArrayToHexString=function(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);t+=n.length<2?"0"+n:n}return t},t.hexStringToUint8Array=function(e){if(e.length<=2||"0x"!=e.substr(0,2).toLowerCase())throw new Error("Invalid hexString");var t=e.substr(2);e.length%2!=0&&(t="0"+t);for(var r=new Uint8Array(t.length/2),n=0;n<t.length;n+=2){var i=parseInt(t.substr(n,2),16);if(isNaN(i))throw new Error("Invalid hexString");r[n/2]=i}return r},t.toHexString=function(e){return 0>e&&(e=4294967295+e+1),"0x"+("00000000"+e.toString(16).toUpperCase()).substr(-8)},t.uint8ArrayToString=function(e){for(var t="",r=0;r<e.byteLength;r++)t+=String.fromCharCode(e[r]);return t},t.stringToUint8Array=function(e){for(var t=new Uint8Array(e.length),r=0;r<t.byteLength;r++)t[r]=e.charCodeAt(r);return t},t.videoTagPlay=function(r){if(t.isChrome||t.isSafari){var n=r.play();void 0!==n?n.then(function(){e.Log.verbose(7,"videoTag.play() executed successfullly.")}).catch(function(t){e.Log.warning(7,"videoTag.play() failed: "+t)}):e.Log.warning(7,"play() promise undefined.")}else r.play()}}(e.Common||(e.Common={})),e.Common}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(e,t){void 0===t&&(t=0),this.data=e,this.readPos=t}return e.prototype.getUint8=function(){return this.data.getUint8(this.readPos++)},e.prototype.getUint32=function(){var e=this.data.getUint32(this.readPos);return this.readPos+=4,e},e.prototype.getInt32=function(){var e=this.data.getInt32(this.readPos);return this.readPos+=4,e},e.prototype.getBytes=function(e){for(var t=new Uint8Array(e),r=0;e>r;r++)t[r]=this.getUint8();return t},e.prototype.readString=function(e){for(var t="",r=0;e>r;r++)t+=String.fromCharCode(this.getUint8());return t},e.prototype.readTerminatedString=function(){for(var e="",t=this.getUint8();t;t=this.getUint8())e+=String.fromCharCode(t);return e},e}();e.Reader=t;var r=function(){function e(e,t){void 0===t&&(t=0),this.data=e,this.writePos=t}return e.prototype.setUint8=function(e){this.data.setUint8(this.writePos++,e)},e.prototype.setUint32=function(e){this.data.setUint32(this.writePos,e),this.writePos+=4},e.prototype.setInt32=function(e){this.data.setInt32(this.writePos,e),this.writePos+=4},e.prototype.setString=function(e){for(var t=0;t<e.length;t++)this.setUint8(e.charCodeAt(t))},e.prototype.setBytes=function(e){for(var t=0;t<e.length;t++)this.setUint8(e[t])},e}();e.Writer=r}(e.DataViewReaderWriter||(e.DataViewReaderWriter={})),e.DataViewReaderWriter}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){return function(e,t,r){this.initDataTypes=e,this.audioCapabilities=t,this.videoCapabilities=r}}(),n=function(){return function(t){this.contentType=t,this.robustness=e.Common.isChrome?"SW_SECURE_CRYPTO":""}}();t.isTypeSupported=function(e,t,i){var o="WebKitMediaKeys"in window,a="MSMediaKeys"in window;if("requestMediaKeySystemAccess"in navigator){var s=new n(t),l=new n(i),u=new r(["cenc"],[s],[l]);return navigator.requestMediaKeySystemAccess(e,[u])}return new Promise(function(t,r){var n="video/mp4";return o?void(window.WebKitMediaKeys.isTypeSupported(e,n)?t():r()):a?void(window.MSMediaKeys.isTypeSupported(e,n)?t():r()):void r()})},t.createSupportedKeySystem=function(e,t,r){var i=[{initDataTypes:["cenc"],videoCapabilities:[new n(r)],audioCapabilities:[new n(t)]}];return navigator.requestMediaKeySystemAccess(e,i)},t.createMediaKeys=function(e){var t="WebKitMediaKeys"in window,r="MSMediaKeys"in window;if(t)return new window.WebKitMediaKeys(e);if(r)return new window.MSMediaKeys(e);throw new Error("create MediaKeys not supported")},t.setMediaKeys=function(e,t){var r="msSetMediaKeys"in e;if("WebKitSetMediaKeys"in e)e.WebKitSetMediaKeys(t);else{if(!r)throw new Error("setMediaKeys not supported");e.msSetMediaKeys(t)}},t.listenToNeedKey=function(e,t){e.addEventListener("webkitneedkey",t),e.addEventListener("msneedkey",t)},t.listenToEncrypted=function(e,t){e.addEventListener("encrypted",t)},t.listenToMessage=function(e,t){e.addEventListener("message",t)},t.listenToKeyMessage=function(e,t){e.addEventListener("webkitkeymessage",t),e.addEventListener("mskeymessage",t)},t.listenToKeyAdded=function(e,t){e.addEventListener("webkitkeyadded",t),e.addEventListener("mskeyadded",t)},t.listenKeyError=function(e,t){e.addEventListener("webkitkeyerror",t),e.addEventListener("mskeyerror",t)},t.unlistenToNeedKey=function(e,t){e.removeEventListener("webkitneedkey",t),e.removeEventListener("msneedkey",t)},t.unlistenToEncrypted=function(e,t){e.removeEventListener("encrypted",t)},t.unlistenToMessage=function(e,t){e.removeEventListener("message",t)},t.unlistenToKeyMessage=function(e,t){e.removeEventListener("webkitkeymessage",t),e.removeEventListener("mskeymessage",t)},t.unlistenToKeyAdded=function(e,t){e.removeEventListener("webkitkeyadded",t),e.removeEventListener("mskeyadded",t)},t.unlistenKeyError=function(e,t){e.removeEventListener("webkitkeyerror",t),e.removeEventListener("mskeyerror",t)}}(e.EmeUtil||(e.EmeUtil={})),e.EmeUtil}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(e,t){void 0===e&&(e=null),void 0===t&&(t=!0),this._azureHtml5=e,this._allowDuplicateHandlers=t,this._registrations={}}return e.prototype.dispose=function(){this._registrations=null},e.prototype.getHandlers=function(e){return e in this._registrations||(this._registrations[e]=[]),this._registrations[e]},e.prototype.addHandler=function(e,t,r){var i=this.getHandlers(e);if(this._allowDuplicateHandlers||-1===this._findHandlerByFunction(i,t)){var o=new n(r,t);i[i.length]=o}},e.prototype.removeHandler=function(e,t){for(var r=this.getHandlers(e),n=this._findHandlerByFunction(r,t);-1!==n;)r.splice(n,1),n=this._findHandlerByFunction(r,t)},e.prototype.dispatchEvent=function(e,t){for(var n=this,i=0,o=this.getHandlers(e).slice(),i=0;i<o.length;i++){var a=new r(e,n._azureHtml5,t);o[i].functionHandler.call(o[i].callerInstance,a)}},e.prototype._findHandlerByFunction=function(e,t){for(var r=-1,n=0;n<e.length;n++)if(e[n].functionHandler===t){r=n;break}return r},e}();e.Manager=t;var r=function(){return function(e,t,r){this.type=e,this.currentDate=new Date,this.azureHtml5=t,this.presentationTimeInSec=t?t.currentTime:0,this.message=r}}();e.EventInfo=r;var n=function(){return function(e,t){this.callerInstance=e,this.functionHandler=t}}();e.Handler=n}(e.Events||(e.Events={})),e.Events}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function r(e){switch(e){case MediaError.MEDIA_ERR_ABORTED:return"MEDIA_ERR_ABORTED";case MediaError.MEDIA_ERR_NETWORK:return"MEDIA_ERR_NETWORK";case MediaError.MEDIA_ERR_DECODE:return"MEDIA_ERR_DECODE";case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return e.toString()}}var n=function(){function t(e,t,r){this.originModuleId=e,this.code=t,this.message=r}return t.prototype.dispose=function(){this.originModuleId=null,this.code=null,this.message=null},t.prototype.toString=function(){var t;return t="Module = "+this.originModuleId+" FailureCode = "+e.Common.toHexString(this.code),this.message&&(t+=" "+this.message),t},t}();t.Record=n,t.translateHttpStatusToCode=function(e){return e>=400&&600>e?2097152|e:2097152},t.errorEventToString=function(e){var t="";return e.filename&&(t+=" file: "+e.filename),e.lineno&&(t+=" line: "+e.lineno),e.colno&&(t+=" colno: "+e.colno),e.error&&(t+="error: "+e.error),e.message&&(t+="msg: "+e.message),t},t.mediaErrorToString=function(t){if(void 0===t||null===t)return"undefined";var n=r(t.code);return t.msExtendedCode&&(n+=", msErrorCode: "+e.Common.toHexString(t.msExtendedCode)),n},t.attachFailureToRequest=function(e,t,r,i){var o=new n(t,r,i);null!=e&&(e.externalFailure=o)},t.isExternalError=function(e){return e>1048575};var i=function(){function t(e,t){e?(this.code=e,this.message=t):(this.code=0,this.message=null)}return t.prototype.translateMediaError=function(t){this.code=t.code<<20,t.msExtendedCode&&(this.message="msErrorCode: "+e.Common.toHexString(t.msExtendedCode))},t.prototype.toString=function(){var t="code: "+e.Common.toHexString(this.code);return this.message&&(t+=", msg: "+this.message),t},t}();t.External=i}(e.Failure||(e.Failure={})),e.Failure}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";e.forgeScript='(function(){function n(n){function i(n){var r,u;if(this.data="",this.read=0,typeof n=="string")this.data=n;else if(t.isArrayBuffer(n)||t.isArrayBufferView(n)){r=new Uint8Array(n);try{this.data=String.fromCharCode.apply(null,r)}catch(f){for(u=0;u<r.length;++u)this.putByte(r[u])}}else(n instanceof i||typeof n=="object"&&typeof n.data=="string"&&typeof n.read=="number")&&(this.data=n.data,this.read=n.read);this._constructedStringLength=0}var t=n.util=n.util||{},r;t.isArray=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};t.isArrayBuffer=function(n){return typeof ArrayBuffer!="undefined"&&n instanceof ArrayBuffer};t.isArrayBufferView=function(n){return n&&t.isArrayBuffer(n.buffer)&&n.byteLength!==undefined};t.ByteBuffer=i;t.ByteStringBuffer=i;r=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(n){this._constructedStringLength+=n;this._constructedStringLength>r&&(this.data.substr(0,1),this._constructedStringLength=0)};t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};t.ByteStringBuffer.prototype.putByte=function(n){return this.putBytes(String.fromCharCode(n))};t.ByteStringBuffer.prototype.fillWithByte=function(n,t){n=String.fromCharCode(n);for(var i=this.data;t>0;)t&1&&(i+=n),t>>>=1,t>0&&(n+=n);return this.data=i,this._optimizeConstructedString(t),this};t.ByteStringBuffer.prototype.putBytes=function(n){return this.data+=n,this._optimizeConstructedString(n.length),this};t.ByteStringBuffer.prototype.putString=function(n){return this.putBytes(t.encodeUtf8(n))};t.ByteStringBuffer.prototype.putInt16=function(n){return this.putBytes(String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt24=function(n){return this.putBytes(String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt32=function(n){return this.putBytes(String.fromCharCode(n>>24&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n&255))};t.ByteStringBuffer.prototype.putInt16Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255))};t.ByteStringBuffer.prototype.putInt24Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255))};t.ByteStringBuffer.prototype.putInt32Le=function(n){return this.putBytes(String.fromCharCode(n&255)+String.fromCharCode(n>>8&255)+String.fromCharCode(n>>16&255)+String.fromCharCode(n>>24&255))};t.ByteStringBuffer.prototype.putInt=function(n,t){var i="";do t-=8,i+=String.fromCharCode(n>>t&255);while(t>0);return this.putBytes(i)};t.ByteStringBuffer.prototype.putSignedInt=function(n,t){return n<0&&(n+=2<<t-1),this.putInt(n,t)};t.ByteStringBuffer.prototype.putBuffer=function(n){return this.putBytes(n.getBytes())};t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};t.ByteStringBuffer.prototype.getInt16=function(){var n=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24=function(){var n=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32=function(){var n=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,n};t.ByteStringBuffer.prototype.getInt16Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,n};t.ByteStringBuffer.prototype.getInt24Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,n};t.ByteStringBuffer.prototype.getInt32Le=function(){var n=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,n};t.ByteStringBuffer.prototype.getInt=function(n){var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),n-=8;while(n>0);return t};t.ByteStringBuffer.prototype.getSignedInt=function(n){var t=this.getInt(n),i=2<<n-2;return t>=i&&(t-=i<<1),t};t.ByteStringBuffer.prototype.getBytes=function(n){var t;return n?(n=Math.min(this.length(),n),t=this.data.slice(this.read,this.read+n),this.read+=n):n===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};t.ByteStringBuffer.prototype.bytes=function(n){return typeof n=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+n)};t.ByteStringBuffer.prototype.at=function(n){return this.data.charCodeAt(this.read+n)};t.ByteStringBuffer.prototype.setAt=function(n,t){return this.data=this.data.substr(0,this.read+n)+String.fromCharCode(t)+this.data.substr(this.read+n+1),this};t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};t.ByteStringBuffer.prototype.copy=function(){var n=t.createBuffer(this.data);return n.read=this.read,n};t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};t.ByteStringBuffer.prototype.truncate=function(n){var t=Math.max(0,this.length()-n);return this.data=this.data.substr(this.read,t),this.read=0,this};t.ByteStringBuffer.prototype.toHex=function(){for(var i,n="",t=this.read;t<this.data.length;++t)i=this.data.charCodeAt(t),i<16&&(n+="0"),n+=i.toString(16);return n};t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};t.createBuffer=function(n,i){return i=i||"raw",n!==undefined&&i==="utf8"&&(n=t.encodeUtf8(n)),new t.ByteBuffer(n)};t.encodeUtf8=function(n){return unescape(encodeURIComponent(n))};t.decodeUtf8=function(n){return decodeURIComponent(escape(n))}}return typeof forge=="undefined"&&(forge={}),n(forge)})(),function(){function n(n){n.cipher=n.cipher||{};n.cipher.algorithms=n.cipher.algorithms||{};n.cipher.createDecipher=function(t,i){var r=t;if(typeof r=="string"&&(r=n.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new n.cipher.BlockCipher({algorithm:r,key:i,decrypt:!0})};n.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase();n.cipher.algorithms[t]=i};n.cipher.getAlgorithm=function(t){return(t=t.toUpperCase(),t in n.cipher.algorithms)?n.cipher.algorithms[t]:null};var t=n.cipher.BlockCipher=function(n){this.algorithm=n.algorithm;this.mode=this.algorithm.mode;this.blockSize=this.mode.blockSize;this._finish=!1;this._input=null;this.output=null;this._op=n.decrypt?this.mode.decrypt:this.mode.encrypt;this._decrypt=n.decrypt;this.algorithm.initialize(n)};t.prototype.start=function(t){var i,r;t=t||{};i={};for(r in t)i[r]=t[r];i.decrypt=this._decrypt;this._finish=!1;this._input=n.util.createBuffer();this.output=t.output||n.util.createBuffer();this.mode.start(i)};t.prototype.update=function(n){for(n&&this._input.putBuffer(n);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};t.prototype.finish=function(n){n&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return n(this.blockSize,t,!1)},this.mode.unpad=function(t){return n(this.blockSize,t,!0)});var t={};return(t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))?!1:(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))?!1:this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)?!1:!0}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function i(t){var r,i;if(typeof t=="string"&&(t=n.util.createBuffer(t)),n.util.isArray(t)&&t.length>4)for(r=t,t=n.util.createBuffer(),i=0;i<r.length;++i)t.putByte(r[i]);return n.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}n.cipher=n.cipher||{};var t=n.cipher.modes=n.cipher.modes||{};t.cbc=function(n){n=n||{};this.name="CBC";this.cipher=n.cipher;this.blockSize=n.blockSize||16;this._ints=this.blockSize/4;this._inBlock=new Array(this._ints);this._outBlock=new Array(this._ints)};t.cbc.prototype.start=function(n){if(n.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in n)this._iv=i(n.iv),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.");};t.cbc.prototype.encrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^n.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock};t.cbc.prototype.decrypt=function(n,t,i){var r;if(n.length()<this.blockSize&&!(i&&n.length()>0))return!0;for(r=0;r<this._ints;++r)this._inBlock[r]=n.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)};t.cbc.prototype.pad=function(n){var t=n.length()===this.blockSize?this.blockSize:this.blockSize-n.length();return n.fillWithByte(t,t),!0};t.cbc.prototype.unpad=function(n,t){if(t.overflow>0)return!1;var r=n.length(),i=n.at(r-1);return i>this.blockSize<<2?!1:(n.truncate(i),!0)}}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){function l(t,i){var r=function(){return new n.aes.Algorithm(t,i)};n.cipher.registerAlgorithm(t,r)}function h(){var u,o,c,l,w,a,h,b,v,y,n,p;for(f=!0,s=[0,1,2,4,8,16,32,64,128,27,54],u=new Array(256),n=0;n<128;++n)u[n]=n<<1,u[n+128]=n+128<<1^283;for(t=new Array(256),e=new Array(256),r=new Array(4),i=new Array(4),n=0;n<4;++n)r[n]=new Array(256),i[n]=new Array(256);for(o=0,c=0,n=0;n<256;++n){for(h=c^c<<1^c<<2^c<<3^c<<4,h=h>>8^h&255^99,t[o]=h,e[h]=o,b=u[h],l=u[o],w=u[l],a=u[w],v=b<<24^h<<16^h<<8^h^b,y=(l^w^a)<<24^(o^a)<<16^(o^w^a)<<8^o^l^a,p=0;p<4;++p)r[p][o]=v,i[p][h]=y,v=v<<24|v>>>8,y=y<<24|y>>>8;o===0?o=c=1:(o=l^u[u[u[l^a]]],c^=u[u[c]])}}function c(n,r){for(var h,y,e=n.slice(0),o,p=1,c=e.length,w=c+6+1,a=u*w,f=c;f<a;++f)o=e[f-1],f%c==0?(o=t[o>>>16&255]<<24^t[o>>>8&255]<<16^t[o&255]<<8^t[o>>>24]^s[p]<<24,p++):c>6&&f%c==4&&(o=t[o>>>24]<<24^t[o>>>16&255]<<16^t[o>>>8&255]<<8^t[o&255]),e[f]=e[f-c]^o;if(r){var v,b=i[0],k=i[1],d=i[2],g=i[3],l=e.slice(0);for(a=e.length,f=0,h=a-u;f<a;f+=u,h-=u)if(f===0||f===a-u)l[f]=e[h],l[f+1]=e[h+3],l[f+2]=e[h+2],l[f+3]=e[h+1];else for(y=0;y<u;++y)v=e[h+y],l[f+(3&-y)]=b[t[v>>>24]]^k[t[v>>>16&255]]^d[t[v>>>8&255]]^g[t[v&255]];e=l}return e}function o(n,u,f,o){var tt=n.length/4-1,y,p,w,b,s,h,c,l,a,d,g,nt,v,k;for(o?(y=i[0],p=i[1],w=i[2],b=i[3],s=e):(y=r[0],p=r[1],w=r[2],b=r[3],s=t),h=u[0]^n[0],c=u[o?3:1]^n[1],l=u[2]^n[2],a=u[o?1:3]^n[3],v=3,k=1;k<tt;++k)d=y[h>>>24]^p[c>>>16&255]^w[l>>>8&255]^b[a&255]^n[++v],g=y[c>>>24]^p[l>>>16&255]^w[a>>>8&255]^b[h&255]^n[++v],nt=y[l>>>24]^p[a>>>16&255]^w[h>>>8&255]^b[c&255]^n[++v],a=y[a>>>24]^p[h>>>16&255]^w[c>>>8&255]^b[l&255]^n[++v],h=d,c=g,l=nt;f[0]=s[h>>>24]<<24^s[c>>>16&255]<<16^s[l>>>8&255]<<8^s[a&255]^n[++v];f[o?3:1]=s[c>>>24]<<24^s[l>>>16&255]<<16^s[a>>>8&255]<<8^s[h&255]^n[++v];f[2]=s[l>>>24]<<24^s[a>>>16&255]<<16^s[h>>>8&255]<<8^s[c&255]^n[++v];f[o?1:3]=s[a>>>24]<<24^s[h>>>16&255]<<16^s[c>>>8&255]<<8^s[l&255]^n[++v]}n.aes=n.aes||{};n.aes.Algorithm=function(n,t){f||h();var i=this;i.name=n;i.mode=new t({blockSize:16,cipher:{encrypt:function(n,t){return o(i._w,n,t,!1)},decrypt:function(n,t){return o(i._w,n,t,!0)}}});i._init=!1};n.aes.Algorithm.prototype.initialize=function(t){var i,f,u,r,e,o;if(!this._init){if(i=t.key,typeof i=="string"&&(i.length===16||i.length===24||i.length===32))i=n.util.createBuffer(i);else if(n.util.isArray(i)&&(i.length===16||i.length===24||i.length===32))for(f=i,i=n.util.createBuffer(),r=0;r<f.length;++r)i.putByte(f[r]);if(!n.util.isArray(i)&&(f=i,i=[],u=f.length(),u===16||u===24||u===32))for(u=u>>>2,r=0;r<u;++r)i.push(f.getInt32());if(!n.util.isArray(i)||!(i.length===4||i.length===6||i.length===8))throw new Error("Invalid key parameter.");e=this.mode.name;o=["CFB","OFB","CTR","GCM"].indexOf(e)!==-1;this._w=c(i,t.decrypt&&!o);this._init=!0}};n.aes._expandKey=function(n,t){return f||h(),c(n,t)};n.aes._updateBlock=o;l("AES-CBC",n.cipher.modes.cbc);var f=!1,u=4,t,e,s,r,i}return typeof forge=="undefined"&&(forge={}),n(forge)}(),function(){function n(n){for(var i=new Uint8Array(n.length),t=0;t<i.byteLength;t++)i[t]=n.charCodeAt(t);return i}onmessage=function(t){if(t.data.keyStr&&t.data.ivStr&&t.data.encrypted){var i=forge.cipher.createDecipher("AES-CBC",t.data.keyStr);i.start({iv:t.data.ivStr});i.update(new forge.util.ByteBuffer(t.data.encrypted));i.finish();postMessage({decrypted:n(i.output.bytes())})}}}();'}(e.Forge||(e.Forge={})),e.Forge}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";if(t.decrypt,t.decrypt=function(t,r,n){var i=forge.cipher.createDecipher("AES-CBC",r.keyStr);i.start({iv:r.ivStr}),i.update(new forge.util.ByteBuffer(n)),i.finish();var o=e.Common.stringToUint8Array(i.output.bytes());return t.apply(null,[o]),!0},window.Worker&&Blob&&window.URL&&window.URL.createObjectURL){var r=null;try{var n=new Blob(["'use strict';var forge;"+t.forgeScript],{type:"text/javascript"}),i=new Worker(window.URL.createObjectURL(n));t.decrypt=function(e,t,n){return null===r&&(r=e,i.postMessage({keyStr:t.keyStr,ivStr:t.ivStr,encrypted:n}),!0)},i.onmessage=function(e){e.data.decrypted&&(r.apply(null,[e.data.decrypted]),r=null)}}catch(t){e.Log.verbose(7,"AzureHtml5JS.Forge: Forge worker setup failed: "+t)}}else e.Log.verbose(7,"AzureHtml5JS.Forge: cannot start worker for Forge")}(e.Forge||(e.Forge={})),e.Forge}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";t.authorizationHeader="Authorization",t.httpRequest=function(t,r,n,i,o){return new Promise(function(a,s){var l=new e.HttpRequest.XMLHttpRequestWrapper;l.onload=function(){return 200==l.status?void a(l.response):(e.Log.error(13,"XHR load failed status:"+l.statusText+"("+l.status+"), expected to be 200, readyState:"+l.readyState+" ("+r+" "+t+")"),void s(e.Failure.translateHttpStatusToCode(l.status)))},l.onerror=function(){e.Log.error(13,"XHR failed status: "+l.statusText+" ("+l.status+"), readyState: "+l.readyState),s(2097753)},l.open(r,t),l.responseType=n,i&&i.forEach(function(e){l.setRequestHeader(e.name,e.value)}),o?l.send(o):l.send()})}}(e.HttpUtil||(e.HttpUtil={})),e.HttpUtil}(AzureHtml5JS||(AzureHtml5JS={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},AzureHtml5JS;!function(e){!function(t){"use strict";function r(t,r,i){void 0===i&&(i=0);var o,a=i;if(!r||4!==r.length)return e.Log.error(11,"Parameter error, box type must have four characters"),null;if(!t||t.byteLength<8)return e.Log.error(11,"Parameter error, not enough data"),null;for(;a<t.byteLength&&(o=n(t,a));){if(o.type===r)return o;a+=o.size}return null}function n(t,r){if(!t||t.byteLength-r<8)return e.Log.error(11,"MP4 box parsing error, not enough data for box header"),null;var n=new i(t,r);if(n.size=n.getUint32(),n.type=n.readString(4),1===n.size){if(t.byteLength-r<16)return e.Log.error(11,"MP4 box parsing error, not enough data for largesize"),null;if(n.size=n.getUint32()<<32,n.size+=n.getUint32(),n.size>9007199254740991)return e.Log.error(11,"Box size too big for precise representation as Javascript number"),null}else 0===n.size&&(n.size=t.byteLength);if(n.size>t.byteLength-r)return null;if("uuid"===n.type){if(t.byteLength-n.readPosition<16)return e.Log.error(11,"MP4 box parsing error, not enough data for usertype"),null;n.usertype=n.readString(16)}return n.data=new DataView(t.buffer,t.byteOffset+n.readPosition,t.byteLength-n.readPosition),n}var i=function(){function t(t,r){t&&void 0!==r&&(this.data=t,this.reader=new e.DataViewReaderWriter.Reader(t,r))}return t.prototype.getUint32=function(){return this.reader.getUint32()},t.prototype.getInt32=function(){return this.reader.getInt32()},t.prototype.getUint8=function(){return this.reader.getUint8()},t.prototype.getBytes=function(e){return this.reader.getBytes(e)},t.prototype.getRemainingBytes=function(){return this.reader.getBytes(this.size-this.readPosition)},t.prototype.readString=function(e){return this.reader.readString(e)},t.prototype.readTerminatedString=function(){return this.reader.readTerminatedString()},Object.defineProperty(t.prototype,"readPosition",{get:function(){return this.reader.readPos},enumerable:!0,configurable:!0}),t}();t.Mp4Box=i;var o=function(t){function r(r){t.call(this),r&&(this.size=r.size,this.type=r.type,this.usertype=r.usertype,this.data=r.data,this.reader=new e.DataViewReaderWriter.Reader(this.data),this._versionFlags=r._versionFlags)}return __extends(r,t),r.parse=function(t){var n=null;return t.data.byteLength<4?(e.Log.error(11,"Full box parsing error, not enough bytes"),null):(n=new r,n.size=t.size,n.type=t.type,n.usertype=t.usertype,n._versionFlags=t.data.getUint32(0),n.data=new DataView(t.data.buffer,t.data.byteOffset+4,t.data.byteLength-4),n.reader=new e.DataViewReaderWriter.Reader(n.data),n)},r.serialize=function(t,r){var n=12+("uuid"===t.type?16:0),i=r+n,o=new ArrayBuffer(i),a=new DataView(o),s=new e.DataViewReaderWriter.Writer(a);if(i>4294967295)throw new Error("Mp4FullBox::serialize, large size is not supported");if(s.setUint32(i),s.setString(t.type),"uuid"===t.type&&s.setString(t.usertype),s.setUint32(t._versionFlags),s.writePos!==n)throw new Error("Mp4FullBox::serialize, inconsistent bytes written");return s},Object.defineProperty(r.prototype,"version",{get:function(){return this._versionFlags>>24},set:function(e){this._versionFlags&=16777215,this._versionFlags|=e<<24},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"flags",{get:function(){return 16777215&this._versionFlags},set:function(e){this._versionFlags&=4278190080,this._versionFlags|=16777215&e},enumerable:!0,configurable:!0}),r.prototype.getUint32Cond=function(e){var t;return e&this.flags&&(t=this.reader.getUint32()),t},r}(i);t.Mp4FullBox=o;var a=function(t){function r(e){t.call(this,e)}return __extends(r,t),r.parse=function(t){var n=null,i=null;return(i=o.parse(t))?(n=new r(i),i.data.byteLength<n._calculatedSize()?(e.Log.error(11,"tfhd box parsing error, not enough data"),null):(n.trackId=n.getUint32(),n.baseDataOffsetHi=n.getUint32Cond(r.flags_baseDataOffsetPresent),n.baseDataOffsetLo=n.getUint32Cond(r.flags_baseDataOffsetPresent),n.sampleDescriptionIndex=n.getUint32Cond(r.flags_sampleDescriptionIndexPresent),n.defaultSampleDuration=n.getUint32Cond(r.flags_defaultSampleDurationPresent),n.defaultSampleSize=n.getUint32Cond(r.flags_defaultSampleSizePresent),n.defaultSampleFlags=n.getUint32Cond(r.flags_defaultSampleFlagsPresent),n)):null},r.prototype._calculatedSize=function(){var e=4;return e+=this.flags&r.flags_baseDataOffsetPresent?8:0,e+=this.flags&r.flags_sampleDescriptionIndexPresent?4:0,e+=this.flags&r.flags_defaultSampleDurationPresent?4:0,e+=this.flags&r.flags_defaultSampleSizePresent?4:0,e+=this.flags&r.flags_defaultSampleFlagsPresent?4:0},r.typeStr="tfhd",r.flags_baseDataOffsetPresent=1,r.flags_sampleDescriptionIndexPresent=2,r.flags_defaultSampleDurationPresent=8,r.flags_defaultSampleSizePresent=16,r.flags_defaultSampleFlagsPresent=32,r.flags_durationIsEmpty=65536,r.flags_defaultBaseIsMoof=131072,r}(o);t.TfhdBox=a;var s=function(t){function r(e){t.call(this,e)}return __extends(r,t),r.parse=function(t){var n=null,i=null;if(!(i=o.parse(t)))return null;if(n=new r(i),i.data.byteLength<4)return e.Log.error(11,"trun box parsing error, not enough data"),null;if(n.sampleCount=n.getUint32(),i.data.byteLength<n._calculatedSize())return e.Log.error(11,"trun box parsing error, not enough data"),null;n.dataOffset=n.getUint32Cond(r.flags_dataOffsetPresent),n.firstSampleFlags=n.getUint32Cond(r.flags_firstSampleFlagsPresent),n.sampleInfoArray=[];for(var a=0;a<n.sampleCount;a++){var s=new l;s.sampleDuration=n.getUint32Cond(r.flags_sampleDurationPresent),s.sampleSize=n.getUint32Cond(r.flags_sampleSizePresent),s.sampleFlags=n.getUint32Cond(r.flags_sampleFlagsPresent),n.flags&r.flags_sampleCompositionTimeOffsetsPresent&&(s.sampleCompositionTimeOffset=0===n.version?n.getUint32():n.getInt32()),n.sampleInfoArray.push(s)}return n},r.prototype._calculatedSize=function(){var e,t=4;return t+=this.flags&r.flags_dataOffsetPresent?4:0,t+=this.flags&r.flags_firstSampleFlagsPresent?4:0,e=this.flags&r.flags_sampleDurationPresent?4:0,e+=this.flags&r.flags_sampleSizePresent?4:0,e+=this.flags&r.flags_sampleFlagsPresent?4:0,e+=this.flags&r.flags_sampleCompositionTimeOffsetsPresent?4:0,t+=this.sampleCount*e},r.typeStr="trun",r.flags_dataOffsetPresent=1,r.flags_firstSampleFlagsPresent=4,r.flags_sampleDurationPresent=256,r.flags_sampleSizePresent=512,r.flags_sampleFlagsPresent=1024,r.flags_sampleCompositionTimeOffsetsPresent=2048,r}(o);t.TrunBox=s;var l=function(){return function(){}}();t.TrunSampleInfo=l;var u=function(t){function r(e){t.call(this,e),this.baseMediaDecodeTime=0}return __extends(r,t),r.parse=function(t){var n=null,i=null;return(i=o.parse(t))?(n=new r(i),i.data.byteLength<n._calculatedSize()?(e.Log.error(11,"tfdt box parsing error, not enough data"),null):(1===n.version&&(n.baseMediaDecodeTime=4294967296*n.getUint32()),n.baseMediaDecodeTime+=n.getUint32(),n.baseMediaDecodeTime>=9007199254740992&&e.Log.warning(11,"tfdt timestamp greater than 53 bits, possible precision loss"),n)):null},r.prototype._calculatedSize=function(){return 1===this.version?8:4},r.typeStr="tfdt",r}(o);t.TfdtBox=u;var c=function(t){function r(e){e?t.call(this,e):this.type=r.typeStr,this._keyIds=[]}return __extends(r,t),r.parse=function(t){var n=null,i=null;if(!(i=o.parse(t)))return null;if(n=new r(i),i.data.byteLength<n._calculatedSize())return e.Log.error(11,"pssh box parsing error, not enough data"),null;n.systemId=n.getBytes(16);var a=0;if(n.version>0){if(a=n.getUint32(),n._keyIds.length=a,i.data.byteLength<n._calculatedSize())return e.Log.error(11,"pssh box parsing error, not enough data"),null;for(var s=0;a>s;s++){var l=n.getBytes(16);n._keyIds[s]=l}}var u=n.getUint32();return i.data.byteLength<n._calculatedSize(u)?(e.Log.error(11,"pssh box parsing error, not enough data"),null):(n.specificData=n.getBytes(u),n)},r.prototype.addKeyId=function(e){if(16!==e.length)throw new Error("keyId must be 16 bytes");this.version=1,this._keyIds.push(e)},Object.defineProperty(r.prototype,"keyIds",{get:function(){return this._keyIds},enumerable:!0,configurable:!0}),r.prototype._calculatedSize=function(e){void 0===e&&(e=0);var t=20+e;return this.version>0&&(t+=4+16*this._keyIds.length),t},r.prototype.serialize=function(){var e=o.serialize(this,this._calculatedSize(this.specificData.byteLength));if(!this.systemId)throw new Error("systemId is not set");if(e.setBytes(this.systemId),this.version>0&&(e.setUint32(this._keyIds.length),this._keyIds.forEach(function(t){e.setBytes(t)})),!this.specificData)throw new Error("specificData is not set");if(e.setUint32(this.specificData.byteLength),e.setBytes(this.specificData),e.writePos!=e.data.buffer.byteLength)throw new Error("Failed to write to end of buffer");return e.data.buffer},r.typeStr="pssh",r}(o);t.PsshBox=c;var d=function(e){function t(r){r?e.call(this,r):this.type=t.typeStr}return __extends(t,e),t.parse=function(e){var r=null,n=null;if(!(n=o.parse(e)))return null;(r=new t(n)).schemeIdUrl=r.readTerminatedString(),r.value=r.readTerminatedString(),r.timescale=r.getUint32(),r.presentationTimeDelta=r.getUint32(),r.eventDuration=r.getUint32(),r.id=r.getUint32();var i=r.getRemainingBytes(),a=new DataView(i.buffer);r.messageData="";for(var s=0;s<i.length;s+=2){var l=a.getUint16(s,!0);if(0==l)break;r.messageData+=String.fromCharCode(l)}return r},t.typeStr="emsg",t}(o);t.EmsgBox=d,t.GetBoxByType=r,t.GetTfhdBox=function(t){var n,i=null;return(n=r(t,"tfhd"))?((i=a.parse(n))||e.Log.warning(11,"Parsing of tfhd failed"),i):(e.Log.warning(11,"tfhd not found"),null)},t.GetTrunBox=function(t){var n,i=null;return(n=r(t,"trun"))?((i=s.parse(n))||e.Log.warning(11,"Parsing of trun failed"),i):(e.Log.warning(11,"trun not found"),null)},t.GetTfdtBox=function(t){var n,i=null;return(n=r(t,"tfdt"))?((i=u.parse(n))||e.Log.warning(11,"Parsing of tfdt failed"),i):(e.Log.warning(11,"tfdt not found"),null)},t.GetPsshBoxes=function(t){for(var n,i=[],o=0;o<t.byteLength;){if(!(n=r(t,c.typeStr,o)))return e.Log.warning(11,"pssh not found"),i;var a=c.parse(n);a?i.push(a):e.Log.warning(11,"Parsing of pssh failed"),o+=n.size}return i},t.GetEmsgBoxes=function(t){for(var n,i=[],o=0;o<t.byteLength;){if(!(n=r(t,d.typeStr,o)))return i;var a=d.parse(n);a?i.push(a):e.Log.warning(11,"Parsing of emsg failed"),o+=n.size}return i.length>0&&e.Log.verbose(11,"emsg boxes found: "+i.length),i}}(e.Mp4Util||(e.Mp4Util={})),e.Mp4Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";!function(e){e[e.type1=1]="type1",e[e.type2=2]="type2",e[e.type3=3]="type3"}(t.Type||(t.Type={})),t.Type,t.MseSupported=function(){return e.VideoElementAdapter.supported()},t.HlsType1Supported=function(e){var t=!1;if(e&&e.canPlayType){var r=e.canPlayType("application/vnd.apple.mpegurl");("maybe"===r||"probably"===r)&&(t=!0)}return t},t.Mp4Type1Supported=function(e){var t=!1;if(e&&e.canPlayType){var r=e.canPlayType("video/mp4");("maybe"===r||"probably"===r)&&(t=!0)}return t}}(e.PlayerDetector||(e.PlayerDetector={})),e.PlayerDetector}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function r(e){var t=null,r=e.lastIndexOf("."),n=e.indexOf("/",r);return r>-1&&(t=e.substring(r+1,-1!==n?n:e.length)),t}function n(e){var t=null,r=e,n="(format=",i=e.lastIndexOf("?");i>-1&&(r=e.substring(0,i));var o=r.lastIndexOf(n);if(o>-1){var a=r.lastIndexOf(")");if(a>o){var s=(t=r.substring(o+n.length,a)).indexOf(",");s>-1&&(t=t.substring(0,s))}}return t}function i(t,r){e.Log.verbose(7,"Using foramt "+t+" to get player type.");var n=null;switch(t){case 1:e.PlayerDetector.HlsType1Supported(r)?n=1:e.Log.warning(7,"HLS type1 is not supported.");break;case 2:e.PlayerDetector.Mp4Type1Supported(r)?n=1:e.Log.warning(7,"MP4 type1 is not supported.");break;case 3:e.PlayerDetector.MseSupported(r)?n=3:e.Log.warning(7,"MSE is not supported.")}return n}!function(e){e[e.hls=1]="hls",e[e.mp4=2]="mp4",e[e.dash=3]="dash"}(t.Format||(t.Format={}));var o=(t.Format,{"m3u8-aapl-v3":1,"m3u8-aapl-v4":1,"mpd-time-csf":3,"mpd-time-cmaf":3}),a={mp4:2,m3u8:1},s={"video/mp4":2,"application/dash+xml":3,"application/vnd.apple.mpegurl":1};t.getByPresentationType=function(e,t){if(e&&e.length>0){var r=e.trim().toLowerCase();if(s[r])return i(s[r],t)}},t.getByUrl=function(e,t){var s=e.trim().toLowerCase();if(s.lastIndexOf(".ism/")>-1){var l=n(s);if(o[l])return i(o[l],t)}var u=r(s);return a[u]?i(a[u],t):null},t._getFileExtension=r,t._getAzureMediaFormatTag=n,t._getPlayerTypeByFormat=i}(e.PlayerType||(e.PlayerType={})),e.PlayerType}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";function r(e){for(var t=0;t<i.length;t++)if(i[t]&&i[t].id&&i[t].id==e){var r=i.splice(t,1);return 1===r.length?r[0]:null}return null}if(t.setTimeout=window.setTimeout.bind(window),t.clearTimeout=window.clearTimeout.bind(window),window.Worker&&Blob&&window.URL&&window.URL.createObjectURL&&-1==navigator.userAgent.indexOf("MSAppHost")){var n=0,i=[];try{var o=new Blob(["'use strict';(function () {var timers = [];onmessage = function (event) {if (!event.data.id) {return;}if (event.data.start) {if (event.data.ms) {var internalId = setTimeout(function () {var expiredId = removeTimer(event.data.id);if (expiredId && expiredId.external) {postMessage({ type: 'timeout', id: expiredId.external });}}, event.data.ms);timers.push({ external: event.data.id, internal: internalId });postMessage({ type: 'started', id: event.data.id });}else {postMessage({ type: 'timeout', id: event.data.id });}}else if (event.data.stop) {var removedId = removeTimer(event.data.id);if (removedId && removedId.internal) {clearTimeout(removedId.internal);}postMessage({ type: 'cancelled', id: event.data.id });}};function removeTimer(timerId) {for (var i = 0; i < timers.length; i++) {if (timers[i] && timers[i].external && timers[i].external == timerId) {var removed = timers.splice(i, 1);return removed.length === 1 ? removed[0] : null;}}return null;}})();"],{type:"text/javascript"}),a=new Worker(window.URL.createObjectURL(o));a.onmessage=function(e){if("timeout"===e.data.type){var t=r(e.data.id);t&&t.callback&&t.callback.apply(t.ctx,t.args)}else"cancelled"===e.data.type&&r(e.data.id)},t.setTimeout=function(e,t){for(var r=[],o=0;o<arguments.length-2;o++)r[o]=arguments[o+2];return n++,i.push({id:n,ctx:this,callback:e,args:r}),a.postMessage({start:!0,id:n,ms:t}),n},t.clearTimeout=function(e){a.postMessage({stop:!0,id:e})}}catch(t){e.Log.verbose(7,"AzureHtml5JS.Util: setTimeout/clearTimeout override failed: "+t)}}else e.Log.verbose(7,"AzureHtml5JS.Util: cannot override setTimeout/clearTimeout")}(e.Util||(e.Util={})),e.Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";t.getSegmentDuration=function(e){var t=e.requestedStream.streamingInfo.currentSegment,r=t.segmentInfo.durationInSec;return!r&&e.sessionContext.commonPresentation.isLive&&t.prev&&(r=t.prev.segmentInfo.durationInSec),r},t.getBufferData=function(t){return e.assert(0===t.requestedStream.type||1===t.requestedStream.type,"getBufferData: unexpected type"),0===t.requestedStream.type?t.sessionContext.videoBufferData:t.sessionContext.audioBufferData}}(e.StreamUtil||(e.StreamUtil={})),e.StreamUtil}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=6,r=Math.pow(10,t);e.add=function(e,n){var i,o,a="";e.length>t?(i=parseInt(e.slice(0,e.length-t),10),o=parseInt(e.slice(e.length-t),10)):(i=0,o=parseInt(e,10)),(o+=n)>=r&&(i+=Math.floor(o/r),o%=r);var s=o.toString();if(i){a=i.toString();for(var l=0;l<t-s.length;l++)a+="0"}return a+=s}}(e.Timestamp||(e.Timestamp={})),e.Timestamp}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function t(){}return t.FormatDashMediaUrl=function(e,t,r,n){if(!e)throw new Error("url Template is not set");if(!t)throw new Error("bitrate is not set");var i=e;return i=i.replace("$Bandwidth$",t),r&&(i=i.replace("$Time$",r)),n&&(i+=n),i},t.FormatDashInitUrl=function(t,r,n){return e.UrlFormatter.FormatDashMediaUrl(t,r,null,n)},t}();e.UrlFormatter=t}(e.Util||(e.Util={})),e.Util}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(t){"use strict";var r=function(){function t(){if(!t.useJavascriptLibrary){var e="msCrypto"in window?window.msCrypto:window.crypto;this._webCryptor=e.subtle||e.webkitSubtle}}return t.prototype.dispose=function(){this._webCryptor=null},t.prototype.initialize=function(t,r,n){var i=this,o={name:"aes-cbc",iv:n};return new Promise(function(a,s){i._webCryptoImportKey(r,o).then(function(r){t.webCrypto={importedkey:r,algorithm:o},e.Log.verbose(12,"Using webcrypto"),a()},function(i){return r&&n?(t.forge={keyStr:e.Common.uint8ArrayToString(new Uint8Array(r)),ivStr:e.Common.uint8ArrayToString(new Uint8Array(n))},e.Log.verbose(12,"Using forge"),void a()):void s(i)})})},t.prototype.isInitialized=function(e){return null!=e.forge||null!=e.webCrypto},t.prototype.decrypt=function(e,t){var r=this;return new Promise(function(n,i){e.webCrypto?r._webCryptoDecrypt(e.webCrypto.algorithm,e.webCrypto.importedkey,t).then(function(e){n(e)},function(e){i(e)}):r._forgeDecrypt(e.forge,t).then(function(e){n(e)},function(e){i(e)})})},t.prototype._webCryptoImportKey=function(e,t){var r=this;return new Promise(function(n,i){function o(e){var t=s.result?s.result:e;n(t)}function a(e){i(e)}if(r._webCryptor){var s=r._webCryptor.importKey("raw",new Uint8Array(e),t,!1,["decrypt"]);"oncomplete"in s?(s.oncomplete=o,s.onerror=a):s.then(function(e){o(e)},function(e){a(e)})}else i("Platform doesn't support webCrypto")})},t.prototype._forgeDecrypt=function(r,n){return new Promise(function(i,o){function a(){e.Forge.decrypt(s,r,n)||(Date.now()-l<t._maxWorkerWaitMSec?e.Util.setTimeout(a,0):o("The forge worker is too busy, total wait time = "+(Date.now()-l)+"ms"))}function s(e){i(e.buffer)}var l=Date.now();a()})},t.prototype._webCryptoDecrypt=function(e,t,r){var n=this;return new Promise(function(i,o){function a(e){var t=l.result?l.result:e;i(t)}function s(e){o(e)}var l=n._webCryptor.decrypt(e,t,new Uint8Array(r));"oncomplete"in l?(l.oncomplete=a,l.onerror=s,l.onabort=s):l.then(function(e){a(e)},function(e){s(e)})})},t.useJavascriptLibrary=!1,t._maxWorkerWaitMSec=3e4,t}();t.Decryptor=r}(e.WebCryptoUtil||(e.WebCryptoUtil={})),e.WebCryptoUtil}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JS;!function(e){!function(e){"use strict";var t=function(){function e(){this.xmlHttpRequestDelegate=new XMLHttpRequest}return Object.defineProperty(e.prototype,"responseType",{get:function(){return this.xmlHttpRequestDelegate.responseType},set:function(e){this.xmlHttpRequestDelegate.responseType=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this.xmlHttpRequestDelegate.timeout},set:function(e){this.xmlHttpRequestDelegate.timeout=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"msCaching",{get:function(){return this.xmlHttpRequestDelegate.msCaching?this.xmlHttpRequestDelegate.msCaching:void 0},set:function(e){this.xmlHttpRequestDelegate.msCaching&&(this.xmlHttpRequestDelegate.msCaching=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this.xmlHttpRequestDelegate.readyState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.xmlHttpRequestDelegate.status},set:function(e){this.xmlHttpRequestDelegate.status=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this.xmlHttpRequestDelegate.response},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusText",{get:function(){return this.xmlHttpRequestDelegate.statusText},enumerable:!0,configurable:!0}),e.prototype.setRequestHeader=function(e,t){this.xmlHttpRequestDelegate.setRequestHeader(e,t)},e.prototype.abort=function(){this.xmlHttpRequestDelegate.abort()},e.prototype.open=function(e,t,r,n,i){this.xmlHttpRequestDelegate.open(e,t,r||!0,n,i)},e.prototype.getResponseHeader=function(e){return this.xmlHttpRequestDelegate.getResponseHeader(e)},e.prototype.send=function(e){this.setCallbacksOnDelegate(),this.xmlHttpRequestDelegate.send(e)},e.prototype.setCallbacksOnDelegate=function(){var e=this;this.xmlHttpRequestDelegate.onabort=function(t){e.onabort&&e.onabort(t)},this.xmlHttpRequestDelegate.onerror=function(t){e.onerror&&e.onerror(t)},this.xmlHttpRequestDelegate.onload=function(t){e.onload&&e.onload(t)},this.xmlHttpRequestDelegate.onloadstart=function(t){e.onloadstart&&e.onloadstart(t)},this.xmlHttpRequestDelegate.onloadend=function(t){e.onloadend&&e.onloadend(t)},this.xmlHttpRequestDelegate.onprogress=function(t){e.onprogress&&e.onprogress(t)},this.xmlHttpRequestDelegate.ontimeout=function(t){e.ontimeout&&e.ontimeout(t)},this.xmlHttpRequestDelegate.onreadystatechange=function(t){e.onreadystatechange&&e.onreadystatechange(t)}},e}();e.XMLHttpRequestWrapper=t}(e.HttpRequest||(e.HttpRequest={})),e.HttpRequest}(AzureHtml5JS||(AzureHtml5JS={}));var AzureHtml5JSTech=AzureHtml5JS,silverlightSSLoaded,onSilverlightError,UrlRewriter;!function(e){"use strict";function t(e){if(e&&e.length>0){for(var t=0;t<e.length;t++)if(-1===c.indexOf(e[t]))throw new Error('Format "'+e[t]+'" not supported');return!0}return!1}function r(e,t){for(var r=[],n=0;n<t.length;n++)-1!==m[e].indexOf(t[n].type)&&r.push(t[n]);return r}function n(e){var t=e.trim(),r=t.search(/\.ism\/manifest/i);return t.substr(0,r+g.length)}function i(e){var i,c=e.src.trim(),m=c.search(/format=/i),b=[],S="",T="",k=c.indexOf("?");if(-1!==k&&""!==(T=c.substr(k))){var w=new RegExp("(\\?|&)protectionType=(.[^&]*)","i"),E=new RegExp("(\\?|&)token=(.[^&]*)","i"),C=T.match(w),P=T.match(E);if(C&&3===C.length){var I=new _;I.type=C[2],P&&3===P.length&&(I.authenticationToken=decodeURIComponent(P[2])),e.protectionInfo=[I]}}var R=c.match(/.*\(format=(.*)\)/),A=!1;if(R&&2===R.length){var M=R[1].toLowerCase();(0===M.indexOf(p)||0===M.indexOf(h))&&(A=!0)}m>-1&&(c=c.replace(/format=[^,)]*[ ,]*/i,""),c=c.replace(/\(\s*\)/,"")),(i=c.match(/\.ism\/manifest\([^)]*\)/i))&&i.length>0&&(S=i[0].substr(g.length+1).trim()),c=n(e.src.trim());var O=y;e.streamingFormats&&t(e.streamingFormats)&&(O=e.streamingFormats);for(var j=0;j<O.length;j++){var D,x,N,L="";if(D=O[j],x=f[D],D!==o){L="(format="+(D==a&&A?p:D!=s&&D!=l&&D!=u||!A?d[D]:h),L+=S?","+S:")"}else S&&(L="("+S);if(e.protectionInfo){var B=r(D,e.protectionInfo);if(!B.length)continue;N=new v(c+L,x,B)}else N=new v(c+L,x,null);""!==T&&(N.src+=T),b.push(N)}return b.length>0?b:null}var o="SMOOTH",a="DASH",s="HLS-V3",l="HLS-V4",u="HLS",c=[o,a,l,s,u],d={DASH:"mpd-time-csf","HLS-V3":"m3u8-aapl-v3","HLS-V4":"m3u8-aapl-v4",HLS:"m3u8-aapl"},p="mpd-time-cmaf",h="m3u8-cmaf",f={SMOOTH:"application/vnd.ms-sstr+xml",DASH:"application/dash+xml","HLS-V3":"application/vnd.apple.mpegurl","HLS-V4":"application/vnd.apple.mpegurl",HLS:"application/vnd.apple.mpegurl"},m={SMOOTH:["PlayReady","AES"],DASH:["PlayReady","AES","Widevine"],"HLS-V3":["PlayReady","AES"],"HLS-V4":["PlayReady","AES"],HLS:["PlayReady","AES","FairPlay"]},g=".ism/manifest",y=c,v=function(){return function(e,t,r){this.src=e,this.type=t,this.protectionInfo=r}}();e.streamSrc=v;var _=function(){return function(){}}();e.protectionInfo=_,e.setStreamingFormats=function(e){t(e)&&(y=e)},e.resetStreamingFormats=function(){y=c},e.expandSources=function(e){for(var t,r,o=[],a=[],s=0;e&&s<e.length;s++){var l=e[s].src,u=e[s].src.indexOf("?");-1!==u&&(l=e[s].src.substr(0,u).toLowerCase()),-1===l.toLowerCase().lastIndexOf(".ism/manifest")||e[s].disableUrlRewriter?o.push(e[s]):(r=n(e[s].src),-1===a.indexOf(r)&&(a.push(r),(t=i(e[s]))&&(o=o.concat(t))))}return o.length>0?o:null}}(UrlRewriter||(UrlRewriter={}));var AMP;!function(e){!function(e){"use strict";e.binaryToBase64=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=[],n=0;n<e.byteLength;){var i=e[n++];r.push(t.charAt(i>>2)),i=(3&i)<<4,n<e.byteLength?(r.push(t.charAt(i|e[n]>>4)),i=(15&e[n++])<<2,n<e.byteLength?(r.push(t.charAt(i|e[n]>>6)),r.push(t.charAt(63&e[n++]))):(r.push(t.charAt(i)),r.push("="))):(r.push(t.charAt(i)),r.push("=="))}return r.join("")},e.base64ToBinary=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=new Uint8Array(new ArrayBuffer(3*e.length/4+4)),n=0,i=0;n<e.length;){var o=t.indexOf(e.charAt(n)),a=t.indexOf(e.charAt(n+1));if(r[i++]=o<<2|a>>4,"="!==e.charAt(n+2)){var s=t.indexOf(e.charAt(n+2));if(r[i++]=a<<4|s>>2,"="!==e.charAt(n+3)){var l=t.indexOf(e.charAt(n+3));r[i++]=s<<6|l}}n+=4}return new Uint8Array(r.buffer,0,i)}}(e.Base64Utils||(e.Base64Utils={})),e.Base64Utils}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";function t(e,t){i(e,3,t)}function r(e,t){i(e,2,t)}function n(e,t){i(e,1,t)}function i(e,t,r){var n=new Date(Date.now());if(u>=t&&c[e]){var i="["+n.getHours()+":"+n.getMinutes()+":"+(n.getSeconds()+n.getMilliseconds()/1e3).toFixed(3)+"] "+o[t]+": "+a[e]+": "+r;h&&(f.length>m&&f.shift(),f.push(i)),g&&l.log(i)}}!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warning=2]="warning",e[e.verbose=3]="verbose"}(e.Level||(e.Level={}));var o=e.Level;!function(e){e[e.functionalTest=0]="functionalTest",e[e.azureHtml5JS=1]="azureHtml5JS",e[e.flashSS=2]="flashSS",e[e.silverlightSS=3]="silverlightSS",e[e.videojs=4]="videojs",e[e.plugin=5]="plugin",e[e.html5FairplayHLS=6]="html5FairplayHLS",e[e.html5=7]="html5",e[e.scte35=8]="scte35",e[e.scheduler=9]="scheduler",e[e.ad=10]="ad",e[e.ampAPI=11]="ampAPI",e[e.cea608Module=12]="cea608Module",e[e.max=13]="max"}(e.Area||(e.Area={}));var a=e.Area;e.verbose=t,e.warning=r,e.error=n,e.startup=function(e,t){i(e,0,t)},e.videoJSLogOverride=function(e){for(var i=[],o=0;o<arguments.length-1;o++)i[o]=arguments[o+1];if(i&&i.length>0){var a=Array.prototype.slice.call(i[0]);switch(e){case"warn":r(4,a.join(" "));break;case"error":n(4,a.join(" "));break;case null:t(4,a.join(" "));break;default:t(4,a.join(" "))}}},e.setConsoleOutputByLevel=function(e){u=e},e.enableConsoleOutputByArea=function(e){void 0===e||null===e?c.forEach(function(e,t,r){r[t]=!0}):c[e]=!0},e.disableConsoleOutputByArea=function(e){void 0===e||null===e?c.forEach(function(e,t,r){r[t]=!1}):c[e]=!1},e.enableMemoryLog=function(e){void 0===e&&(e=!0),h=e},e.setLogConfig=function(e){if(void 0!==e&&e.TraceTargets&&!(e.TraceTargets.length<=0)){h=!1,g=!1,u=e.maxLogLevel;for(var t=0;t<e.TraceTargets.length;t++)"console"===e.TraceTargets[t].target.toLowerCase()?g=!0:"memory"===e.TraceTargets[t].target.toLowerCase()&&(h=!0,m=e.TraceTargets[t].maxMemoryTraceCount?e.TraceTargets[t].maxMemoryTraceCount:p)}},e.getMemoryLog=function(e){void 0===e&&(e=!0);var t=f;return e&&(f=[]),t.join("\n")},e.writeEntry=i;for(var s=function(){},l=window.console||{log:s,warn:s,error:s},u=0,c=[],d=0;13>d;d++)c.push(!1);var p=5e4,h=!1,f=[],m=p,g=!0;e.enableConsoleOutputByArea(),e.setConsoleOutputByLevel(1)}(e.Logger||(e.Logger={})),e.Logger}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";e.formatString=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];var r=Array.prototype.slice.call(e,1);return e[0].replace(/{(\d+)}/g,function(e,t){return void 0!==r[t]?r[t]:e})}}(e.Misc||(e.Misc={})),e.Misc}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";!function(e){e[e.audio=0]="audio",e[e.video=1]="video"}(e.MediaType||(e.MediaType={}));var t=(e.MediaType,function(){function e(e,t){this._el=e,this._typeStr=0===t?"Audio":"Video",this._bufferLevel=0,this._handlers=new r,this.downloadRequested=null,this.downloadCompleted=null,this.downloadFailed=null}return Object.defineProperty(e.prototype,"bufferLevel",{get:function(){var e="get"+this._typeStr+"BufferLength";return this._el&&this._el[e]?this._el[e]():0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"perceivedBandwidth",{get:function(){return this._el&&this._el.getPerceivedBandwidth?this._el.getPerceivedBandwidth():0},enumerable:!0,configurable:!0}),e.prototype.addEventListener=function(e,t){this._handlers[e]&&this._handlers[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this._handlers[e]){var r=this._handlers[e].indexOf(t);-1!==r&&this._handlers[e].splice(r,1)}},e.prototype.dispatchEvent=function(e){if(this._handlers[e])for(var t={type:e},r=0;r<this._handlers[e].length;r++)this._handlers[e][r].call(this,t)},e}());e.BufferData=t;var r=function(){return function(){this.downloadrequested=[],this.downloadcompleted=[],this.downloaddecrypted=[],this.downloadfailed=[]}}()}(e.FlashSS||(e.FlashSS={})),e.FlashSS}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";var r=function(){function t(e){this._streams=[],this._flashElement=e;for(var t=0;t<e.getNumAlternativeAudioStreams();t++){var r=new n(e,t);this._streams.push(r)}this.selectedIndex=this._streams.length>0?e.getCurrentAlternativeAudioStreamIndex():void 0}return Object.defineProperty(t.prototype,"streams",{get:function(){return this._streams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabledIndices",{get:function(){for(var e=[],t=0;t<this._streams.length;t++)if(this._streams[t].enabled){e.push(t);break}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex},set:function(e){0!=this._streams.length&&(void 0!=this._selectedIndex&&(this._streams[this._selectedIndex].enabled=!1),this._streams[e].enabled=!0,this._selectedIndex=e)},enumerable:!0,configurable:!0}),t.prototype.switchIndex=function(t){if(this._flashElement.getHasAlternativeAudio()){if(1!=this.enabledIndices.length)return e.Logger.error(2,"switchIndex failed - only single stream supported: "+this.enabledIndices.length+" streams enabled"),void this._flashElement.tech.trigger(amp.streamListEventName.streamselectnotsupported);if(t>=this.streams.length||0>t)return e.Logger.error(2,"audioChange failed - tried to enable invalid index: "+t),void this._flashElement.tech.trigger(amp.streamListEventName.streamindexinvalid);if(t===this.enabledIndices[0])return e.Logger.verbose(2,"audioChange failed because current stream selected"),void this._flashElement.tech.trigger(amp.streamListEventName.streamselected);this.selectedIndex=t,this._flashElement.switchAlternativeAudioIndex(t),this._flashElement.tech.trigger(amp.streamListEventName.streamselected)}else e.Logger.error(2,"No alternative audio streams found")},t.prototype.addEventListener=function(e,t){this._flashElement.tech.on(e,t)},t.prototype.removeEventListener=function(e,t){this._flashElement.tech.off(e,t)},t}();t.AudioStreamList=r;var n=function(){function e(e,t){this.enabled=!1,this.language=e.getAlternativeAudioItemAt(t).info.attributes.Language,this.codec=e.getAlternativeAudioItemAt(t).info.targetTrack.fourCC,this.bitrate=1e3*e.getAlternativeAudioItemAt(t).bitrate,this.name=this.getName(e,t)}return e.prototype.getName=function(e,t){var r=e.getAlternativeAudioItemAt(t).info.urlTemplate.toLowerCase(),n="fragments(",i=r.indexOf(n),o=r.indexOf("=",i);return e.getAlternativeAudioItemAt(t).info.urlTemplate.substring(i+n.length,o)},e}();t.AudioStream=n}(e.FlashSS||(e.FlashSS={})),e.FlashSS}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";var t=function(){return function(e){if(this.streams=[],e.getIsDynamicStream()){var t=new r(e);this.streams.push(t)}this.selectedIndex=this.streams.length>0?0:void 0}}();e.VideoStreamList=t;var r=function(){function e(e){this.name="",this.tracks=[],this._flashElement=e,this._selectedTrack=-1;for(var t=e.getStreamItems(),r=0;r<t.length;r++){var n=new i(t[r]);this.tracks.push(n)}}return e.prototype.selectTrackByIndex=function(e){if(this._selectedTrack!=e){-1==e?this._flashElement.setAutoDynamicStreamSwitch(!0):(this._flashElement.setAutoDynamicStreamSwitch(!1),this._flashElement.switchDynamicStreamIndex(e));for(var t=0;t<this.tracks.length;t++)this.tracks[t].streamingInfo.selectable=-1===e||e===t;this._selectedTrack=e,this._flashElement.tech.trigger(amp.streamEventName.trackselected)}},e.prototype.addEventListener=function(e,t){this._flashElement.tech.on(e,t)},e.prototype.removeEventListener=function(e,t){this._flashElement.tech.off(e,t)},e}();e.VideoStream=r;var n=function(){return function(){this.selectable=!0}}();e.MediaTrackStreamingInfo=n;var i=function(){function e(e){this.width=e.width,this.height=e.height,this.bitrate=1e3*e.bitrate,this.streamingInfo=new n}return Object.defineProperty(e.prototype,"selectable",{get:function(){return this.streamingInfo.selectable},enumerable:!0,configurable:!0}),e}();e.VideoTrack=i}(e.FlashSS||(e.FlashSS={})),e.FlashSS}(AMP||(AMP={}));var AMP;!function(e){!function(e){"use strict";var t=function(){function e(e){this._html5Tech=e}return Object.defineProperty(e.prototype,"streams",{get:function(){var e=[],t=this._html5Tech.player().audioTracks();if(t)for(var r=0;r<t.length;r++){var n={name:t[r].label,codec:"aac",language:t[r].language,bitrate:0,enabled:t[r].enabled};e.push(n)}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabledIndices",{get:function(){var e=[],t=this._html5Tech.player().audioTracks();if(t)for(var r=0;r<t.length;r++)t[r].enabled&&e.push(r);return e},enumerable:!0,configurable:!0}),e.prototype.switchIndex=function(e){var t=this._html5Tech.player().audioTracks();if(t&&e>=0&&e<t.length)for(var r=0;r<t.length;r++)t[r].enabled=r===e,r===e&&this._html5Tech.trigger(amp.streamListEventName.streamselected)},e.prototype.addEventListener=function(e,t){this._html5Tech.on(e,t)},e.prototype.removeEventListener=function(e,t){this._html5Tech.off(e,t)},e}();e.AudioStreamList=t}(e.Html5||(e.Html5={})),e.Html5}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";var r;!function(e){e[e.success=200]="success"}(r||(r={}));var n=function(){return function(e,t,r){this.src=e,this.autoPlay=t,this.fairplayInfo=r}}();t.SrcInfo=n;var i=function(){return function(e,t){this.code=e,this.msg=t}}(),o=function(){return function(e,t,r,n){this.target=e,this.listener=t,this.eventName=r,this.useCapture=n}}(),a=function(){function t(e,t,r,n){this.videoTag=e,this.srcInfo=t,this.onError=r,this.onEvent=n,this.certFecthed=!1,this.certificate=null,this.session=null,this.licenseUrl=null,this.disposed=!1,this.keySessionEventListeners=[],this.init()}return t.prototype.dispose=function(){this.disposed=!0,this.keySessionEventListeners.forEach(function(e){e.target.removeEventListener(e.eventName,e.listener,e.useCapture)}),this.keySessionEventListeners=null,this.videoTag&&(this.videoTag=null),this.srcInfo=null,this.onError=null,this.certificate=null,this.onEvent=null,this.certFecthed=!1,this.session&&this.session.close()},t.prototype.init=function(){if(this.srcInfo.fairplayInfo&&this.srcInfo.fairplayInfo.type&&"FairPlay"==this.srcInfo.fairplayInfo.type&&this.srcInfo.fairplayInfo.certificateUrl){var t=this;new Promise(function(r,n){var o=new XMLHttpRequest;o.open("GET",t.srcInfo.fairplayInfo.certificateUrl,!0),o.responseType="arraybuffer",o.onload=function(){t.disposed||(e.Logger.verbose(6,"FairPlay certificate fetch completed"),200===this.status?(t.certificate=new Uint8Array(this.response),r()):n(new i(5242887,"Fairplay certificate fetch failed with status ="+this.status)))},o.onerror=function(){t.disposed||n(new i(5242887,"Error occurred during Fairplay certificate fetch."))},e.Logger.verbose(6,"Fairplay certificate fetch initiated"),o.send()}).then(function(){t.certFecthed=!0,t.setSrcOnVideoElement()}).catch(function(r){e.Logger.error(6,r.msg),t.onError(r.code,r.msg)})}else this.onError(4194304,"Initialization Error in FairPlay")},t.prototype.play=function(){this.certFecthed?this.videoTag.play():this.pendingPlay=!0},t.prototype.addEventListener=function(e,t,r,n){e.addEventListener(t,r,n),this.keySessionEventListeners.push(new o(e,r,t,n))},t.prototype.setSrcOnVideoElement=function(){function t(t){if(!l.disposed){var r=new XMLHttpRequest;r.open("POST",l.licenseUrl,!0),r.onload=function(){if(!l.disposed)try{if(e.Logger.verbose(6,"FairPlay License fetch completed"),200!==this.status)throw Error("License fetch failed with http status = "+this.status);var t=this.responseText.trim(),r=t.indexOf("<ckc>"),n=t.indexOf("</ckc>");if(-1===r||-1===n)throw Error("License data format not as expected, missing or misplaced <ckc> tag");r+=5,t=t.substr(r,n-r);var i=e.Base64Utils.base64ToBinary(t);l.session.update(i)}catch(t){var o=t.message?t.message:"Failed to update MediaKeySession with fetched Fairplay license.";e.Logger.error(6,o),l.onError(5242886,o)}},r.onerror=function(){if(!l.disposed){var t="Error occurred during Fairplay license fetch.";e.Logger.error(6,t),l.onError(5242886,t)}},r.responseType="text";var n="spc="+e.Base64Utils.binaryToBase64(t.message)+"&assetId="+encodeURIComponent(l.contentId);r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),l.srcInfo.fairplayInfo.authenticationToken&&r.setRequestHeader("Authorization",l.srcInfo.fairplayInfo.authenticationToken),e.Logger.verbose(6,"FairPlay License fetch initiated"),r.send(n)}}function r(){if(!l.disposed){var t="MediaKeyError code: "+l.session.error.code+", systemCode: "+AzureHtml5JS.Common.toHexString(l.session.error.systemCode);e.Logger.error(6,t),l.onError(5242880,t)}}function n(t,r){var n="video/mp4",i="WebKitMediaKeys"in window,o=null;try{if(!i||!window.WebKitMediaKeys.isTypeSupported(r,n))throw new Error("No EME support.");l.videoTag.webkitSetMediaKeys(new window.WebKitMediaKeys(r)),o=l.videoTag.webkitKeys.createSession(n,t)}catch(t){var a=t.message?t.message:r+" session creation failed";e.Logger.error(6,a),l.onError(5242881,a)}return o}function i(e){var t=a(e);return l.licenseUrl=t.substring(1).replace("skd://","https://"),o(l.licenseUrl)}function o(e){var t=document.createElement("a");return t.href=e,t.hostname}function a(e){var t=new Uint16Array(e.buffer);try{return String.fromCharCode.apply(null,t)}catch(e){for(var r=[],n=0;n<t.byteLength;n++)r.push(String.fromCharCode(t[n]));return r.join("")}}function s(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,i=e.length;i>n;n++)r[n]=e.charCodeAt(n);return r}if(!this.disposed){this.addEventListener(this.videoTag,"webkitneedkey",function(e){if(!l.disposed){var o=e.initData;l.contentId=i(o),o=l.concatInitDataContentIdAndCertificate(o,s(l.contentId)),l.session=n(o,"com.apple.fps.1_0"),l.session&&(l.addEventListener(l.session,"webkitkeymessage",t,!1),l.addEventListener(l.session,"webkitkeyerror",r,!1))}},!1),this.videoTag.autoplay=this.srcInfo.autoPlay,this.videoTag.src=this.srcInfo.src,this.pendingPlay&&this.videoTag.play();var l=this}},t.prototype.concatInitDataContentIdAndCertificate=function(e,t){var r=e.length+4+t.byteLength+4+this.certificate.byteLength,n=new ArrayBuffer(r),i=new DataView(n),o=0,a=new Uint8Array(n,o,e.byteLength);a.set(e),o+=a.byteLength,i.setUint32(o,t.byteLength,!0),o+=4;var s=new Uint16Array(n,o,t.length);return s.set(t),o+=s.byteLength,i.setUint32(o,this.certificate.byteLength,!0),o+=4,new Uint8Array(n,o,this.certificate.byteLength).set(this.certificate),new Uint8Array(n,0,n.byteLength)},t}();t.FairPlay=a}(e.Html5Fairplay||(e.Html5Fairplay={})),e.Html5Fairplay}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";function r(t){var r=null;if(t&&t.length>18)try{var n=4294967296,i=16777216;if(r={id:void 0,startOffset:0},t[4]>>7)e.Logger.warning(8,"Received encrypted message. Skipping..");else{var o=67108864*(127&t[4])+(t[5]<<18)+(t[6]<<10)+(t[7]<<2)+(t[8]>>6),a=t[13];if(5!=a)e.Logger.warning(8,"Skipping unsupported splice command: "+a);else if(r.id=t[14]*i+(t[15]<<16)+(t[16]<<8)+t[17],r.cancel=t[18]>>7==1,!r.cancel){r.out=t[19]>>7==1;var s=(64&t[19])>>6==1,l=(32&t[19])>>5==1,u=(16&t[19])>>4==1;if(s)if(u)r.startOffset;else{var c=(128&t[20])>>7==1;if(c){var d=(1&t[20])*n+t[21]*i+(t[22]<<16)+(t[23]<<8)+t[24];r.startOffset=(d+o)/9e4}if(l){var p=c?25:21,h=(t[p],(1&t[p])*n+t[p+1]*i+(t[p+2]<<16)+(t[p+3]<<8)+t[p+4]);r.duration=h/9e4}}else e.Logger.warning(8,"Component splice mode is not supported.")}}}catch(e){r=null}return r}t.parseBase64EncodedMessage=function(e){var t=null;if(e)try{for(var n=window.atob(e),i=new ArrayBuffer(n.length),o=new Uint8Array(i),a=0;a<n.length;a++)o[a]=n.charCodeAt(a);t=r(o)}catch(e){t=null}return t},t.parseBinaryMessage=r}(e.Scte35Parser||(e.Scte35Parser={})),e.Scte35Parser}(AMP||(AMP={})),function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};t[a][0].call(c.exports,function(e){var r=t[a][1][e];return i(r||e)},c,c.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===i||t===u?62:t===o||t===c?63:a>t?-1:a+10>t?t-a+26+26:l+26>t?t-l:s+26>t?t-s+26:void 0}var r="undefined"!=typeof Uint8Array?Uint8Array:Array,i="+".charCodeAt(0),o="/".charCodeAt(0),a="0".charCodeAt(0),s="a".charCodeAt(0),l="A".charCodeAt(0),u="-".charCodeAt(0),c="_".charCodeAt(0);e.toByteArray=function(e){function n(e){u[d++]=e}var i,o,a,s,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;l="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,u=new r(3*e.length/4-l),a=l>0?e.length-4:e.length;var d=0;for(i=0,o=0;a>i;i+=4,o+=3)s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(s>>8&255),n(255&s)),u},e.fromByteArray=function(e){function t(e){return n.charAt(e)}var r,i,o,a=e.length%3,s="";for(r=0,o=e.length-a;o>r;r+=3)i=(e[r]<<16)+(e[r+1]<<8)+e[r+2],s+=function(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}(i);switch(a){case 1:s+=t((i=e[e.length-1])>>2),s+=t(i<<4&63),s+="==";break;case 2:s+=t((i=(e[e.length-2]<<8)+e[e.length-1])>>10),s+=t(i>>4&63),s+=t(i<<2&63),s+="="}return s}}(void 0===r?this.base64js={}:r)},{}],2:[function(){},{}],3:[function(e,t,r){(function(t){"use strict";function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof e?o(this,e):"string"==typeof e?a(this,e,arguments.length>1?arguments[1]:"utf8"):s(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function o(e,t){if(e=f(e,0>t?0:0|m(t)),!i.TYPED_ARRAY_SUPPORT)for(var r=0;t>r;r++)e[r]=0;return e}function a(e,t,r){return("string"!=typeof r||""===r)&&(r="utf8"),(e=f(e,0|y(t,r))).write(t,r),e}function s(e,t){if(i.isBuffer(t))return l(e,t);if(Y(t))return u(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(t.buffer instanceof ArrayBuffer)return c(e,t);if(t instanceof ArrayBuffer)return d(e,t)}return t.length?p(e,t):h(e,t)}function l(e,t){var r=0|m(t.length);return e=f(e,r),t.copy(e,0,0,r),e}function u(e,t){var r=0|m(t.length);e=f(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function c(e,t){var r=0|m(t.length);e=f(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function d(e,t){return i.TYPED_ARRAY_SUPPORT?(t.byteLength,e=i._augment(new Uint8Array(t))):e=c(e,new Uint8Array(t)),e}function p(e,t){var r=0|m(t.length);e=f(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(e,t){var r,n=0;"Buffer"===t.type&&Y(t.data)&&(r=t.data,n=0|m(r.length)),e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&r[i];return e}function f(e,t){return i.TYPED_ARRAY_SUPPORT?(e=i._augment(new Uint8Array(t)),e.__proto__=i.prototype):(e.length=t,e._isBuffer=!0),0!==t&&t<=i.poolSize>>>1&&(e.parent=Z),e}function m(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function g(e,t){if(!(this instanceof g))return new g(e,t);var r=new i(e,t);return delete r.parent,r}function y(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,r){var n=!1;if(t|=0,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return I(this,t,r);case"binary":return R(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function _(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+a]=s}return a}function b(e,t,r,n){return K(H(t,e.length-r),e,r,n)}function S(e,t,r,n){return K(V(t),e,r,n)}function T(e,t,r,n){return S(e,t,r,n)}function k(e,t,r,n){return K(q(t),e,r,n)}function w(e,t,r,n){return K(W(t,e.length-r),e,r,n)}function E(e,t,r){return G.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;r>i;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r>=i+s){var l,u,c,d;switch(s){case 1:128>o&&(a=o);break;case 2:128==(192&(l=e[i+1]))&&(d=(31&o)<<6|63&l)>127&&(a=d);break;case 3:l=e[i+1],u=e[i+2],128==(192&l)&&128==(192&u)&&(d=(15&o)<<12|(63&l)<<6|63&u)>2047&&(55296>d||d>57343)&&(a=d);break;case 4:l=e[i+1],u=e[i+2],c=e[i+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&(d=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)>65535&&1114112>d&&(a=d)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return P(n)}function P(e){var t=e.length;if(Q>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Q));return r}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=t;r>o;o++)i+=z(e[o]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!=0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,r,n,o,a){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||a>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range")}function D(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);o>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function x(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);o>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function N(e,t,r,n,i,o){if(t>i||o>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function L(e,t,r,n,i){return i||N(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||N(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,t,r,n,52,8),r+8}function F(e){if((e=U(e).replace($,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function U(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function z(e){return 16>e?"0"+e.toString(16):e.toString(16)}function H(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;n>a;a++){if((r=e.charCodeAt(a))>55295&&57344>r){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(56320>r){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,128>r){if((t-=1)<0)break;o.push(r)}else if(2048>r){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function W(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);a++)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function q(e){return G.toByteArray(F(e))}function K(e,t,r,n){for(var i=0;n>i&&!(i+r>=t.length||i>=e.length);i++)t[i+r]=e[i];return i}var G=e("base64-js"),J=e("ieee754"),Y=e("isarray");r.Buffer=i,r.SlowBuffer=g,r.INSPECT_MAX_BYTES=50,i.poolSize=8192;var Z={};i.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,a=Math.min(r,n);a>o&&e[o]===t[o];)++o;return o!==a&&(r=e[o],n=t[o]),n>r?-1:r>n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Y(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var n=new i(t),o=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(n,o),o+=a.length}return n},i.byteLength=y,i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):v.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function r(e,t,r){for(var n=-1,i=0;r+i<e.length;i++)if(e[r+i]===t[-1===n?0:i-n]){if(-1===n&&(n=i),i-n+1===t.length)return r+n}else n=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return r(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):r(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return this.readUInt8(e)},i.prototype.set=function(e,t){return this.writeUInt8(e,t)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var i=n;n=t,t=0|r,r=i}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":return S(this,e,t,r);case"binary":return T(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Q=4096;i.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,0>e?0>(e+=r)&&(e=0):e>r&&(e=r),0>t?0>(t+=r)&&(t=0):t>r&&(t=r),e>t&&(t=e);var n;if(i.TYPED_ARRAY_SUPPORT)n=i._augment(this.subarray(e,t));else{var o=t-e;n=new i(o,void 0);for(var a=0;o>a;a++)n[a]=this[a+e]}return n.length&&(n.parent=this.parent||this),n},i.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},i.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},i.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),J.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),J.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),J.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),J.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||j(this,e,t,r,Math.pow(2,8*r),0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},i.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||j(this,e,t,r,Math.pow(2,8*r),0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},i.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<r&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);j(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||j(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&r>n&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>r||r>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,a=n-r;if(this===e&&t>r&&n>t)for(o=a-1;o>=0;o--)e[o+t]=this[o+r];else if(1e3>a||!i.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)e[o+t]=this[o+r];else e._set(this.subarray(r,r+a),t);return a},i.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=H(e.toString()),o=i.length;for(n=t;r>n;n++)this[n]=i[n%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=X.get,e.set=X.set,e.write=X.write,e.toString=X.toString,e.toLocaleString=X.toString,e.toJSON=X.toJSON,e.equals=X.equals,e.compare=X.compare,e.indexOf=X.indexOf,e.copy=X.copy,e.slice=X.slice,e.readUIntLE=X.readUIntLE,e.readUIntBE=X.readUIntBE,e.readUInt8=X.readUInt8,e.readUInt16LE=X.readUInt16LE,e.readUInt16BE=X.readUInt16BE,e.readUInt32LE=X.readUInt32LE,e.readUInt32BE=X.readUInt32BE,e.readIntLE=X.readIntLE,e.readIntBE=X.readIntBE,e.readInt8=X.readInt8,e.readInt16LE=X.readInt16LE,e.readInt16BE=X.readInt16BE,e.readInt32LE=X.readInt32LE,e.readInt32BE=X.readInt32BE,e.readFloatLE=X.readFloatLE,e.readFloatBE=X.readFloatBE,e.readDoubleLE=X.readDoubleLE,e.readDoubleBE=X.readDoubleBE,e.writeUInt8=X.writeUInt8,e.writeUIntLE=X.writeUIntLE,e.writeUIntBE=X.writeUIntBE,e.writeUInt16LE=X.writeUInt16LE,e.writeUInt16BE=X.writeUInt16BE,e.writeUInt32LE=X.writeUInt32LE,e.writeUInt32BE=X.writeUInt32BE,e.writeIntLE=X.writeIntLE,e.writeIntBE=X.writeIntBE,e.writeInt8=X.writeInt8,e.writeInt16LE=X.writeInt16LE,e.writeInt16BE=X.writeInt16BE,e.writeInt32LE=X.writeInt32LE,e.writeInt32BE=X.writeInt32BE,e.writeFloatLE=X.writeFloatLE,e.writeFloatBE=X.writeFloatBE,e.writeDoubleLE=X.writeDoubleLE,e.writeDoubleBE=X.writeDoubleBE,e.fill=X.fill,e.inspect=X.inspect,e.toArrayBuffer=X.toArrayBuffer,e};var $=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:7,isarray:4}],4:[function(e,t){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],5:[function(e,t,r){(function(e){function t(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===t(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===t(e)},r.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":9}],6:[function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];r.apply(this,s)}else if(o(r)){for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];for(i=(u=r.slice()).length,l=0;i>l;l++)u[l].apply(this,s)}return!0},r.prototype.addListener=function(e,t){if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.trace)}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){return e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],7:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,d=r?i-1:0,p=r?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=u}return(h?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,f=n?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+h]=255&a,h+=f,a/=256,u-=8);e[r+h-f]|=128*m}},{}],8:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],9:[function(e,t){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||n(e)||!!e._isBuffer)}},{}],10:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],11:[function(e,t){function r(){if(!a){a=!0;for(var e,t=o.length;t;){e=o,o=[];for(var r=-1;++r<t;)e[r]();t=o.length}a=!1}}function n(){}var i=t.exports={},o=[],a=!1;i.nextTick=function(e){o.push(e),a||setTimeout(r,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],12:[function(e,t){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(e,t){(function(r){function n(e){return this instanceof n?(s.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(e)}function i(){this.allowHalfOpen||this._writableState.ended||r.nextTick(this.end.bind(this))}t.exports=n;var o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},a=e("core-util-is");a.inherits=e("inherits");var s=e("./_stream_readable"),l=e("./_stream_writable");a.inherits(n,s),function(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}(o(l.prototype),function(e){n.prototype[e]||(n.prototype[e]=l.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":15,"./_stream_writable":17,_process:11,"core-util-is":5,inherits:8}],14:[function(e,t){function r(e){return this instanceof r?void n.call(this,e):new r(e)}t.exports=r;var n=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(r,n),r.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":16,"core-util-is":5,inherits:8}],15:[function(e,t){(function(r){function n(t,r){var n=e("./_stream_duplex"),i=(t=t||{}).highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,r instanceof n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(I||(I=e("string_decoder/").StringDecoder),this.decoder=new I(t.encoding),this.encoding=t.encoding)}function i(t){return e("./_stream_duplex"),this instanceof i?(this._readableState=new n(t,this),this.readable=!0,void C.call(this)):new i(t)}function o(e,t,r,n,i){var o=u(t,r);if(o)e.emit("error",o);else if(P.isNullOrUndefined(r))t.reading=!1,t.ended||c(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&d(e)),h(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=A)e=A;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||P.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var r=null;return P.isBuffer(t)||P.isString(t)||P.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function c(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,d(e)}function d(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(function(){p(e)}):p(e))}function p(e){R("emit readable"),e.emit("readable"),v(e)}function h(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(function(){f(e,t)}))}function f(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&E.listenerCount(e,"data")&&(t.flowing=!0,v(e))}}function g(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(function(){y(e,t)}))}function y(e,t){t.resumeScheduled=!1,e.emit("resume"),v(e),t.flowing&&!t.reading&&e.read(0)}function v(e){var t=e._readableState;if(R("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function _(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(a)r=n.shift();else if(!e||e>=i)r=o?n.join(""):w.concat(n,i),n.length=0;else if(e<n[0].length)r=(c=n[0]).slice(0,e),n[0]=c.slice(e);else if(e===n[0].length)r=n.shift();else{r=o?"":new w(e);for(var s=0,l=0,u=n.length;u>l&&e>s;l++){var c=n[0],d=Math.min(e-s,c.length);o?r+=c.slice(0,d):c.copy(r,s,0,d),d<c.length?n[0]=c.slice(d):n.shift(),s+=d}}return r}function b(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,r.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function S(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}function T(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}t.exports=i;var k=e("isarray"),w=e("buffer").Buffer;i.ReadableState=n;var E=e("events").EventEmitter;E.listenerCount||(E.listenerCount=function(e,t){return e.listeners(t).length});var C=e("stream"),P=e("core-util-is");P.inherits=e("inherits");var I,R=e("util");R=R&&R.debuglog?R.debuglog("stream"):function(){},P.inherits(i,C),i.prototype.push=function(e,t){var r=this._readableState;return P.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new w(e,t),t=""),o(this,r,e,t,!1)},i.prototype.unshift=function(e){return o(this,this._readableState,e,"",!0)},i.prototype.setEncoding=function(t){return I||(I=e("string_decoder/").StringDecoder),this._readableState.decoder=new I(t),this._readableState.encoding=t,this};var A=8388608;i.prototype.read=function(e){R("read",e);var t=this._readableState,r=e;if((!P.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?b(this):d(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&b(this),null;var n=t.needReadable;R("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,R("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,R("reading or ended",n)),n&&(R("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=l(r,t));var i;return i=e>0?_(e,t):null,P.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&b(this),P.isNull(i)||this.emit("data",i),i},i.prototype._read=function(){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function n(e){R("onunpipe"),e===d&&o()}function i(){R("onend"),e.end()}function o(){R("cleanup"),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("drain",f),e.removeListener("error",s),e.removeListener("unpipe",n),d.removeListener("end",i),d.removeListener("end",o),d.removeListener("data",a),!p.awaitDrain||e._writableState&&!e._writableState.needDrain||f()}function a(t){R("ondata"),!1===e.write(t)&&(R("false write response, pause",d._readableState.awaitDrain),d._readableState.awaitDrain++,d.pause())}function s(t){R("onerror",t),c(),e.removeListener("error",s),0===E.listenerCount(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",u),c()}function u(){R("onfinish"),e.removeListener("close",l),c()}function c(){R("unpipe"),d.unpipe(e)}var d=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=e;break;case 1:p.pipes=[p.pipes,e];break;default:p.pipes.push(e)}p.pipesCount+=1,R("pipe count=%d opts=%j",p.pipesCount,t);var h=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?i:o;p.endEmitted?r.nextTick(h):d.once("end",h),e.on("unpipe",n);var f=m(d);return e.on("drain",f),d.on("data",a),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",l),e.once("finish",u),e.emit("pipe",d),p.flowing||(R("pipe resume"),d.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;n>i;i++)r[i].emit("unpipe",this);return this}return-1===(i=T(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=C.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&d(this);else{var o=this;r.nextTick(function(){R("readable nexttick read 0"),o.read(0)})}}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,e.reading||(R("resume read 0"),this.read(0)),g(this,e)),this},i.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(R("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){R("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)&&(n.push(i)||(r=!0,e.pause()))});for(var i in e)P.isFunction(e[i])&&P.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return S(["error","close","destroy","pause","resume"],function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){R("wrapped _read",t),r&&(r=!1,e.resume())},n},i._fromList=_}).call(this,e("_process"))},{"./_stream_duplex":13,_process:11,buffer:3,"core-util-is":5,events:6,inherits:8,isarray:10,stream:22,"string_decoder/":23,util:2}],16:[function(e,t){function r(e,t){this.afterTransform=function(e,r){return n(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,s.isNullOrUndefined(r)||e.push(r),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){s.isFunction(this._flush)?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./_stream_duplex"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;s.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},{"./_stream_duplex":13,"core-util-is":5,inherits:8}],17:[function(e,t){(function(r){function n(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function i(t,r){var n=e("./_stream_duplex"),i=(t=t||{}).highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,r instanceof n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){h(r,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var r=e("./_stream_duplex");return this instanceof o||this instanceof r?(this._writableState=new i(t,this),this.writable=!0,void k.call(this)):new o(t)}function a(e,t,n){var i=new Error("write after end");e.emit("error",i),r.nextTick(function(){n(i)})}function s(e,t,n,i){var o=!0;if(!(T.isBuffer(n)||T.isString(n)||T.isNullOrUndefined(n)||t.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),r.nextTick(function(){i(a)}),o=!1}return o}function l(e,t,r){return!e.objectMode&&!1!==e.decodeStrings&&T.isString(t)&&(t=new S(t,r)),t}function u(e,t,r,i,o){r=l(t,r,i),T.isBuffer(r)&&(i="buffer");var a=t.objectMode?1:r.length;t.length+=a;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new n(r,i,o)):c(e,t,!1,a,r,i,o),s}function c(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function d(e,t,n,i,o){n?r.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function p(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function h(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(p(n),t)d(e,n,i,t,o);else{var a=y(e,n);a||n.corked||n.bufferProcessing||!n.buffer.length||g(e,n),i?r.nextTick(function(){f(e,n,a,o)}):f(e,n,a,o)}}function f(e,t,r,n){r||m(e,t),t.pendingcb--,n(),_(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,c(e,t,!0,t.length,t.buffer,"",function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)}),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var i=t.buffer[n],o=i.chunk,a=i.encoding,s=i.callback,l=t.objectMode?1:o.length;if(c(e,t,!1,l,o,a,s),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function y(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function v(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function _(e,t){var r=y(e,t);return r&&(0===t.pendingcb?(v(e,t),t.finished=!0,e.emit("finish")):v(e,t)),r}function b(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0}t.exports=o;var S=e("buffer").Buffer;o.WritableState=i;var T=e("core-util-is");T.inherits=e("inherits");var k=e("stream");T.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return T.isFunction(t)&&(r=t,t=null),T.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),T.isFunction(r)||(r=function(){}),n.ended?a(this,0,r):s(this,n,e,r)&&(n.pendingcb++,i=u(this,n,e,t,r)),i},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||g(this,e))},o.prototype._write=function(e,t,r){r(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,r){var n=this._writableState;T.isFunction(e)?(r=e,e=null,t=null):T.isFunction(t)&&(r=t,t=null),T.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||b(this,n,r)}}).call(this,e("_process"))},{"./_stream_duplex":13,_process:11,buffer:3,"core-util-is":5,inherits:8,stream:22}],18:[function(e,t){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":14}],19:[function(e,t,r){(function(n){(r=t.exports=e("./lib/_stream_readable.js")).Stream=e("stream"),r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),n.browser||"disable"!==n.env.READABLE_STREAM||(t.exports=e("stream"))}).call(this,e("_process"))},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17,_process:11,stream:22}],20:[function(e,t){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":16}],21:[function(e,t){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],22:[function(e,t){function r(){n.call(this)}t.exports=r;var n=e("events").EventEmitter;e("inherits")(r,n),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function o(){c||(c=!0,e.end())}function a(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){u.removeListener("data",r),e.removeListener("drain",i),u.removeListener("end",o),u.removeListener("close",a),u.removeListener("error",s),e.removeListener("error",s),u.removeListener("end",l),u.removeListener("close",l),e.removeListener("close",l)}var u=this;u.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(u.on("end",o),u.on("close",a));var c=!1;return u.on("error",s),e.on("error",s),u.on("end",l),u.on("close",l),e.on("close",l),e.emit("pipe",u),e}},{events:6,inherits:8,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":18,"readable-stream/readable.js":19,"readable-stream/transform.js":20,"readable-stream/writable.js":21}],23:[function(e,t,r){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,l=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=r.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var n=(t+=e.toString(this.encoding,0,n)).length-1,i=t.charCodeAt(n);if(i>=55296&&56319>=i){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(2>=t&&r>>4==14){this.charLength=3;break}if(3>=t&&r>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},{buffer:3}],24:[function(e,t,r){function n(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;r.setTimeout=function(){return new n(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new n(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=l++,n=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete s[e]}},{"process/browser.js":25}],25:[function(e,t){function r(e){if(l===setTimeout)return setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function n(e){if(u===clearTimeout)return clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function i(){h&&d&&(h=!1,d.length?p=d.concat(p):f=-1,p.length&&o())}function o(){if(!h){var e=r(i);h=!0;for(var t=p.length;t;){for(d=p,p=[];++f<t;)d&&d[f].run();f=-1,t=p.length}d=null,h=!1,n(e)}}function a(e,t){this.fun=e,this.array=t}function s(){}var l,u,c=t.exports={};!function(){try{l=setTimeout}catch(e){l=function(){throw new Error("setTimeout is not defined")}}try{u=clearTimeout}catch(e){u=function(){throw new Error("clearTimeout is not defined")}}}();var d,p=[],h=!1,f=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new a(e,t)),1!==p.length||h||r(o)},a.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],26:[function(e,t){var r=e("../internal/getNative")(Date,"now")||function(){return(new Date).getTime()};t.exports=r},{"../internal/getNative":42}],27:[function(e,t){var r=e("../lang/isObject"),n=e("../date/now"),i="Expected a function",o=Math.max;t.exports=function(e,t,a){function s(t,r){r&&clearTimeout(r),p=g=y=void 0,t&&(v=n(),h=e.apply(m,d),g||p||(d=m=void 0))}function l(){var e=t-(n()-f);0>=e||e>t?s(y,p):g=setTimeout(l,e)}function u(){s(b,g)}function c(){if(d=arguments,f=n(),m=this,y=b&&(g||!S),!1===_)var r=S&&!g;else{p||S||(v=f);var i=_-(f-v),o=0>=i||i>_;o?(p&&(p=clearTimeout(p)),v=f,h=e.apply(m,d)):p||(p=setTimeout(u,i))}return o&&g?g=clearTimeout(g):g||t===_||(g=setTimeout(l,t)),r&&(o=!0,h=e.apply(m,d)),!o||g||p||(d=m=void 0),h}var d,p,h,f,m,g,y,v=0,_=!1,b=!0;if("function"!=typeof e)throw new TypeError(i);if(t=0>t?0:+t||0,!0===a){var S=!0;b=!1}else r(a)&&(S=!!a.leading,_="maxWait"in a&&o(+a.maxWait||0,t),b="trailing"in a?!!a.trailing:b);return c.cancel=function(){g&&clearTimeout(g),p&&clearTimeout(p),v=0,p=g=y=void 0},c}},{"../date/now":26,"../lang/isObject":55}],28:[function(e,t){var r="Expected a function",n=Math.max;t.exports=function(e,t){if("function"!=typeof e)throw new TypeError(r);return t=n(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,i=-1,o=n(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(i=-1;++i<t;)s[i]=r[i];return s[t]=a,e.apply(this,s)}}},{}],29:[function(e,t){var r=e("./debounce"),n=e("../lang/isObject"),i="Expected a function";t.exports=function(e,t,o){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(i);return!1===o?a=!1:n(o)&&(a="leading"in o?!!o.leading:a,s="trailing"in o?!!o.trailing:s),r(e,t,{leading:a,maxWait:+t,trailing:s})}},{"../lang/isObject":55,"./debounce":27}],30:[function(e,t){t.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},{}],31:[function(e,t){t.exports=function(e,t){for(var r=-1,n=e.length;++r<n&&!1!==t(e[r],r,e););return e}},{}],32:[function(e,t){t.exports=function(e,t,r){r||(r={});for(var n=-1,i=t.length;++n<i;){var o=t[n];r[o]=e[o]}return r}},{}],33:[function(e,t){var r=e("./createBaseFor")();t.exports=r},{"./createBaseFor":40}],34:[function(e,t){var r=e("./baseFor"),n=e("../object/keysIn");t.exports=function(e,t){return r(e,t,n)}},{"../object/keysIn":61,"./baseFor":33}],35:[function(e,t){function r(e,t,d,p,h){if(!s(e))return e;var f=a(t)&&(o(t)||u(t)),m=f?void 0:c(t);return n(m||t,function(n,o){if(m&&(o=n,n=t[o]),l(n))p||(p=[]),h||(h=[]),i(e,t,o,r,d,p,h);else{var a=e[o],s=d?d(a,n,o,e,t):void 0,u=void 0===s;u&&(s=n),void 0===s&&(!f||o in e)||!u&&(s===s?s===a:a!==a)||(e[o]=s)}}),e}var n=e("./arrayEach"),i=e("./baseMergeDeep"),o=e("../lang/isArray"),a=e("./isArrayLike"),s=e("../lang/isObject"),l=e("./isObjectLike"),u=e("../lang/isTypedArray"),c=e("../object/keys");t.exports=r},{"../lang/isArray":52,"../lang/isObject":55,"../lang/isTypedArray":58,"../object/keys":60,"./arrayEach":31,"./baseMergeDeep":36,"./isArrayLike":43,"./isObjectLike":48}],36:[function(e,t){var r=e("./arrayCopy"),n=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("./isArrayLike"),a=e("../lang/isPlainObject"),s=e("../lang/isTypedArray"),l=e("../lang/toPlainObject");t.exports=function(e,t,u,c,d,p,h){for(var f=p.length,m=t[u];f--;)if(p[f]==m)return void(e[u]=h[f]);var g=e[u],y=d?d(g,m,u,e,t):void 0,v=void 0===y;v&&(y=m,o(m)&&(i(m)||s(m))?y=i(g)?g:o(g)?r(g):[]:a(m)||n(m)?y=n(g)?l(g):a(g)?g:{}:v=!1),p.push(m),h.push(y),v?e[u]=c(y,m,d,p,h):(y===y?y!==g:g===g)&&(e[u]=y)}},{"../lang/isArguments":51,"../lang/isArray":52,"../lang/isPlainObject":56,"../lang/isTypedArray":58,"../lang/toPlainObject":59,"./arrayCopy":30,"./isArrayLike":43}],37:[function(e,t){var r=e("./toObject");t.exports=function(e){return function(t){return null==t?void 0:r(t)[e]}}},{"./toObject":50}],38:[function(e,t){var r=e("../utility/identity");t.exports=function(e,t,n){if("function"!=typeof e)return r;if(void 0===t)return e;switch(n){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,o){return e.call(t,r,n,i,o)};case 5:return function(r,n,i,o,a){return e.call(t,r,n,i,o,a)}}return function(){return e.apply(t,arguments)}}},{"../utility/identity":64}],39:[function(e,t){var r=e("./bindCallback"),n=e("./isIterateeCall"),i=e("../function/restParam");t.exports=function(e){return i(function(t,i){var o=-1,a=null==t?0:i.length,s=a>2?i[a-2]:void 0,l=a>2?i[2]:void 0,u=a>1?i[a-1]:void 0;for("function"==typeof s?(s=r(s,u,5),a-=2):(s="function"==typeof u?u:void 0,a-=s?1:0),l&&n(i[0],i[1],l)&&(s=3>a?void 0:s,a=1);++o<a;){var c=i[o];c&&e(t,c,s)}return t})}},{"../function/restParam":28,"./bindCallback":38,"./isIterateeCall":46}],40:[function(e,t){var r=e("./toObject");t.exports=function(e){return function(t,n,i){for(var o=r(t),a=i(t),s=a.length,l=e?s:-1;e?l--:++l<s;){var u=a[l];if(!1===n(o[u],u,o))break}return t}}},{"./toObject":50}],41:[function(e,t){var r=e("./baseProperty")("length");t.exports=r},{"./baseProperty":37}],42:[function(e,t){var r=e("../lang/isNative");t.exports=function(e,t){var n=null==e?void 0:e[t];return r(n)?n:void 0}},{"../lang/isNative":54}],43:[function(e,t){var r=e("./getLength"),n=e("./isLength");t.exports=function(e){return null!=e&&n(r(e))}},{"./getLength":41,"./isLength":47}],44:[function(e,t){var r=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}}();t.exports=r},{}],45:[function(e,t){var r=/^\d+$/,n=9007199254740991;t.exports=function(e,t){return e="number"==typeof e||r.test(e)?+e:-1,t=null==t?n:t,e>-1&&e%1==0&&t>e}},{}],46:[function(e,t){var r=e("./isArrayLike"),n=e("./isIndex"),i=e("../lang/isObject");t.exports=function(e,t,o){if(!i(o))return!1;var a=typeof t;if("number"==a?r(o)&&n(t,o.length):"string"==a&&t in o){var s=o[t];return e===e?e===s:s!==s}return!1}},{"../lang/isObject":55,"./isArrayLike":43,"./isIndex":45}],47:[function(e,t){var r=9007199254740991;t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&r>=e}},{}],48:[function(e,t){t.exports=function(e){return!!e&&"object"==typeof e}},{}],49:[function(e,t){var r=e("../lang/isArguments"),n=e("../lang/isArray"),i=e("./isIndex"),o=e("./isLength"),a=e("../lang/isString"),s=e("../object/keysIn"),l=Object.prototype.hasOwnProperty;t.exports=function(e){for(var t=s(e),u=t.length,c=u&&e.length,d=!!c&&o(c)&&(n(e)||r(e)||a(e)),p=-1,h=[];++p<u;){var f=t[p];(d&&i(f,c)||l.call(e,f))&&h.push(f)}return h}},{"../lang/isArguments":51,"../lang/isArray":52,"../lang/isString":57,"../object/keysIn":61,"./isIndex":45,"./isLength":47}],50:[function(e,t){var r=e("../lang/isObject"),n=e("../lang/isString"),i=e("../support");t.exports=function(e){if(i.unindexedChars&&n(e)){for(var t=-1,o=e.length,a=Object(e);++t<o;)a[t]=e.charAt(t);return a}return r(e)?e:Object(e)}},{"../lang/isObject":55,"../lang/isString":57,"../support":63}],51:[function(e,t){var r=e("../internal/isArrayLike"),n=e("../internal/isObjectLike"),i=Object.prototype,o=i.hasOwnProperty,a=i.propertyIsEnumerable;t.exports=function(e){return n(e)&&r(e)&&o.call(e,"callee")&&!a.call(e,"callee")}},{"../internal/isArrayLike":43,"../internal/isObjectLike":48}],52:[function(e,t){var r=e("../internal/getNative"),n=e("../internal/isLength"),i=e("../internal/isObjectLike"),o=Object.prototype.toString,a=r(Array,"isArray")||function(e){return i(e)&&n(e.length)&&"[object Array]"==o.call(e)};t.exports=a},{"../internal/getNative":42,"../internal/isLength":47,"../internal/isObjectLike":48}],53:[function(e,t){var r=e("./isObject"),n="[object Function]",i=Object.prototype.toString;t.exports=function(e){return r(e)&&i.call(e)==n}},{"./isObject":55}],54:[function(e,t){var r=e("./isFunction"),n=e("../internal/isHostObject"),i=e("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,l=a.hasOwnProperty,u=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return null!=e&&(r(e)?u.test(s.call(e)):i(e)&&(n(e)?u:o).test(e))}},{"../internal/isHostObject":44,"../internal/isObjectLike":48,"./isFunction":53}],55:[function(e,t){t.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},{}],56:[function(e,t){var r=e("../internal/baseForIn"),n=e("./isArguments"),i=e("../internal/isHostObject"),o=e("../internal/isObjectLike"),a=e("../support"),s="[object Object]",l=Object.prototype,u=l.hasOwnProperty,c=l.toString;t.exports=function(e){var t;if(!o(e)||c.call(e)!=s||i(e)||n(e)||!u.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var l;return a.ownLast?(r(e,function(e,t,r){return l=u.call(r,t),!1}),!1!==l):(r(e,function(e,t){l=t}),void 0===l||u.call(e,l))}},{"../internal/baseForIn":34,"../internal/isHostObject":44,"../internal/isObjectLike":48,"../support":63,"./isArguments":51}],57:[function(e,t){var r=e("../internal/isObjectLike"),n="[object String]",i=Object.prototype.toString;t.exports=function(e){return"string"==typeof e||r(e)&&i.call(e)==n}},{"../internal/isObjectLike":48}],58:[function(e,t){var r=e("../internal/isLength"),n=e("../internal/isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var o=Object.prototype.toString;t.exports=function(e){return n(e)&&r(e.length)&&!!i[o.call(e)]}},{"../internal/isLength":47,"../internal/isObjectLike":48}],59:[function(e,t){var r=e("../internal/baseCopy"),n=e("../object/keysIn");t.exports=function(e){return r(e,n(e))}},{"../internal/baseCopy":32,"../object/keysIn":61}],60:[function(e,t){var r=e("../internal/getNative"),n=e("../internal/isArrayLike"),i=e("../lang/isObject"),o=e("../internal/shimKeys"),a=e("../support"),s=r(Object,"keys"),l=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||("function"==typeof e?a.enumPrototypes:n(e))?o(e):i(e)?s(e):[]}:o;t.exports=l},{"../internal/getNative":42,"../internal/isArrayLike":43,"../internal/shimKeys":49,"../lang/isObject":55,"../support":63}],61:[function(e,t){var r=e("../internal/arrayEach"),n=e("../lang/isArguments"),i=e("../lang/isArray"),o=e("../lang/isFunction"),a=e("../internal/isIndex"),s=e("../internal/isLength"),l=e("../lang/isObject"),u=e("../lang/isString"),c=e("../support"),d="[object Error]",p="[object Object]",h="[object String]",f=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],m=Error.prototype,g=Object.prototype,y=String.prototype,v=g.hasOwnProperty,_=g.toString,b={};b["[object Array]"]=b["[object Date]"]=b["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},b["[object Boolean]"]=b[h]={constructor:!0,toString:!0,valueOf:!0},b[d]=b["[object Function]"]=b["[object RegExp]"]={constructor:!0,toString:!0},b[p]={constructor:!0},r(f,function(e){for(var t in b)if(v.call(b,t)){var r=b[t];r[e]=v.call(r,e)}}),t.exports=function(e){if(null==e)return[];l(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(i(e)||n(e)||u(e))&&t||0;for(var r=e.constructor,S=-1,T=o(r)&&r.prototype||g,k=T===e,w=Array(t),E=t>0,C=c.enumErrorProps&&(e===m||e instanceof Error),P=c.enumPrototypes&&o(e);++S<t;)w[S]=S+"";for(var I in e)P&&"prototype"==I||C&&("message"==I||"name"==I)||E&&a(I,t)||"constructor"==I&&(k||!v.call(e,I))||w.push(I);if(c.nonEnumShadows&&e!==g){var R=e===y?h:e===m?d:_.call(e),A=b[R]||b[p];for(R==p&&(T=g),t=f.length;t--;){var M=A[I=f[t]];k&&M||(M?!v.call(e,I):e[I]===T[I])||w.push(I)}}return w}},{"../internal/arrayEach":31,"../internal/isIndex":45,"../internal/isLength":47,"../lang/isArguments":51,"../lang/isArray":52,"../lang/isFunction":53,"../lang/isObject":55,"../lang/isString":57,"../support":63}],62:[function(e,t){var r=e("../internal/baseMerge"),n=e("../internal/createAssigner")(r);t.exports=n},{"../internal/baseMerge":35,"../internal/createAssigner":39}],63:[function(e,t){var r=Array.prototype,n=Error.prototype,i=Object.prototype.propertyIsEnumerable,o=r.splice,a={};!function(e){var t=function(){this.x=1},r={0:1,length:1},s=[];t.prototype={valueOf:1,y:1};for(var l in new t)s.push(l);a.enumErrorProps=i.call(n,"message")||i.call(n,"name"),a.enumPrototypes=i.call(t,"prototype"),a.nonEnumShadows=!/valueOf/.test(s),a.ownLast="x"!=s[0],a.spliceObjects=(o.call(r,0,1),!r[0]),a.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),t.exports=a},{}],64:[function(e,t){t.exports=function(e){return e}},{}],65:[function(e,t){"use strict";var r=e("object-keys"),n=e("foreach"),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)},s=Object.defineProperty&&function(){var e={};try{Object.defineProperty(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),l=function(e,t,r,n){(!(t in e)||a(n)&&n())&&(s?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},u=function(e,t){var o=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),n(a,function(r){l(e,r,t[r],o[r])})};u.supportsDescriptors=!!s,t.exports=u},{foreach:66,"object-keys":69}],66:[function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(e,t,i){if("[object Function]"!==n.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;o>a;a++)t.call(i,e[a],a,e);else for(var s in e)r.call(e,s)&&t.call(i,e[s],s,e)}},{}],67:[function(e,t){var r=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==n.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var i,o=r.call(arguments,1),a=Math.max(0,t.length-o.length),s=[],l=0;a>l;l++)s.push("$"+l);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof i){var n=t.apply(this,o.concat(r.call(arguments)));return Object(n)===n?n:this}return t.apply(e,o.concat(r.call(arguments)))}),t.prototype){var u=function(){};u.prototype=t.prototype,i.prototype=new u,u.prototype=null}return i}},{}],68:[function(e,t){var r=e("./implementation");t.exports=Function.prototype.bind||r},{"./implementation":67}],69:[function(e,t){"use strict";var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,i=Array.prototype.slice,o=e("./isArguments"),a=Object.prototype.propertyIsEnumerable,s=!a.call({toString:null},"toString"),l=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{c(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),h=function(e){if("undefined"==typeof window||!p)return c(e);try{return c(e)}catch(e){return!1}},f=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===n.call(e),a=o(e),c=t&&"[object String]"===n.call(e),d=[];if(!t&&!i&&!a)throw new TypeError("Object.keys called on a non-object");var p=l&&i;if(c&&e.length>0&&!r.call(e,0))for(var f=0;f<e.length;++f)d.push(String(f));if(a&&e.length>0)for(var m=0;m<e.length;++m)d.push(String(m));else for(var g in e)p&&"prototype"===g||!r.call(e,g)||d.push(String(g));if(s)for(var y=h(e),v=0;v<u.length;++v)y&&"constructor"===u[v]||!r.call(e,u[v])||d.push(u[v]);return d};f.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return e(o(t)?i.call(t):t)}}}else Object.keys=f;return Object.keys||f},t.exports=f},{"./isArguments":70}],70:[function(e,t){"use strict";var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},{}],71:[function(e,t){"use strict";var r=e("object-keys");t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test");if("string"==typeof t)return!1;e[t]=42;for(t in e)return!1;if(0!==r(e).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{"object-keys":69}],72:[function(e,t){"use strict";var r=e("object-keys"),n=e("function-bind"),i=function(e){return void 0!==e&&null!==e},o=e("./hasSymbols")(),a=Object,s=n.call(Function.call,Array.prototype.push),l=n.call(Function.call,Object.prototype.propertyIsEnumerable);t.exports=function(e){if(!i(e))throw new TypeError("target must be an object");var t,n,u,c,d,p,h,f=a(e);for(t=1;t<arguments.length;++t){if(n=a(arguments[t]),c=r(n),o&&Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(n),u=0;u<d.length;++u)h=d[u],l(n,h)&&s(c,h);for(u=0;u<c.length;++u)h=c[u],p=n[h],l(n,h)&&(f[h]=p)}return f}},{"./hasSymbols":71,"function-bind":68,"object-keys":69}],73:[function(e,t){"use strict";var r=e("define-properties"),n=e("./implementation");r(n,{implementation:n,getPolyfill:e("./polyfill"),shim:e("./shim")}),t.exports=n},{"./implementation":72,"./polyfill":74,"./shim":75,"define-properties":65}],74:[function(e,t){"use strict";var r=e("./implementation"),n=function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return e!==o},i=function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}};t.exports=function(){return Object.assign?n()?r:i()?r:Object.assign:r}},{"./implementation":72}],75:[function(e,t){"use strict";var r=e("define-properties"),n=e("./polyfill");t.exports=function(){var e=n();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},{"./polyfill":74,"define-properties":65}],76:[function(e,t){t.exports=function(e,t){var r,n=null;try{r=JSON.parse(e,t)}catch(e){n=e}return[n,r]}},{}],77:[function(e,t){function r(e){return e.replace(/\n\r?\s*/g,"")}t.exports=function(e){for(var t="",n=0;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t}},{}],78:[function(e,t){function r(e,t,r){for(var n=0,i=e.length;i>n;n++)s.call(e,n)&&t.call(r,e[n],n,e)}function n(e,t,r){for(var n=0,i=e.length;i>n;n++)t.call(r,e.charAt(n),n,e)}function i(e,t,r){for(var n in e)s.call(e,n)&&t.call(r,e[n],n,e)}var o=e("is-function");t.exports=function(e,t,s){if(!o(t))throw new TypeError("iterator must be a function");arguments.length<3&&(s=this),"[object Array]"===a.call(e)?r(e,t,s):"string"==typeof e?n(e,t,s):i(e,t,s)};var a=Object.prototype.toString,s=Object.prototype.hasOwnProperty},{"is-function":81}],79:[function(e,t){(function(r){var n=void 0!==r?r:"undefined"!=typeof window?window:{},i=e("min-document");if("undefined"!=typeof document)t.exports=document;else{var o=n["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=n["__GLOBAL_DOCUMENT_CACHE@4"]=i),t.exports=o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":2}],80:[function(e,t){(function(e){t.exports="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],81:[function(e,t){t.exports=function(e){var t=r.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)};var r=Object.prototype.toString},{}],82:[function(e,t){function r(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=r,r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0})})},{}],83:[function(e,t){var r=e("trim"),n=e("for-each"),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};t.exports=function(e){if(!e)return{};var t={};return n(r(e).split("\n"),function(e){var n=e.indexOf(":"),o=r(e.slice(0,n)).toLowerCase(),a=r(e.slice(n+1));void 0===t[o]?t[o]=a:i(t[o])?t[o].push(a):t[o]=[t[o],a]}),t}},{"for-each":78,trim:84}],84:[function(e,t,r){(r=t.exports=function(e){return e.replace(/^\s*|\s*$/g,"")}).left=function(e){return e.replace(/^\s*/,"")},r.right=function(e){return e.replace(/\s*$/,"")}},{}],85:[function(e,t){"use strict";function r(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function n(e,t,r){var n=e;return l(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=c(t,{uri:e}),n.callback=r,n}function i(e,t,r){return t=n(e,t,r),o(t)}function o(e){function t(){var e=void 0;if(c.response?e=c.response:"text"!==c.responseType&&c.responseType||(e=c.responseText||c.responseXML),_)try{e=JSON.parse(e)}catch(e){}return e}function n(e){clearTimeout(h),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,l)}function o(){if(!p){var r;clearTimeout(h),r=e.useXDR&&void 0===c.status?200:1223===c.status?204:c.status;var n=l,i=null;0!==r?(n={body:t(),statusCode:r,method:m,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(n.headers=u(c.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),a(i,n,n.body)}}var a=e.callback;if(void 0===a)throw new Error("callback argument missing");a=s(a);var l={body:void 0,headers:{},statusCode:0,method:m,url:f,rawRequest:c},c=e.xhr||null;c||(c=e.cors||e.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var d,p,h,f=c.url=e.uri||e.url,m=c.method=e.method||"GET",g=e.body||e.data||null,y=c.headers=e.headers||{},v=!!e.sync,_=!1;if("json"in e&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),g=JSON.stringify(e.json))),c.onreadystatechange=function(){4===c.readyState&&o()},c.onload=o,c.onerror=n,c.onprogress=function(){},c.ontimeout=n,c.open(m,f,!v,e.username,e.password),v||(c.withCredentials=!!e.withCredentials),!v&&e.timeout>0&&(h=setTimeout(function(){p=!0,c.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",n(e)},e.timeout)),c.setRequestHeader)for(d in y)y.hasOwnProperty(d)&&c.setRequestHeader(d,y[d]);else if(e.headers&&!r(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(c.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(c),c.send(g),c}var a=e("global/window"),s=e("once"),l=e("is-function"),u=e("parse-headers"),c=e("xtend");t.exports=i,i.XMLHttpRequest=a.XMLHttpRequest||function(){},i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:a.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(e){i["delete"===e?"del":e]=function(t,r,i){return r=n(t,r,i),r.method=e.toUpperCase(),o(r)}})},{"global/window":80,"is-function":81,once:82,"parse-headers":83,xtend:86}],86:[function(e,t){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},{}],87:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=n(e("./lib/iso_boxer.js")),a=n(e("./cea608DataExtractor.js")),s=n(e("./textTrackManager.js")),l=n(e("./cueParser.js")),u=e("../ampDefs.js"),c=function(){function e(t){i(this,e),this.player=t,this.isInitialized=!1,this.onDownloadCompleted=this.onDownloadCompleted.bind(this),this.onDownloadDecrypted=this.onDownloadDecrypted.bind(this),this.onSeeking=this.onSeeking.bind(this),this.onLoadedMetadata=this.onLoadedMetadata.bind(this),this.onReady=this.onReady.bind(this)}return e.prototype.init=function(){this.player.options().cea708CaptionsSettings&&this.player.options().cea708CaptionsSettings.enabled&&(this.parsedSequenceNumbers=[],this.cueParser=new l.default,this.textTrackManager=new s.default(this.player),this.player.ready(this.onReady))},e.prototype.onReady=function(){this.player.addEventListener(u.eventName.loadedmetadata,this.onLoadedMetadata),this.player.addEventListener(u.eventName.seeking,this.onSeeking)},e.prototype.onSeeking=function(){this.cueParser.reset()},e.prototype.onLoadedMetadata=function(){this.videoBufferData=this.player.videoBufferData(),this.videoBufferData&&(this.videoBufferData.addEventListener(u.bufferDataEventName.downloadcompleted,this.onDownloadCompleted),this.videoBufferData.addEventListener(u.bufferDataEventName.downloaddecrypted,this.onDownloadDecrypted))},e.prototype.onDownloadDecrypted=function(){var e="flashSS"===this.player.currentTechName()?this.videoBufferData.downloadDecrypted.mediaDownload:this.videoBufferData.downloadDecrypted;this.processMediaDownload(e)},e.prototype.onDownloadCompleted=function(){this.processMediaDownload(this.videoBufferData.downloadCompleted.mediaDownload)},e.prototype.processMediaDownload=function(e){var t=e.data;if(t){this.cueParser.presentationTimeOffsetInSec||(this.cueParser.presentationTimeOffsetInSec=e.presentationTimeOffsetInSec);var r=o.default.parseBuffer(t),n=r.fetch("mfhd"),i=n?n.sequence_number:null;if(-1===this.parsedSequenceNumbers.indexOf(i)){var s=a.default.extractCea608Data(t,r,e.mediaTime);s&&s.fields&&s.fields[0].length&&(this.isInitialized||(this.isInitialized=!0,this.initializeTextTrack(),this.cueParser.initialize(this.player,this.textTrackManager.getAllTracks()),this.player.trigger(u.eventName.embeddedcaptionsfound)),this.cueParser.addCcDataToFieldParsers(s,r,e.timeScale),this.parsedSequenceNumbers.push(i))}}},e.prototype.initializeTextTrack=function(){var e={justification:"center"};this.player.textTrackSettings.setValues(e);var t=this.player.options().cea708CaptionsSettings,r={label:t.label||"CEA708",lang:t.srclang,channel:"CC1"};this.textTrackManager.addTextTrack(r.label,r.lang,r.channel)},e.prototype.dispose=function(){this.player.removeEventListener(u.eventName.loadedmetadata,this.onLoadedMetadata),this.player.removeEventListener(u.eventName.seeking,this.onSeeking),this.videoBufferData&&(this.videoBufferData.removeEventListener(u.bufferDataEventName.downloadcompleted,this.onDownloadCompleted),this.videoBufferData.removeEventListener(u.bufferDataEventName.downloaddecrypted,this.onDownloadDecrypted)),this.textTrackManager&&(this.textTrackManager.removePreviousEmbeddedTextTracks(),this.textTrackManager=null),this.cueParser=null,this.isInitialized=!1},e}();r.default=c,t.exports=r.default},{"../ampDefs.js":97,"./cea608DataExtractor.js":88,"./cueParser.js":89,"./lib/iso_boxer.js":92,"./textTrackManager.js":95}],88:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){var n=e.length;if(n>0)if(t>=e[n-1][0])e.push([t,r]);else{for(var i=-1,o=n-1;o>=0&&!(t>e[o][0]);o--)i=o;i>=0&&e.splice(i,0,[t,r])}else e.push([t,r])}r.__esModule=!0;var o=n(e("./lib/cea608-parser.js")),a=n(e("./models/ccData.js")),s={extractCea608Data:function(e,t,r){var n=t.fetch("moof"),s=t.fetch("tfdt"),l=t.fetchAll("trun"),u=void 0,c=void 0,d=void 0,p=void 0,h=void 0,f=new DataView(e),m=new a.default,g=0;if(!l.length)return null;u=l[0],c=n._offset+u.data_offset,d=u.sample_count,p=c,h=s?s.baseMediaDecodeTime:10*r;for(var y=0;d>y;y++){for(var v=u.samples[y],_=h+g+v.sample_composition_time_offset,b=o.default.findCea608Nalus(f,p,v.sample_size),S=0;S<b.length;S++)for(var T=o.default.extractCea608DataFromRange(f,b[S]),k=0;2>k;k++)T[k].length>0&&i(m.fields[k],_,T[k]);g+=v.sample_duration,p+=v.sample_size}return m.startTime=h,m.endTime=h+g,m}};r.default=s,t.exports=r.default},{"./lib/cea608-parser.js":90,"./models/ccData.js":94}],89:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var o=n(e("stream")),a=n(e("global/window")),s=n(e("./lib/cea608-parser.js")),l=n(e("./lib/cea608-towebvtt.js")),u=n(e("./models/captionsBuffer.js")),c=function(){function e(){i(this,e),this.videoTimeScale=0,this.embeddedCea608FieldParsers=[],this.presentationTimeOffsetInSec=0,this.cueParser=new a.default.WebVTT.Parser(a.default,a.default.vttjs,a.default.WebVTT.StringDecoder()),this.cueParser.onparsingerror=function(e){return AMP.Logger.error(AMP.Logger.Area.cea608Module,"CEA608 module: an error happened: "+e)}}return e.prototype.reset=function(){this.embeddedCea608FieldParsers.forEach(function(e){return e.reset()})},e.prototype.addCcDataToFieldParsers=function(e,t,r){if(e){this.videoTimeScale=this.videoTimeScale||function(e){var t=e.fetch("mdhd");return t?t.timescale:r||1e7}(t);for(var n=0;n<this.embeddedCea608FieldParsers.length;n++){var i=e.fields[n],o=this.embeddedCea608FieldParsers[n];if(o){for(var a=0;a<i.length;a++)o.addData(i[a][0]/this.videoTimeScale,i[a][1]);e.endTime&&o.cueSplitAtTime(e.endTime/this.videoTimeScale)}}}},e.prototype.initialize=function(e,t){function r(e){switch(e.toLowerCase()){case"cc1":return 1;case"cc3":return 2}return AMP.Logger.error(AMP.Logger.Area.cea608Module,"Channel '"+e+"' is not supported. Supported channels are CC1 and CC3."),null}function n(e,t,r){return function(n,i,o){if((0===n||n)&&i&&o){t.newCue(n+a.presentationTimeOffsetInSec,i+a.presentationTimeOffsetInSec,o);var s=r.extract();a.cueParser.oncue=function(t){if(t.startTime!==t.endTime){var r=!0;e.cues.cues_.forEach(function(e){e.text===t.text&&e.startTime===t.startTime&&(r=!1)}),r&&e.addCue(t)}},a.cueParser.parse(s),a.cueParser.flush()}}}for(var i=this,a=this,c=0;c<t.length;c++)!function(e){var a=r(t[e].channel);if(!a)return"continue";var c=new u.default,d=new o.default;d.writable=!0,d.write=function(e){return c.append(e)};var p={newCue:n(t[e],new l.default(d),c)};i.embeddedCea608FieldParsers[e]=new s.default.Cea608Parser(a,p,null)}(c)},e}();r.default=c,t.exports=r.default},{"./lib/cea608-parser.js":90,"./lib/cea608-towebvtt.js":91,"./models/captionsBuffer.js":93,"global/window":80,stream:22}],90:[function(e,t,r){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},r=function(e){var r=e;return t.hasOwnProperty(e)&&(r=t[e]),String.fromCharCode(r)},n=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e){this.verboseFilter[e];this.verboseLevel}},d=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},p=function(e,t,r,n,i){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=n||"black",this.flash=i||!1};p.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var n=t[r];e.hasOwnProperty(n)&&(this[n]=e[n])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var h=function(e,t,r,n,i,o){this.uchar=e||" ",this.penState=new p(t,r,n,i,o)};h.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var f=function(){this.chars=[];for(var e=0;i>e;e++)this.chars.push(new h);this.pos=0,this.currPenState=new p};f.prototype={equals:function(e){for(var t=!0,r=0;i>r;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},copy:function(e){for(var t=0;i>t;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;i>t;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;t+1>r;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=r(e);return this.pos>=i?void c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;i>t;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,r=0;i>r;r++){var n=this.chars[r].uchar;" "!==n&&(t=!1),e.push(n)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var m=function(){this.rows=[];for(var e=0;n>e;e++)this.rows.push(new f);this.currRow=14,this.nrRollUpRows=null,this.reset()};m.prototype={reset:function(){for(var e=0;n>e;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,r=0;n>r;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},copy:function(e){for(var t=0;n>t;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;n>t;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var r=this.rows[this.currRow];if(null!==e.indent){var n=e.indent,i=Math.max(n-1,0);r.setCursor(e.indent),e.color=r.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],r="",i=-1,o=0;n>o;o++){var a=this.rows[o].getTextString();a&&(i=o+1,t.push(e?"Row "+i+': "'+a+'"':a.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},getTextAndFormat:function(){return this.rows}};var g=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new m,this.nonDisplayedMemory=new m,this.lastOutputScreen=new m,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};g.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16,n=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=n[r]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var y=function(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new g(1,t),new g(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}};y.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var r,n,i,o=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)n=127&t[a],i=127&t[a+1],0!==n||0!==i?(c.log("DATA","["+d([t[a],t[a+1]])+"] -> ("+d([n,i])+")"),(r=this.parseCmd(n,i))||(r=this.parseMidrow(n,i)),r||(r=this.parsePAC(n,i)),r||(r=this.parseBackgroundAttributes(n,i)),!r&&(o=this.parseChars(n,i))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):c.log("WARNING","No channel found yet. TEXT-MODE?")),r?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+d([n,i])+" orig: "+d([t[a],t[a+1]])))):this.dataCounters.padding+=2},parseCmd:function(e,t){var r=null,n=(20===e||28===e)&&t>=32&&47>=t,i=(23===e||31===e)&&t>=33&&35>=t;if(!n&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+d([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var o=this.channels[r-1];return 20===e||28===e?32===t?o.cc_RCL():33===t?o.cc_BS():34===t?o.cc_AOF():35===t?o.cc_AON():36===t?o.cc_DER():37===t?o.cc_RU(2):38===t?o.cc_RU(3):39===t?o.cc_RU(4):40===t?o.cc_FON():41===t?o.cc_RDC():42===t?o.cc_TR():43===t?o.cc_RTD():44===t?o.cc_EDM():45===t?o.cc_CR():46===t?o.cc_ENM():47===t&&o.cc_EOC():o.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},parseMidrow:function(e,t){var r=null;return(17===e||25===e)&&t>=32&&47>=t&&((r=17===e?1:2)!==this.currChNr?(c.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].cc_MIDROW(t),c.log("DEBUG","MIDROW ("+d([e,t])+")"),!0))},parsePAC:function(e,t){var r=null,n=null,i=(e>=17&&23>=e||e>=25&&31>=e)&&t>=64&&127>=t,u=(16===e||24===e)&&t>=64&&95>=t;if(!i&&!u)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=23>=e?1:2,n=t>=64&&95>=t?1===r?o[e]:s[e]:1===r?a[e]:l[e];var c=this.interpretPAC(n,t);return this.channels[r-1].setPAC(c),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},interpretPAC:function(e,t){var r=t,n={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,n.underline=1==(1&r),13>=r?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:15>=r?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((r-16)/2),n},parseChars:function(e,t){var n=null,i=null,o=null;if(e>=25?(n=2,o=e-8):(n=1,o=e),o>=17&&19>=o){var a=t;a=17===o?t+80:18===o?t+112:t+144,c.log("INFO","Special char '"+r(a)+"' in channel "+n),i=[a]}else e>=32&&127>=e&&(i=0===t?[e]:[e,t]);if(i){var s=d(i);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},parseBackgroundAttributes:function(e,t){var r,n,i,o=(16===e||24===e)&&t>=32&&47>=t,a=(23===e||31===e)&&t>=45&&47>=t;return!(!o&&!a)&&(r={},16===e||24===e?(n=Math.floor((t-32)/2),r.background=u[n],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),i=24>e?1:2,this.channels[i-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};e.logger=c,e.PenState=p,e.CaptionScreen=m,e.Cea608Parser=y,e.findCea608Nalus=function(e,t,r){for(var n=0,i=t,o=[];t+r>i;){if(n=e.getUint32(i),6==(31&e.getUint8(i+4)))for(var a=i+5,s=-1;i+4+n-1>a;){s=0;for(var l=255;255===l;)l=e.getUint8(a),s+=l,a++;var u=0;for(l=255;255===l;)l=e.getUint8(a),u+=l,a++;(function(e,t,r,n){if(4!==s||8>t)return null;var i=r.getUint8(n),o=r.getUint16(n+1),a=r.getUint32(n+3),l=r.getUint8(n+7);return 181==i&&49==o&&1195456820==a&&3==l})(0,u,e,a)&&o.push([a,u]),a+=u}i+=n+4}return o},e.extractCea608DataFromRange=function(e,t){var r=t[0],n=[[],[]];r+=8;var i=31&e.getUint8(r);r+=2;for(var o=0;i>o;o++){var a=e.getUint8(r),s=4&a,l=3&a;r++;var u=e.getUint8(r);r++;var c=e.getUint8(r);r++,s&&(127&u)+(127&c)!=0&&(0===l?(n[0].push(u),n[0].push(c)):1===l&&(n[1].push(u),n[1].push(c)))}return n}}(void 0===r?(void 0).cea608parser={}:r)},{}],91:[function(e,t,r){"use strict";r.__esModule=!0;var n=e("./cea608-parser.js"),i=function(e,t,r){this.stream=e,this.channelNr=1|t,this.combineConsecutiveRows=!0|r,this.initWritten=!1};i.prototype={newCue:function(e,t,r){this.initWritten||this.writeInit();var n=this.formatTime(e),i=this.formatTime(t);this.writeCue(n,i,r)},writeToStream:function(e){this.stream&&this.stream.write(e)},formatTime:function(e){var t,r,n,i=Math.floor(e),o=e-i,a=function(e){var t=e.toString();return 1===t.length?"0"+t:t};return t=Math.floor(i/3600),i-=3600*t,r=Math.floor(i/60),i-=60*r,n=Math.floor(1e3*o),a(t)+":"+a(r)+":"+a(i)+"."+function(e){for(var t=e.toString(),r=3-t.length;r>0;)t="0"+t,r--;return t}(n)},writeInit:function(e,t){this.writeToStream("WEBVTT\nStyling=CEA608\nKind=Caption\nChannel=CC"+this.channelNr+"\n"),t&&(this.lastScreen.copy(t),this.lastTime=e),this.initWritten=!0},writeCue:function(e,t,r){for(var n=-2,i=0;i<r.rows.length;i++){var o=r.rows[i];if(!o.isEmpty()){if(!this.combineConsecutiveRows||i!==n+1){var a=i+1;this.writeToStream("\n"+e+" --\x3e "+t+" line:"+a+"\n")}this.outputTextRow(o),this.writeToStream("\n"),n=i}}},outputTextRow:function(e){for(var t=new n.PenState,r=null,i=null,o=0;o<e.chars.length;o++){var a=!1;if(((r=(i=e.chars[o]).penState).foreground!==t.foreground||r.background!==t.background||r.flash!==t.flash)&&(("white"!==t.foreground||"black"!==t.background||t.flash)&&this.writeToStream("</c>"),a=!0),r.underline!==t.underline&&t.underline&&this.writeToStream("</u>"),r.italics!==t.italics&&t.italics&&this.writeToStream("</i>"),r.italics!==t.italics&&(r.italics&&this.writeToStream("<i>"),t.italics=r.italics),r.underline!==t.underline&&r.underline&&this.writeToStream("<u>"),a&&("white"!==r.foreground||"black"!==r.background||r.flash)){var s=[],l=r.background;if("transparent"===r.background)s.push("transparent");else{var u=l.split("_");2===u.length&&"semi"===u[1]&&s.push("semi-transparent"),"black"!==l&&s.push("bg_"+u[0])}"white"!==r.foreground&&s.push(r.foreground),r.flash&&s.push("blink");var c=s.join(".");this.writeToStream("<c."+c+">")}this.writeToStream(i.uchar),t.copy(r)}("white"!==r.foreground||"black"!==r.background)&&this.writeToStream("</c>"),r.underline&&this.writeToStream("</u>"),r.italics&&this.writeToStream("</i>")},close:function(){this.stream&&(this.stream.end(),this.stream=null)}},r.default=i,t.exports=r.default},{"./cea608-parser.js":90}],92:[function(e,t,r){"use strict";var n={};n.parseBuffer=function(e){return new i(e).parse()},n.addBoxParser=function(e,t){"string"==typeof e&&"function"==typeof t&&(o.prototype._boxParsers[e]=t)},n.Utils={},n.Utils.dataViewToString=function(e,t){var r=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(r).decode(e);var n=[],i=0;if("utf-8"===r)for(;i<e.byteLength;){var o=e.getUint8(i++);128>o||(224>o?(o=(31&o)<<6,o|=63&e.getUint8(i++)):240>o?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),n.push(String.fromCharCode(o))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},void 0!==r&&(r.parseBuffer=n.parseBuffer,r.addBoxParser=n.addBoxParser,r.Utils=n.Utils),n.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new n.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var r=[];return i._sweep.call(this,e,r,t),r},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,r){this.type&&this.type==e&&t.push(this);for(var n in this.boxes){if(t.length&&r)return;i._sweep.call(this.boxes[n],e,t,r)}};var o=function(){this._cursor=new n.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=r*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t,r,n=null;switch(e){case 8:n=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:n=((t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset))<<8)+(r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2));break;case 32:n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4),n=t*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,n},o.prototype._readString=function(e){for(var t="",r=0;e>r;r++){var n=this._readUint(8);t+=String.fromCharCode(n)}return t},o.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._readData=function(e){var t=e>0?e:this._raw.byteLength-(this._cursor.offset-this._offset),r=new DataView(this._raw.buffer,this._cursor.offset,t);return this._cursor.offset+=t,r},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._boxParsers[this.type]&&this._boxParsers[this.type].call(this))}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))},o.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc"],o.prototype._boxParsers={},o.prototype._boxParsers.avc1=function(){this.reserved1=[this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8)],this.data_reference_index=this._readUint(16),this.pre_defined1=this._readUint(16),this.reserved2=this._readUint(16),this.pre_defined2=[this._readUint(32),this._readUint(32),this._readUint(32)],this.width=this._readUint(16),this.height=this._readUint(16),this.horizresolution=this._readTemplate(32),this.vertresolution=this._readTemplate(32),this.reserved3=this._readUint(32),this.frame_count=this._readUint(16);var e=this._readUint(8);this.compressorname=this._readString(e);for(var t=0;31-e>t;t++)this._readUint(8);this.depth=this._readUint(16),this.pre_defined3=this._readInt(16),this.config=this._readData()},o.prototype._boxParsers.dref=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++)this.entries.push(o.parse(this))},o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_version=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=this._readData()},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mehd=function(){this._parseFullBox(),this.fragment_duration=this._readUint(1==this.version?64:32)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mfro=function(){this._parseFullBox(),this.mfra_size=this._readUint(32)},o.prototype._boxParsers.mp4a=function(){this.reserved1=[this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8),this._readUint(8)],this.data_reference_index=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.channelcount=this._readUint(16),this.samplesize=this._readUint(16),this.pre_defined=this._readUint(16),this.reserved3=this._readUint(16),this.samplerate=this._readTemplate(32),this.esds=this._readData()},o.prototype._boxParsers.mvhd=function(){this._parseFullBox();var e;for(1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[],e=0;9>e;e++)this.matrix.push(this._readTemplate(32));for(this.pre_defined=[],e=0;6>e;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=n.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0===this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},r=this._readUint(32);t.reference_type=r>>31&1,t.referenced_size=2147483647&r,t.subsegment_duration=this._readUint(32);var n=this._readUint(32);t.starts_with_SAP=n>>31&1,t.SAP_type=n>>28&7,t.SAP_delta_time=268435455&n,this.references.push(t)}},o.prototype._boxParsers.smhd=function(){this._parseFullBox(),this.balance=this._readTemplate(16),this.reserved=this._readUint(16)},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var r=0;r<t.ranges_count;r++){var n={};n.level=this._readUint(8),n.range_size=this._readUint(24),t.ranges.push(n)}this.subsegments.push(t)}},o.prototype._boxParsers.stsd=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++)this.entries.push(o.parse(this))},o.prototype._boxParsers.subs=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=0;e<this.entry_count;e++){var t={};t.sample_delta=this._readUint(32),t.subsample_count=this._readUint(16),t.subsamples=[];for(var r=0;r<t.subsample_count;r++){var n={};n.subsample_size=this._readUint(1&this.version?32:16),n.subsample_priority=this._readUint(8),n.discardable=this._readUint(8),n.codec_specific_parameters=this._readUint(32),t.subsamples.push(n)}this.entries.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),this.baseMediaDecodeTime=this._readUint(1==this.version?64:32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tfra=function(){this._parseFullBox(),this.track_ID=this._readUint(32),this._packed=this._readUint(32),this.reserved=this._packed>>>6,this.length_size_of_traf_num=(this._packed&&0xffff00000000)>>>4,this.length_size_of_trun_num=(this._packed&&4294901760)>>>2,this.length_size_of_sample_num=this._packed&&255,this.number_of_entry=this._readUint(32),this.entries=[];for(var e=0;e<this.number_of_entry;e++){var t={};1==this.version?(t.time=this._readUint(64),t.moof_offset=this._readUint(64)):(t.time=this._readUint(32),t.moof_offset=this._readUint(32)),t.traf_number=this._readUint(8*(this.length_size_of_traf_num+1)),t.trun_number=this._readUint(8*(this.length_size_of_trun_num+1)),t.sample_number=this._readUint(8*(this.length_size_of_sample_num+1)),this.entries.push(t)}},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;9>e;e++)this.matrix.push(this._readTemplate(32));this.width=this._readTemplate(32),this.height=this._readTemplate(32)},o.prototype._boxParsers.trex=function(){this._parseFullBox(),this.track_ID=this._readUint(32),this.default_sample_description_index=this._readUint(32),this.default_sample_duration=this._readUint(32),this.default_sample_size=this._readUint(32),this.default_sample_flags=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers["url "]=o.prototype._boxParsers["urn "]=function(){this._parseFullBox(),"urn "===this.type&&(this.name=this._readTerminatedString()),this.location=this._readTerminatedString()},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=n.Utils.dataViewToString(e)},o.prototype._boxParsers.vmhd=function(){this._parseFullBox(),this.graphicsmode=this._readUint(16),this.opcolor=[this._readUint(16),this._readUint(16),this._readUint(16)]},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=n.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],93:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0,function(){var e=function(){function e(){n(this,e),this._captions=""}return e.prototype.get=function(){return this._captions},e.prototype.append=function(e){this._captions+=e},e.prototype.clear=function(){this._captions=""},e.prototype.extract=function(){var e=this.get().slice();return this.clear(),e},e}();r.default=e}(),t.exports=r.default},{}],94:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0,r.default=function e(){n(this,e),this.startTime=null,this.endTime=null,this.fields=[[],[]]},t.exports=r.default},{}],95:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/tracks/track-enums.js")),o=function(){function e(t){n(this,e),this.cea608TextTracks=[],this.player=t}return e.prototype.getAllTracks=function(){return this.cea608TextTracks},e.prototype.getTrackById=function(e){for(var t=this.player.textTracks(),r=0;r<t.length;r++)if(t[r].id===e)return t[r];return null},e.prototype.addTextTrack=function(e,t,r){var n=this.player.addTextTrack(i.default.TextTrackKind.captions,e,t);return n.channel=r,this.cea608TextTracks.push(n),n},e.prototype.removePreviousEmbeddedTextTracks=function(){if(this.cea608TextTracks.length){var e=this;this.cea608TextTracks.forEach(function(t){var r=e.getTrackById(t.id);r&&e.player.removeRemoteTextTrack(r)}),this.cea608TextTracks=[]}},e}();r.default=o,t.exports=r.default},{"../video.js/src/js/tracks/track-enums.js":233}],96:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){t&=268435455,t|=a(e)<<28;var n=new b.default(t);return n.message=r,n}function a(e){switch(e.toLowerCase()){case"amp":return 1;case"azurehtml5js":return 2;case"flashss":return 3;case"silverlightss":return 4;case"html5":return 5;case"html5fairplayhls":return 6;default:return 0}}r.__esModule=!0;var s=i(e("global/window")),l=i(e("global/document")),u=i(e("object.assign")),c=i(e("lodash-compat/function/throttle")),d=n(e("./video.js/src/js/utils/events.js")),p=n((n(e("./video.js/src/js/utils/guid.js")),e("./video.js/src/js/utils/fn.js"))),h=n(e("./video.js/src/js/utils/dom.js")),f=n(e("./video.js/src/js/utils/languageLabels.js")),m=e("./video.js/src/js/utils/url.js"),g=n(m),y=n(e("./video.js/src/js/utils/browser.js")),v=i(e("./video.js/src/js/component.js")),_=i(e("./video.js/src/js/error-display.js")),b=i(e("./video.js/src/js/media-error.js")),S=i(e("./video.js/src/js/menu/menu.js")),T=i(e("./video.js/src/js/player.js")),k=i(e("./video.js/src/js/tech/tech.js")),w=i(e("./video.js/src/js/utils/to-title-case.js")),E=i(e("./video.js/src/js/video.js")),C=e("./video.js/src/js/utils/log.js"),P=i(e("./video.js/src/js/utils/merge-options.js")),I=i((n(m),e("./video.js/src/js/tracks/text-track.js"))),R=n((i(e("./lang/languages.js")),e("./ampHeuristicProfiles.js"))),A=n(e("./ampDefs.js")),M=e("./version.js"),O=i((i((i((i((i((i(e("./tech-wrappers/Html5.js")),e("./tech-wrappers/amp-tech-azureHtml5JS.js"))),e("./tech-wrappers/amp-tech-flashSS.js"))),e("./tech-wrappers/amp-tech-silverlightSS.js"))),e("./tech-wrappers/amp-tech-html5FairPlayHLS.js"))),e("./Cea608/Cea608Module.js"))),j=e("timers"),D=E.default;s.default.amp=D,"object"==typeof r&&"object"==typeof t&&(t.exports=D),r.default=D,D.errorCode=A.errorCode,D.eventName=A.eventName,D.streamEventName=A.streamEventName,D.streamListEventName=A.streamListEventName,D.bufferDataEventName=A.bufferDataEventName,D.internalEventName=A.internalEventName,D.protectionType=A.protectionType,D.CorsConfig=A.CorsConfig,D.downloadableMediaType=A.downloadableMediaType,D.getIsoLangs=f.getIsoLangs,D.get2LetterLangCode=f.get2LetterLangCode,D.decodeURL=g.decodeURL,D.encodeURL=g.encodeURL,s.default.videojs=D,D.Player=T.default,D.options.techOrder=["azureHtml5JS","flashSS","html5FairPlayHLS","silverlightSS","html5"];T.default.prototype.enterFullscreen=T.default.prototype.requestFullscreen,T.default.prototype.addEventListener=T.default.prototype.on,T.default.prototype.removeEventListener=T.default.prototype.off,T.default.prototype.currentTechName=function(){return this.techName_},T.default.prototype.playerElement=function(){return this.el_},T.default.prototype.currentAbsoluteTime=function(e){var t=this.techGet_("currentAbsoluteTime");return void 0!==t&&void 0!==e?(this.trigger("currentTimeChanging",{time:this.fromPresentationTime(e)}),this.techCall_("setCurrentAbsoluteTime",e),t>e&&this.trigger("rewind"),this):t},T.default.prototype.currentMediaTime=function(){return this.techGet_("currentMediaTime")},T.default.prototype.currentVideoStreamList=function(){return this.techGet_("currentVideoStreamList")},T.default.prototype.currentAudioStreamList=function(){return this.techGet_("currentAudioStreamList")},T.default.prototype.videoBufferData=function(){return this.techGet_("videoBufferData")},T.default.prototype.audioBufferData=function(){return this.techGet_("audioBufferData")},T.default.prototype.currentDownloadBitrate=function(){return this.techGet_("currentDownloadBitrate")},T.default.prototype.currentPlaybackBitrate=function(){return this.techGet_("currentPlaybackBitrate")},T.default.prototype.videoWidth=function(){return this.techGet_("videoWidth")},T.default.prototype.videoHeight=function(){return this.techGet_("videoHeight")},T.default.prototype.currentProtectionInfo=function(){return this.options_.sourceOptions.protectionInfo},T.default.prototype.isLive=function(){return this.techGet_("isLive")},T.default.prototype.manifestPlayableWindowLength=function(){return this.techGet_("manifestPlayableWindowLength")},T.default.prototype.currentPlayableWindow=function(){return this.techGet_("currentPlayableWindow")},T.default.prototype.segmentBoundaries=function(){return this.techGet_("segmentBoundaries")},T.default.prototype.toPresentationTime=function(e){return this.player().isLive()&&this.player().currentPlayableWindow()?e+this.player().currentPlayableWindow().startInSec:e},T.default.prototype.fromPresentationTime=function(e){return this.player().isLive()&&this.player().currentPlayableWindow()?e-this.player().currentPlayableWindow().startInSec:e},T.default.prototype.currentHeuristicProfile=function(e){return void 0===e?R.findProfile(this.options_.heuristicProfile).name:(this.options_.heuristicProfile=e,this)},T.default.prototype.currentPlayerSettingValue=function(e){var t=null;return this.tech_&&k.default._availableSettings.heuristicSettings.hasOwnProperty(e)&&(this.tech_.updateCurrentPlayerConfigs(),t=this.tech_.options_.currentPlayerConfigs.currentHeuristicConfigs[e]),t},T.default.getScriptRootURL=function(){var e=l.default.getElementsByTagName("script"),t=null;if(e&&e.length>=1)for(var r=e.length-1;r>=0;r--){var n=null;n=e[r].src;var i=new RegExp("(.[^?]+)/azuremediaplayer(?:\\.min)?\\.js(?:\\?.*)?$","i");if(n){var o=n.match(i);if(o&&2===o.length){t=o[1];break}}}var a=T.default.prototype.getAmpVersion();return!t&&a&&(t="https://amp.azure.net/libs/amp/"+a),t},T.default.prototype.getAmpVersion=function(){var e=null;if(M.ampVersion){var t=new RegExp("([0-9]+.[0-9]+.[0-9]+).[0-9]+"),r=M.ampVersion.match(t);r&&2===r.length&&(e=r[1])}return e},T.default.prototype.getFullAmpVersion=function(){return M.ampVersion},T.default.prototype.addThrottledWindowResizeListener=function(e,t,r){r&&(e=e.bind(r));var n=c.default(e,t);s.default.addEventListener("resize",n),this.on("dispose",function(){s.default.removeEventListener("resize",n)})},T.default.prototype.disableTextTracks=function(){var e=this.textTracks();if(e)for(var t=0;t<e.length;t++)e[t].mode="disabled"},T.default.prototype.setActiveTextTrack=function(e){e instanceof I.default||AMP.Logger.error(AMP.Logger.Area.ampAPI,"textTrack is expecting a TextTrack object.");var t=this.textTracks(),r=!1;t||AMP.Logger.error(AMP.Logger.Area.ampAPI,"The text tracks are not found.");for(var n=0;n<t.length;n++){var i=t[n];i.id===e.id?(i.mode="showing",r=!0):i.mode="disabled"}r||AMP.Logger.error(AMP.Logger.Area.ampAPI,"The specified text track not found.")},T.default.prototype.src=function(e,t,r){if(AMP.Logger.verbose(AMP.Logger.Area.videojs,"AMP version "+this.getFullAmpVersion()),void 0===e)return this.currentSrc();if(this.sizeCal=!1,this.presentationFlow=!0,void 0!==r&&r||(this.presentationFlow=!1,this.presentationLayout({})),!(Array.isArray(e)||e instanceof Object))throw new Error("src is expecting a source object or an array of source objects");this.setupInitAmpEventHandlers_(),this.one("loadstart",function(){var e=!this.techName_||"Html5"===this.techName_,t=!this.techName_||"Html5FairPlayHLS"===this.techName_,r=this.options().autoplay;(e||t&&!r)&&(this.removeClass("vjs-waiting"),this.trigger("removeSpinner"))}),this.showPlayerLoad(),void 0!==t&&null!==t&&t.length>0&&(this.options_.tracks=t),e.selected||(this.currentRetryCountForLiveMediaLoad=0,this.clearPlayerTimers(),this.options_.sdn={},Array.isArray(e)?this.options_.sourceList=e:e instanceof Object&&(this.options_.sourceList=[e]),AMP.Logger.verbose(AMP.Logger.Area.videojs,"dispatching event: sourceset "+JSON.stringify(e,function(e,t){return"authenticationToken"!==e?t:"provided"})),this.trigger(D.eventName.sourceset),this.drmSupportCheck(this.options_.sourceList));return function t(){this.techSetupCheck()&&this.pluginSetupCheck()?e instanceof Object&&e.selected?(this.refreshTextTracks(),this.cache_.src=e.src,this.currentType_=e.type||"",this.options_.currentType=this.currentType_,this.techCall_("updatePlayerOptions",this.options_),this.ready(function(){this.loadMediaWithTimeout(function(){this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load()})})):this.sourceList_(UrlRewriter.expandSources(this.options_.sourceList)):j.setTimeout(t.bind(this),50)}.call(this),this},T.default.prototype.vjsOptions=T.default.prototype.options,T.default.prototype.options=function(e){var t=this.vjsOptions(e);return this.techCall_("updatePlayerOptions",t),t},T.default.prototype.showPlayerLoad=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-paused"),this.removeClass("vjs-playing"),this.isPreloadSupported()&&this.addClass("vjs-waiting")},T.default.prototype.drmSupportCheck=function(e){for(var t=0,r=this.options_.techOrder;t<r.length;t++){var n=w.default(r[t]),i=k.default.getTech(n);i&&i.drmSupportCheck&&i.drmSupportCheck(e)}},T.default.prototype.techSetupCheck=function(){for(var e=0,t=this.options_.techOrder;e<t.length;e++){var r=w.default(t[e]),n=k.default.getTech(r);if(n&&n.setupDone&&!n.setupDone())return!1}return!0},T.default.prototype.pluginSetupCheck=function(){var e=this.options_.plugins;for(var t in e)if(e.hasOwnProperty(t)&&this[t]&&this[t].setupDone&&!this[t].setupDone())return!1;return!0},T.default.prototype.setupInitAmpEventHandlers_=function(){var e=this;this.ampEventHandlersReady?(this.startTriggered=!1,this.firstQuartileTriggered=!1,this.midpointTriggered=!1,this.thirdQuartileTriggered=!1,this.wasPaused=!1):function(){var t=e,r=function(e,r){t.addEventListener(e,r),t.addEventListener("dispose",function(){t.removeEventListener(e,r)})};r("timeupdate",function(){var e=this.duration(),t=this.currentTime();e>0&&(!this.startTriggered&&t>0&&(this.startTriggered=!0,this.trigger("start")),this.isLive()||(!this.firstQuartileTriggered&&t>=e/4&&(this.firstQuartileTriggered=!0,this.trigger("firstquartile")),!this.midpointTriggered&&t>=e/2&&(this.midpointTriggered=!0,this.trigger("midpoint")),!this.thirdQuartileTriggered&&t>=3*e/4&&(this.thirdQuartileTriggered=!0,this.trigger("thirdquartile"))))}),r("play",function(){this.wasPaused&&(this.trigger("resume"),this.wasPaused=!1)}),r("pause",function(){this.wasPaused=!0}),r("fullscreenchange",function(){this.trigger(this.isFullscreen()?"fullscreen":"exitfullscreen")}),r("canplaythrough",function(){this.clearPlayerTimers()}),r("loadstart",function(){"azurehtml5js"===this.techName_.toLowerCase()&&this.clearSetupCheckTimer()}),e.ampEventHandlersReady=!0}()},T.default.prototype.sourceList_=function(e){var t=this.selectSource(e),r=!0;if(t&&(this.updateSourceOptions(t.source),"FlashSS"===t.tech&&void 0!==this.options_.sourceOptions.protectionInfo)){var n=E.default.getTech(t.tech);!0===n.isVersionSupported("30.0")&&!1===n.isVersionSupported("30.0.0.145")&&(r=!1)}r&&t?(this.tech_&&t.tech===this.techName_&&("FlashSS"!==t.tech||JSON.stringify(this.options_.sourceOptions.protectionInfo)===JSON.stringify(t.source.protectionInfo)&&!this.tech_.isReloadNeeded())?(t.source.selected=!0,this.src(t.source,[],this.presentationFlow)):this.loadMediaWithTimeout(function(){this.loadTech_(t.tech,t.source),this.refreshTextTracks()}),this.cea608Module&&this.cea608Module.dispose(),this.cea608Module=this.cea608Module||new O.default(this),this.cea608Module.init()):(this.tech_&&this.unloadTech_(),T.default.raiseError.call(this,T.default.getAMPErrorCode.call(this,e)),this.triggerReady())},T.default.prototype.options_.sourceOptions={},T.default.prototype.updateSourceOptions=function(e){this.options({sourceOptions:null});var t={};e&&e.protectionInfo&&(t.protectionInfo=e.protectionInfo),this.options({sourceOptions:t})},T.default.prototype.pauseAndHide=function(){try{this.el().style.display="none",null!==this.currentSrc()&&this.pause()}catch(e){AMP.Logger.warning(AMP.Logger.Area.videojs,"Exception while quering currentSrc in player.pauseAndHide()")}},T.default.prototype.hide=function(){void 0===this.el().style.opacity?this.el().style.display="none":(this.el().style.opacity=0,this.bigPlayButton.el().style.opacity=0)},T.default.prototype.isVisible=function(){return"none"!==this.el().style.display},T.default.prototype.playerContainer=function(){return this.multiPlayerContainerDiv},T.default.prototype.currentClip=function(){return this.clip},T.default.prototype.clip=null,T.default.prototype.playClip=function(e){this.src(e.parent.source,e.parent.tracks,!0),this.clip=e,this.clip.isAd&&(this.title_=e.name)},T.default.prototype.addMidRoll=function(e){return null===this.scheduler&&(this.scheduler=new AMP.Scheduler.Scheduler(this)),this.scheduler.addMidRoll(e)},T.default.prototype.show=function(){this.el().style.display="block",this.el().style.opacity=1,this.bigPlayButton.el().style.opacity=1,this.setupSkipAd(),this.trigger("visibilityChange");var e=this;j.setTimeout(function(){if(e.multiPlayerContainerDiv===l.default.activeElement)try{e.multiPlayerContainerDiv.blur()}catch(e){AMP.Logger.warning(AMP.Logger.Area.videojs,"Exception while removing focus from player container")}},100)},T.default.prototype.isDisposed=function(){return null===this.el()},T.default.prototype.resetPlayer=function(){this.error(null),this.clip=null,this.title_="",void 0!==this.skipAdButton&&null!==this.skipAdButton&&(this.skipAdButton.style.display="none",this.skipAdButton.innerHTML="")},T.default.prototype.setupSkipAd=function(){if(null!==this.clip&&this.clip.isAd&&this.clip.skippable&&this.clip.skippable>0){var e=this,t=function(){if(null!==e.clip&&e.skipAdInitialized){var t=e.duration()>0?Math.min(e.clip.skippable,e.duration()):e.clip.skippable,r=Math.ceil(t-e.currentTime());r>0?e.skipAdButton.innerHTML=AMP.Misc.formatString(e.localize("SKIP_AD_COUNTDOWN_FORMAT"),r):-1===(" "+e.skipAdButton.className+" ").indexOf(" enabled ")&&(e.skipAdButton.className+=" enabled",e.skipAdButton.innerHTML=e.localize("SKIP")),"block"!==e.skipAdButton.style.display&&e.currentTime()>0&&(e.skipAdButton.style.display="block")}},r=function r(){e.skipAdInitialized=!1,e.off("timeupdate",t),e.off("ended",r),e.skipAdButton.className="amp-skip-ad-button",e.skipAdButton.style.display="none"};this.skipAdButton||(this.skipAdButton=s.default.document.createElement("div"),this.skipAdButton.className="amp-skip-ad-button",this.skipAdButton.style.display="none",this.skipAdButton.onclick=function(){(" "+this.className+" ").indexOf(" enabled ")>=0&&(e.trigger("skip"),r())},this.el().appendChild(this.skipAdButton)),this.skipAdInitialized||(this.on("timeupdate",t),this.on("ended",r),this.skipAdInitialized=!0)}else this.skipAdButton&&(this.skipAdButton.style.display="none")},T.default.prototype.getSkipButton=function(){return this.skipAdButton},T.default.prototype.showControls=function(){this.controlBar.el_.style.display="none"},T.default.prototype.hideControls=function(){this.controlBar.el_.style.display="block"},T.default.prototype.scheduler=null,T.default.prototype.getScheduler=function(){return this.scheduler},T.default.prototype.playlist=function(e){return e?(null===this.scheduler&&(this.scheduler=new AMP.Scheduler.Scheduler(this)),void this.scheduler.setPlaylist(e)):this.scheduler?this.scheduler.playlist():null},T.default.prototype.oldDispose=T.default.prototype.dispose,T.default.prototype.dispose=function(){this.clearPlayerTimers(),this.scheduler&&null!==this.scheduler&&this.scheduler.dispose(),this.oldDispose()},T.default.prototype.getMemoryLog=function(e){return AMP.Logger.getMemoryLog(e)},T.default.prototype.setXmlHttpRequestFactory=function(e){this.tech_&&this.tech_.setXmlHttpRequestFactory?this.tech_.setXmlHttpRequestFactory(e):AMP.Logger.warning(AMP.Logger.Area.videojs,"setXmlHttpRequestFactory unavailable on "+this.techName_+" playback technology element.")},k.default.prototype.updatePlayerOptions=function(e){this.options_.playerOptions=P.default(this.options_.playerOptions,e)},k.default.prototype.updateCurrentPlayerConfigs=function(){this.options_.currentPlayerConfigs||(this.options_.currentPlayerConfigs={});var e=R.findProfile(this.options_.playerOptions.heuristicProfile);void 0===this.options_.heuristicProfile&&e&&(this.options_.heuristicProfile=e.name);var t=e?u.default({},e):{},r=this.options_.playerOptions.customPlayerSettings;if(r&&r.customHeuristicSettings){var n={};for(var i in r.customHeuristicSettings)k.default._availableSettings.heuristicSettings.hasOwnProperty(i)&&(n[i]=r.customHeuristicSettings[i]);t=u.default(t,n)}t.maxBufferInWallClockSec<t.preRollInWallClockSec&&(t.maxBufferInWallClockSec=t.preRollInWallClockSec),t.livePlaybackOffsetInWallClockSec<t.preRollInWallClockSec&&(t.livePlaybackOffsetInWallClockSec=t.preRollInWallClockSec),this.options_.currentPlayerConfigs.currentHeuristicConfigs=t},k.default._availableSettings={heuristicSettings:{preRollInWallClockSec:0,maxBufferInWallClockSec:0,livePlaybackOffsetInWallClockSec:0,windowSizeHeuristics:!1,useBrowserWindowForWindowSizeRule:!1,minFragmentsForBandwidthAverage:1,bandwidthTestWithTimeThresholdDuringLive:!0,useVariableFragmentSizeMode:!1}},T.default.canSupportFormats=function(e,t){var r=t[e.type];if(r){if(!e.protectionInfo)return"maybe";for(var n=0;n<e.protectionInfo.length;n++)if(-1!==r.indexOf(e.protectionInfo[n].type))return"maybe"}return""},T.default.prototype.refreshTextTracks=function(){if(this.tech_){if(this.remoteTextTracks()&&this.remoteTextTracks().tracks_)for(;this.remoteTextTracks().tracks_.length>0;)this.removeRemoteTextTrack(this.remoteTextTracks().tracks_[0]);for(var e=this.options_.tracks||[],t=0;t<e.length;t++){var r=e[t];this.player_.addRemoteTextTrack(r)}this.controlBar&&this.controlBar.subtitlesButton&&this.controlBar.subtitlesButton.update(),this.controlBar&&this.controlBar.captionsButton&&this.controlBar.captionsButton.update(),this.options_.tracks.length=0,this.textTracks_=this.player_.textTracks()}},T.default.prototype.getCurrentTextTrack=function(){var e=this.textTracks(),t=0,r=void 0;if(e)for(;t<e.length;t++)if("showing"===(r=e[t]).mode)return r},T.default.prototype.trigger=function(e,t,r,n){switch(e){case"waiting":case"fullscreenchange":AMP.Logger.verbose(AMP.Logger.Area.videojs,"triggering event: "+e)}return r?d.trigger(this.el_,e,t,r,n):d.trigger(this.el_,e,t,this.currentClip(),n),this},T.default.raiseError=function(e,t){var r=o("amp",e,t);this.error(r)},T.default.prototype.retryPlayerLoad=function(e){this.clearPlayerTimers();var t=void 0===e;if(void 0!==e)try{t=this.techGet_("isLiveStartupError")}catch(e){t=!1}if(!this.hasStarted()&&t&&this.options_.manifestFetchAutoRetryForLive&&this.currentRetryCountForLiveMediaLoad<this.options_.maxRetryCountForLive){this.currentRetryCountForLiveMediaLoad++,this.trigger("livestartupretry",{retryCount:this.currentRetryCountForLiveMediaLoad}),AMP.Logger.warning(AMP.Logger.Area.ampAPI,"live startup retry. count :"+this.currentRetryCountForLiveMediaLoad);var r=this;return this.retryTimer=j.setTimeout(function(){r.retryTimer=NaN,r.retryMediaLoad()},this.options_.retryIntervalForLiveInMSec),!0}return!1},T.default.prototype.clearPlayerTimers=function(){this.retryTimer&&(j.clearTimeout(this.retryTimer),this.retryTimer=NaN),this.clearSetupCheckTimer()},T.default.prototype.clearSetupCheckTimer=function(){this.techSetupCheckTimer&&(j.clearTimeout(this.techSetupCheckTimer),this.techSetupCheckTimer=NaN)},T.default.prototype.loadMediaWithTimeout=function(e){e&&(this.originalSetSource=e),e.call(this),this.startSetupTimeout()},T.default.prototype.retryMediaLoad=function(){this.techCall_("src",this.cache_.src),this.startSetupTimeout()},T.default.prototype.startSetupTimeout=function(){var e=this;this.clearSetupCheckTimer(),this.options_.playerStartupTimeoutTimer&&(this.techSetupCheckTimer=j.setTimeout(function(){e.techSetupCheckTimer=NaN,e.currentRetryCountForLiveMediaLoad<e.options_.maxRetryCountForLive?e.retryPlayerLoad():T.default.raiseError.call(this,A.errorCode.srcErrUnknown)},this.options_.playerStartupTimeoutInMSec),this.showBusy())},k.default.raiseError=function(e,t,r){var n=o(e,t,r);this.error(n)},T.default.prototype.getErrorUI=function(e){var t=(267386880&e.code)>>20;return 0===t?e.message:6===t?this.options().notSupportedMessage:255===t?"MEDIA_ERR_UNKNOWN":b.default.errorTypes[t]||""},_.default.prototype.content=function(){var e=this.player().error();if(e){var t=this.player().getErrorUI(e);return[this.htmlEncode(this.localize(t)),l.default.createElement("br"),"(0x"+e.code.toString(16)+")"]}},T.default.getAMPErrorCode=function(e){for(var t=D.errorCode.srcPlayerMismatchUnknown,r=0,n=this.options_.techOrder;r<n.length;r++){var i=w.default(n[r]),o=E.default.getTech(i);if(o&&(!o.isSupported()||"FlashSS"===i&&!1===o.isVersionSupported("30.0.0.145")&&!0===o.isVersionSupported("30.0")))for(var a=0,s=e;a<s.length;a++){var l=s[a];o.canPlaySource(l)&&("SilverlightSS"===i?t|=D.errorCode.srcPlayerMismatchSilverlightNotInstalled:"FlashSS"===i&&(t|=D.errorCode.srcPlayerMismatchFlashNotInstalled))}}return t},T.default.prototype.checkWidewineHttpErrorScenario=function(e){var t=(16711680&e.code)===D.errorCode.srcPlayerMismatchStart,r=(16777215&e.code)===D.errorCode.abortedErrHttpMixedContentBlocked;if(t&&!r){try{(function(e){var t=!1;return void 0!==e&&e.length>0&&e.forEach(function(e){e.protectionInfo&&e.protectionInfo.length>0&&e.protectionInfo.forEach(function(e){"Widevine"===e.type&&(t=!0)})}),t})(this.options_.sourceList)&&(e.code=4278190080&e.code|D.errorCode.encryptErrDecrypterNotFound)}catch(e){AMP.Logger.warning(AMP.Logger.Area.videojs,"exception in checkWidewineHttpsErrorScenario")}}},T.default.prototype.preloadClip=function(e){this.options_.preload="auto",this.options_.autoplay=!1,this.src(e.parent.source,e.parent.tracks,!0),this.clip=e,this.clip.isAd&&(this.title_=e.name)},T.default.prototype.canControlPlaybackRate=function(){return this.tech_&&this.tech_.featuresPlaybackRate},T.default.prototype.isPreloadSupported=function(){return this.tech_&&this.tech_.featuresPreload},T.default.prototype.downloadableMedia=function(e){return void 0!==e?(this.downloadableMediaOptions=e,this.trigger("downloadableMediaChanged"),this):this.downloadableMediaOptions},T.default.prototype.spliceWaiting=function(){var e=[];if(this.tech){var t=this.techGet_("getAdSignalsAndReset");if(t&&t.length>0){var r=!!t[0].simpleSignal;t.forEach(function(t){if(r)e.push({id:t.simpleSignal.id,startOffset:t.simpleSignal.presentationTime,duration:t.simpleSignal.duration,out:!0});else{var n=AMP.Scte35Parser.parseBinaryMessage(t.scteSignal.signalInBinary);n&&n.id&&(t.scteSignal.presentationTimeOverride&&(n.startOffset=t.scteSignal.presentationTimeOverride),e.push(n))}})}}return e},T.default.prototype.addElClass=function(e,t){h.addElClass(e,t)},T.default.prototype.removeElClass=function(e,t){h.removeElClass(e,t)},T.default.prototype.showBusy=function(){h.addElClass(this.el(),"vjs-waiting"),this.trigger("waiting")},T.default.prototype.presentationLayout=function(e){return void 0===e?this.preLayout:(this.title_="",this.preLayout=e,this.clip=null,void this.trigger("presentationUpdate"))},T.default.prototype.createAdPlayer=function(){var e=l.default.createElement("video");y.isMobile||h.setElAttributes(e,{preload:"auto"}),this.el().parentNode.appendChild(e);var t=this.options_,r={};return r.width=t.width,r.height=t.height,r.fluid=t.fluid,r.autoplay=t.autoplay,r.poster=t.poster,r.controls=!1,r.adClickEnabled=!0,r.overrideDisabledForBigPlayButton=!0,r.techOrder=["html5"],r.hotkeys={enableSeek:!1,enablePlayPause:!1},r.isAdPlayer=!0,r.logo={enabled:!1},r.ariaLabel="Ad player",new T.default(e,r,null,this)},C.Log.logByType=AMP.Logger.videoJSLogOverride,v.default.prototype.prependChild=function(e,t){var r=this.addChild(e,t);return this.contentEl().insertBefore(r.el(),this.contentEl().firstChild),r},v.default.prototype.toggleClass=function(e,t){return void 0!==t?void(t?this.addClass(e):this.removeClass(e)):void(this.hasClass(e)?this.removeClass(e):this.addClass(e))},v.default.prototype.addCrossOriginPolicy=function(e,t){t||(t=this.el()),e===D.CorsConfig.UseCredentials?t.setAttribute("crossorigin","use-credentials"):e===D.CorsConfig.Anonymous&&t.setAttribute("crossorigin","anonymous")},S.default.prototype.prependItem=function(e,t){this.prependChild(e),e.parent=t,e.on("click",p.bind(this,function(){this.unlockShowing()}))},t.exports=r.default},{"./Cea608/Cea608Module.js":87,"./ampDefs.js":97,"./ampHeuristicProfiles.js":98,"./lang/languages.js":124,"./tech-wrappers/Html5.js":150,"./tech-wrappers/amp-tech-azureHtml5JS.js":152,"./tech-wrappers/amp-tech-flashSS.js":153,"./tech-wrappers/amp-tech-html5FairPlayHLS.js":154,"./tech-wrappers/amp-tech-silverlightSS.js":155,"./version.js":156,"./video.js/src/js/component.js":163,"./video.js/src/js/error-display.js":200,"./video.js/src/js/media-error.js":205,"./video.js/src/js/menu/menu.js":208,"./video.js/src/js/player.js":210,"./video.js/src/js/tech/tech.js":222,"./video.js/src/js/tracks/text-track.js":232,"./video.js/src/js/utils/browser.js":238,"./video.js/src/js/utils/dom.js":241,"./video.js/src/js/utils/events.js":242,"./video.js/src/js/utils/fn.js":243,"./video.js/src/js/utils/guid.js":246,"./video.js/src/js/utils/languageLabels.js":248,"./video.js/src/js/utils/log.js":249,"./video.js/src/js/utils/merge-options.js":250,"./video.js/src/js/utils/to-title-case.js":254,"./video.js/src/js/utils/url.js":255,"./video.js/src/js/video.js":256,"global/document":79,"global/window":80,"lodash-compat/function/throttle":29,"object.assign":73,timers:24}],97:[function(e,t,r){"use strict";r.__esModule=!0;var n={PlayReady:"PlayReady",Widevine:"Widevine",AES:"AES",FairPlay:"FairPlay"};r.protectionType=n;var i={Anonymous:"Anonymous",UseCredentials:"UseCredentials"};r.CorsConfig=i;var o={Smooth:"application/vnd.ms-sstr+xml",Dash:"application/dash+xml",HLS:"application/vnd.apple.mpegurl"};r.StreamingFormatMimeType=o;var a={canplaythrough:"canplaythrough",durationchange:"durationchange",ended:"ended",error:"error",fullscreenchange:"fullscreenchange",loadstart:"loadstart",loadedmetadata:"loadedmetadata",loadeddata:"loadeddata",pause:"pause",play:"play",playing:"playing",seeked:"seeked",seeking:"seeking",timeupdate:"timeupdate",volumechange:"volumechange",waiting:"waiting",downloadbitratechanged:"downloadbitratechanged",playbackbitratechanged:"playbackbitratechanged",sourceset:"sourceset",ratechange:"ratechange",disposing:"disposing",splicewaiting:"splicewaiting",start:"start",firstquartile:"firstquartile",midpoint:"midpoint",thirdquartile:"thirdquartile",complete:"complete",mute:"mute",unmute:"unmute",rewind:"rewind",resume:"resume",fullscreen:"fullscreen",exitfullscreen:"exitfullscreen",click:"tech-click",skip:"skip",errorInPlayingAd:"errorInPlayingAd",livestartupretry:"livestartupretry",embeddedcaptionsfound:"embeddedcaptionsfound"};r.eventName=a;var s={menuadded:"menuadded",currentTimeChanging:"currentTimeChanging",playingAtLiveDVREdge:"playingAtLiveDVREdge",playingAtStartDVREdge:"playingAtStartDVREdge",playingInDVR:"playingInDVR"};r.internalEventName=s;var l={trackselected:"trackselected"};r.streamEventName=l;var u={streamselected:"streamselected",streamindexinvalid:"streamindexinvalid",streamselectnotsupported:"streamselectnotsupported"};r.streamListEventName=u;var c={abortedErrStart:1048576,abortedErrUnknown:1048576,abortedErrNotImplemented:1048577,abortedErrHttpMixedContentBlocked:1048578,abortedErrEnd:2097151,networkErrStart:2097152,networkErrUnknown:2097152,networkErrHttpResponseBegin:2097552,networkErrHttpBadUrlFormat:2097552,networkErrHttpUserAuthRequired:2097553,networkErrHttpUserForbidden:2097555,networkErrHttpUrlNotFound:2097556,networkErrHttpNotAllowed:2097557,networkErrHttpGone:2097562,networkErrHttpPreconditionFailed:2097564,networkErrHttpInternalServerFailure:2097652,networkErrHttpBadGateway:2097654,networkErrHttpServiceUnavailable:2097655,networkErrHttpGatewayTimeout:2097656,networkErrHttpResponseEnd:2097751,networkErrTimeout:2097752,networkErrError:2097753,networkErrAbort:2097754,networkErrEnd:3145727,decodeErrStart:3145728,decodeErrUnknown:3145728,decodeErrEnd:4194303,srcErrStart:4194304,srcErrUnknown:4194304,srcErrParsePresentation:4194305,srcErrParseSegment:4194306,srcErrUnsupportedPresentation:4194307,srcErrInvalidSegment:4194308,srcErrLiveNoSegments:4194309,srcErrEnd:5242879,encryptErrStart:5242880,encryptErrUnknown:5242880,encryptErrDecrypterNotFound:5242881,encryptErrDecrypterInit:5242882,encryptErrDecrypterNotSupported:5242883,encryptErrKeyAcquire:5242884,encryptErrDecryption:5242885,encryptErrLicenseAcquire:5242886,encryptErrEnd:6291455,srcPlayerMismatchStart:6291456,srcPlayerMismatchUnknown:6291456,srcPlayerMismatchFlashNotInstalled:6291457,srcPlayerMismatchSilverlightNotInstalled:6291458,srcPlayerMismatchEnd:7340031,errUnknown:267386880};r.errorCode=c;var d={400:c.networkErrHttpBadUrlFormat,401:c.networkErrHttpUserAuthRequired,403:c.networkErrHttpUserForbidden,404:c.networkErrHttpUrlNotFound,405:c.networkErrHttpNotAllowed,410:c.networkErrHttpGone,412:c.networkErrHttpPreconditionFailed,500:c.networkErrHttpInternalServerFailure,502:c.networkErrHttpBadGateway,503:c.networkErrHttpServiceUnavailable,504:c.networkErrHttpGatewayTimeout};r.httpErrorCode=d;var p={downloadrequested:"downloadrequested",downloadcompleted:"downloadcompleted",downloaddecrypted:"downloaddecrypted",downloadfailed:"downloadfailed"};r.bufferDataEventName=p;var h={video:"video",videoWithCC:"videoWithCC",audio:"audio",transcript:"transcript"};r.downloadableMediaType=h},{}],98:[function(e,t,r){"use strict";r.__esModule=!0,r.findProfile=function(e){for(var t=[{name:n.default.HeuristicProfile.Hybrid,preRollInWallClockSec:4,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:8,windowSizeHeuristics:!0},{name:n.default.HeuristicProfile.QuickStart,preRollInWallClockSec:2,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:8,windowSizeHeuristics:!0},{name:n.default.HeuristicProfile.HighQuality,preRollInWallClockSec:8,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:15,windowSizeHeuristics:!1},{name:n.default.HeuristicProfile.LowLatency,preRollInWallClockSec:2,maxBufferInWallClockSec:30,livePlaybackOffsetInWallClockSec:2,windowSizeHeuristics:!0}],r=0;r<t.length;r++)if(t[r].name===e)return t[r];return t[0]};var n=function(e){return e&&e.__esModule?e:{default:e}}(e("./video.js/src/js/player"));n.default.HeuristicProfile={Hybrid:"Hybrid",QuickStart:"QuickStart",HighQuality:"HighQuality",LowLatency:"LowLatency"}},{"./video.js/src/js/player":210}],99:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.ar={Play:"",Pause:" ","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:" ",Progress:" ",Fullscreen:" ","Non-Fullscreen":"    ",Mute:" ",Unmuted:"   ","Playback Rate":" ",Subtitles:" ","Subtitles Off":"    ",Captions:" ","Captions Off":"    ",Chapters:"",Off:" ",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"  ","Share Video":" ","Next Track":"  ","Previous Track":"  ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"         .          .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:"   {0}...",SKIP:"",AD_TIMING_INFO:" {0}  ","Media Player":"Media Player","Play Video":" ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:" ",Script:"","Small Caps":" ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"  Url","Embed Code":"  ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"  ","Subtitles Menu":"  ","Need Text":"  "},t.default.prototype.options_.languages["ar-sa"]=t.default.prototype.options_.languages.ar,t.default.prototype.options_.languages["ar-ab"]=t.default.prototype.options_.languages.ar,t.default.prototype.options_.languages["ar-xm"]=t.default.prototype.options_.languages.ar,t.default.prototype.options_.languages["ar-ma"]=t.default.prototype.options_.languages.ar},{"../video.js/src/js/player.js":210}],100:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.bg={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:"  ",Unmuted:"  ","Playback Rate":"  ",Subtitles:"","Subtitles Off":".  ",Captions:"","Captions Off":".  ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":"",default:" ","Cast To Device":"  ",Share:"",Volume:"  ","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":"  ",MEDIA_ERR_ABORTED:"    .",MEDIA_ERR_NETWORK:"          .       -.",MEDIA_ERR_DECODE:"     ,            .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             ,       .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"         .",MEDIA_ERR_UNKNOWN:"  ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}",SKIP:"",AD_TIMING_INFO:": {0} ","Media Player":" ","Play Video":"  ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"  ","Text Edge Style":"    ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":"  ","Monospace Serif":"   ","Proportional Serif":" ","Monospace Sans-Serif":"   ","Proportional Sans-Serif":" ",Casual:"",Script:"","Small Caps":"  ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"  URL ","Embed Code":"  ",English:"","volume level":"  ","video progress bar":"    ","playback speed level":"    ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"  ","Subtitles Menu":"  ","Need Text":" "}},{"../video.js/src/js/player.js":210}],101:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.ca={Play:"Reprodueix",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Durada","Remaining Time":"Temps restant","Stream Type":"Tipus de seqncia",LIVE:"EN DIRECTE",Loaded:"Carregat",Progress:"Progrs",Fullscreen:"Pantalla sencera","Non-Fullscreen":"Mida normal",Mute:"Silencia",Unmuted:"So activat","Playback Rate":"Velocitat de reproducci",Subtitles:"Subttols","Subtitles Off":"Subttols desactivats",Captions:"Llegendes","Captions Off":"Llegendes desactivades",Chapters:"Captols",Off:"Desactivat",Quality:"Qualitat",Auto:"Automtic","Audio Tracks":"Pistes d'udio",default:"per defecte","Cast To Device":"Emetre al dispositiu",Share:"Comparteix",Volume:"Volum","Playback Speed":"Velocitat de reproducci","Video Quality":"Qualitat de vdeo","Closed Captioning":"Subtitulat ocult","Share Video":"Comparteix el vdeo","Next Track":"Pista segent","Previous Track":"Pista anterior","Skip Forward":"Salta endavant","Skip Backward":"Salta enrere","Fast Forward":"Avana rpidament",Rewind:"Rebobina","Next Frame":"Fotograma segent","Previous Frame":"Fotograma anterior",Settings:"Configuraci",Options:"Opcions","More Options":"Ms opcions",Zoom:"Zoom","Zoom In":"Amplia","Zoom Out":"Redueix","Audio Only":"Noms udio","Picture in Picture":"Imatge a la imatge","Camera Angle":"Angle de cmera",MEDIA_ERR_ABORTED:"S'ha avortat la reproducci de vdeo.",MEDIA_ERR_NETWORK:"Un error de xarxa ha provocat que la baixada del vdeo no es pogus completar. Comproveu la connexi de xarxa o torneu-ho a provar ms tard.",MEDIA_ERR_DECODE:"El vdeo no s'ha pogut carregar a causa d'un error del servidor o de la xarxa o b perqu el format no s compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"S'ha avortat la reproducci del vdeo a causa d'un problema de danys o b perqu el vdeo feia servir caracterstiques no admeses pel navegador.",MEDIA_ERR_ENCRYPTED:"No es pot desencriptar la font del vdeo encriptat.",SRC_PLAYER_MISMATCH:"No s'ha trobat cap font compatible per a l'entorn actual del navegador.",MEDIA_ERR_UNKNOWN:"S'ha produt un error desconegut.",SKIP_AD_COUNTDOWN_FORMAT:"Omet l'anunci d'aqu a {0}...",SKIP:"Omet",AD_TIMING_INFO:"Anunci: {0} segons"},t.default.prototype.options_.languages["ca-es"]=t.default.prototype.options_.languages.ca},{"../video.js/src/js/player.js":210}],102:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.cs={Play:"Pehrt",Pause:"Pozastavit","Current Time":"Aktuln as","Duration Time":"Doba trvn","Remaining Time":"Zbvajc as","Stream Type":"Typ streamu",LIVE:"IV",Loaded:"Naten",Progress:"Prbh",Fullscreen:"Cel obrazovka","Non-Fullscreen":"Normln zobrazen",Mute:"Ztlumit",Unmuted:"Ztlumen zrueno","Playback Rate":"Rychlost pehrvn (snmky)",Subtitles:"Titulky","Subtitles Off":"vypnut titulky",Captions:"Titulky","Captions Off":"vypnut titulky",Chapters:"Kapitoly",Off:"Vypnuto",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy",default:"vchoz","Cast To Device":"Petypovat na zazen",Share:"Sdlet",Volume:"Hlasitost","Playback Speed":"Rychlost pehrvn","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulky","Share Video":"Sdlet video","Next Track":"Dal stopa","Previous Track":"Pedchoz stopa","Skip Forward":"Peskoit vped","Skip Backward":"Peskoit zpt","Fast Forward":"Pevinout vped",Rewind:"Pevinout zpt","Next Frame":"Dal snmek","Previous Frame":"Pedchoz snmek",Settings:"Nastaven",Options:"Monosti","More Options":"Dal monosti",Zoom:"Lupa","Zoom In":"Piblit","Zoom Out":"Oddlit","Audio Only":"Jenom zvuk","Picture in Picture":"Obraz v obraze","Camera Angle":"hel kamery",MEDIA_ERR_ABORTED:"Pehrvn videa se peruilo.",MEDIA_ERR_NETWORK:"Bhem stahovn videa dolo k chyb kvli problmu se st. Zkontrolujte prosm pipojen k sti nebo to zkuste znova pozdji.",MEDIA_ERR_DECODE:"Video se nedalo nast, bu kvli chyb serveru nebo st, nebo nem podporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pehrvn videa se peruilo, protoe je video pokozen nebo pouv funkce, kter v prohle nepodporuje.",MEDIA_ERR_ENCRYPTED:"Ned se deifrovat zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenael se dn kompatibiln zdroj pro aktuln prosted prohlee.",MEDIA_ERR_UNKNOWN:"Dolo k neznm chyb.",SKIP_AD_COUNTDOWN_FORMAT:"Peskoit reklamu za {0}...",SKIP:"Peskoit",AD_TIMING_INFO:"Reklama {0} s","Media Player":"Media Player","Play Video":"Pehrt video",Foreground:"Poped",White:"Bl",Black:"ern",Red:"erven",Green:"Zelen",Blue:"Modr",Yellow:"lut",Magenta:"Purpurov",Cyan:"Azurov",Opaque:"Neprhledn","Semi-Opaque":"Poloprhledn",Transparent:"Prhledn",Window:"Okno","Font Size":"Velikost psma","Text Edge Style":"Styl okraje textu",None:"dn",Raised:"Vystoupl",Depressed:"Vmknut",Uniform:"Jednotn",Dropshadow:"Stn","Font Family":"Rodina psem","Monospace Serif":"Neproporciln Serif","Proportional Serif":"Proporcionln Serif","Monospace Sans-Serif":"Neproporciln Sans-Serif","Proportional Sans-Serif":"Proporcionln Sans-Serif",Casual:"Neformln",Script:"Skript","Small Caps":"Kapitlky",Defaults:"Vchoz",Done:"Hotovo",Link:"Odkaz",Embed:"Vloit",Close:"Zavt",Copy:"Koprovat","Copy Url":"Zkoprovat adresu Url","Embed Code":"Kd pro vloen",English:"Anglitina","volume level":"rove hlasitosti","video progress bar":"indiktor prbhu pehrvn videa","playback speed level":"rove rychlosti  pehrvn","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Nabdka skrytch titulk","Subtitles Menu":"Nabdka titulk","Need Text":"Je nutn zadat text."},t.default.prototype.options_.languages["cs-cz"]=t.default.prototype.options_.languages.cs},{"../video.js/src/js/player.js":210}],103:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.da={Play:"Afspil",Pause:"Pause","Current Time":"Aktuelt klokkeslt","Duration Time":"Varighed","Remaining Time":"Resterende tid","Stream Type":"Streamtype",LIVE:"LIVE",Loaded:"Indlst",Progress:"Status",Fullscreen:"Fuld skrm","Non-Fullscreen":"Ikke fuldskrm",Mute:"Lyd fra",Unmuted:"Lyd til","Playback Rate":"Afspilningshastighed",Subtitles:"Undertekster","Subtitles Off":"Undertekster fra",Captions:"Billedtekster","Captions Off":"Billedtekster fra",Chapters:"Kapitler",Off:"Fra",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor",default:"standard","Cast To Device":"Vis p enhed",Share:"Del",Volume:"Lydstyrke","Playback Speed":"Afspilningshastighed","Video Quality":"Videokvalitet","Closed Captioning":"Undertekster","Share Video":"Del video","Next Track":"Nste spor","Previous Track":"Forrige spor","Skip Forward":"Spring frem","Skip Backward":"Spring tilbage","Fast Forward":"Spol hurtigt frem",Rewind:"Spol tilbage","Next Frame":"Nste billede","Previous Frame":"Forrige billede",Settings:"Indstillinger",Options:"Indstillinger","More Options":"Flere indstillinger",Zoom:"Zoom","Zoom In":"Zoom ind","Zoom Out":"Zoom ud","Audio Only":"Kun lyd","Picture in Picture":"Billede i billede","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Afspilning af video blev afbrudt. ",MEDIA_ERR_NETWORK:"P grund af en netvrksfejl blev videoen ikke downloadet helt. Kontrollr din netvrksforbindelse, eller prv igen senere.",MEDIA_ERR_DECODE:"Videoen kunne ikke indlses. Det skyldes en server- eller netvrksfejl, eller at formatet ikke er understttet.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Afspilning af video blev afbrudt. Det skyldes, at videoen er delagt, eller at videoen bruger funktioner, der ikke understttes af din browser.",MEDIA_ERR_ENCRYPTED:"Den krypterede videokilde kunne ikke dekrypteres.",SRC_PLAYER_MISMATCH:"Der blev ikke fundet en kompatibel kilde til det aktuelle browsermilj.",MEDIA_ERR_UNKNOWN:"Der opstod en ukendt fejl",SKIP_AD_COUNTDOWN_FORMAT:"Spring reklame over om {0}",SKIP:"Spring over",AD_TIMING_INFO:"Reklame p {0} sekunder","Media Player":"Medieafspiller","Play Video":"Afspil video",Foreground:"Forgrund",White:"Hvid",Black:"Sort",Red:"Rd",Green:"Grn",Blue:"Bl",Yellow:"Gul",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Uigennemsigtige","Semi-Opaque":"Nsten uigennemsigtig",Transparent:"Gennemsigtig",Window:"Vindue","Font Size":"Skriftstrrelse","Text Edge Style":"Typografi for tekstkant",None:"Ingen",Raised:"Hvet",Depressed:"Nedsnket",Uniform:"Ensartet",Dropshadow:"Skyggeeffekt","Font Family":"Skrifttypefamilie","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Tilfldig",Script:"Script","Small Caps":"Kapitler",Defaults:"Standarder",Done:"Udfrt",Link:"Link",Embed:"Integrer",Close:"Luk",Copy:"Copy","Copy Url":"Kopir URL-adresse","Embed Code":"Integrere kode",English:"Engelsk","volume level":"lydstyrke","video progress bar":"statuslinje for video","playback speed level":"niveau for afspilningshastighed","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu for billedtekster","Subtitles Menu":"Menuen for undertitler","Need Text":"Har du brug for tekst"},t.default.prototype.options_.languages["da-dk"]=t.default.prototype.options_.languages.da},{"../video.js/src/js/player.js":210}],104:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.de={Play:"Spielen",Pause:"Anhalten","Current Time":"Aktuelle Zeit","Duration Time":"Dauer","Remaining Time":"Verbleibende Zeit","Stream Type":"Streamtyp",LIVE:"LIVE",Loaded:"Geladen",Progress:"Status",Fullscreen:"Vollbild","Non-Fullscreen":"Vollbildmodus beenden",Mute:"Ton aus",Unmuted:"Ton an","Playback Rate":"Wiedergabegeschwindigkeit",Subtitles:"Untertitel","Subtitles Off":"Untertitel aus",Captions:"Beschriftungen","Captions Off":"Beschriftungen aus",Chapters:"Kapitel",Off:"Aus",Quality:"Qualitt",Auto:"Automatisch","Audio Tracks":"Audiotitel",default:"Standard","Cast To Device":"Fr Gert umwandeln",Share:"Freigeben",Volume:"Lautstrke","Playback Speed":"Wiedergabegeschwindigkeit","Video Quality":"Videoqualitt","Closed Captioning":"Untertitelung","Share Video":"Video freigeben","Next Track":"Nchster Titel","Previous Track":"Vorheriger Titel","Skip Forward":"Rckwrts","Skip Backward":"Vorwrts","Fast Forward":"Vorlauf",Rewind:"Zurckspulen","Next Frame":"Nchstes Bild","Previous Frame":"Vorheriges Bild",Settings:"Einstellungen",Options:"Optionen","More Options":"Weitere Optionen",Zoom:"Zoom","Zoom In":"Vergrern","Zoom Out":"Verkleinern","Audio Only":"Nur Audio","Picture in Picture":"Bild-im-Bild","Camera Angle":"Kamerawinkel",MEDIA_ERR_ABORTED:"Videowiedergabe abgebrochen.",MEDIA_ERR_NETWORK:"Beim Herunterladen des Videos ist aufgrund eines Netzwerkfehlers ein Fehler aufgetreten. Prfen Sie Ihre Internetverbindung, oder versuchen Sie es spter erneut.",MEDIA_ERR_DECODE:"Das Video konnte nicht geladen werden. Entweder ist ein Server- oder Netzwerkfehler aufgetreten ist, oder das Format wird nicht untersttzt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Die Videowiedergabe wurde abgebrochen. Mglicherweise ist das Video beschdigt, oder es verwendet Funktionen, die in Ihrem Browser nicht untersttzt werden.",MEDIA_ERR_ENCRYPTED:"Die verschlsselte Videoquelle konnte nicht entschlsselt werden.",SRC_PLAYER_MISMATCH:"Keine kompatible Quelle fr die aktuelle Browserumgebung gefunden.",MEDIA_ERR_UNKNOWN:"Unbekannter Fehler.",SKIP_AD_COUNTDOWN_FORMAT:"Werbung in {0} berspringen...",SKIP:"berspringen",AD_TIMING_INFO:"{0} Sekunden Werbung","Media Player":"Media Player","Play Video":"Video wiedergeben",Foreground:"Vordergrund",White:"Wei",Black:"Schwarz",Red:"Rot",Green:"Grn",Blue:"Blau",Yellow:"Gelb",Magenta:"Magenta",Cyan:"Zyan",Opaque:"Undurchsichtig","Semi-Opaque":"Halb deckend",Transparent:"Transparent",Window:"Fenster","Font Size":"Schriftgrad","Text Edge Style":"Kanten-Formatvorlage",None:"Keine",Raised:"Erhht",Depressed:"Gedrckt",Uniform:"Einheitlich",Dropshadow:"Schlagschatten","Font Family":"Schriftfamilie","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Script","Small Caps":"Kapitlchen",Defaults:"Standard",Done:"Erledigt",Link:"Link",Embed:"Einbetten",Close:"Schlieen",Copy:"Kopieren","Copy Url":"URL kopieren","Embed Code":"Einbindungscode",English:"Englisch","volume level":"Lautstrkeregler","video progress bar":"Videostatusanzeige","playback speed level":"Stufe der Wiedergabegeschwindigkeit","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Men Bildtite","Subtitles Menu":"Men Untertitel","Need Text":"Text erforderlich"},t.default.prototype.options_.languages["de-at"]=t.default.prototype.options_.languages.de,t.default.prototype.options_.languages["de-ch"]=t.default.prototype.options_.languages.de},{"../video.js/src/js/player.js":210}],105:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.el={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":"   ","Stream Type":" ",LIVE:"LIVE",Loaded:"   ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":"  ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"   ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .        .",MEDIA_ERR_DECODE:"                .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                 .",MEDIA_ERR_ENCRYPTED:"        . ",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"  .",SKIP_AD_COUNTDOWN_FORMAT:"   {0}...",SKIP:"",AD_TIMING_INFO:"{0}  ","Media Player":"Media Player","Play Video":" ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"-",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":"Serif  ","Proportional Serif":" serif","Monospace Sans-Serif":"Sans Serif  ","Proportional Sans-Serif":" sans serif",Casual:"",Script:" ","Small Caps":" ",Defaults:"",Done:"",Link:"",Embed:"E",Close:"",Copy:"","Copy Url":"  URL","Embed Code":" ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" "},t.default.prototype.options_.languages["el-gr"]=t.default.prototype.options_.languages.el},{"../video.js/src/js/player.js":210}],106:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.en={"Non-Fullscreen":"Exit Fullscreen","captions off":"Captions off","Media Download Description":"Beginning of Media Download Dialog. Escape will cancel and close the window.",MEDIA_ERR_ABORTED:"Video playback aborted.",MEDIA_ERR_NETWORK:"A network error caused the video download to fail part-way. Please check your network connection or try again later.",MEDIA_ERR_DECODE:"The video could not be loaded, either because the server or network failed or because the format is not supported.",MEDIA_ERR_SRC_NOT_SUPPORTED:"The video playback was aborted due to a corruption problem or because the video used features your browser did not support.",MEDIA_ERR_ENCRYPTED:"Unable to decrypt the encrypted video source.",SRC_PLAYER_MISMATCH:"No compatible source found for the current browser environment.",MEDIA_ERR_UNKNOWN:"An unknown error occurred.",SKIP_AD_COUNTDOWN_FORMAT:"Skip ad in {0}...",SKIP:"Skip",AD_TIMING_INFO:"Ad {0} seconds"}},{"../video.js/src/js/player.js":210}],107:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.es={Play:"Reproducir",Pause:"Pausa","Current Time":"Hora actual","Duration Time":"Duracin","Remaining Time":"Tiempo restante","Stream Type":"Tipo de secuencia",LIVE:"DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Tamao normal",Mute:"Silenciar",Unmuted:"Audio reactivado","Playback Rate":"Tasa de reproduccin",Subtitles:"Subttulos","Subtitles Off":"subttulos desactivados",Captions:"Subttulos","Captions Off":"subttulos desactivados",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidad",Auto:"Automtico","Audio Tracks":"Pistas de audio",default:"predeterminado","Cast To Device":"Emitir en el dispositivo",Share:"Compartir",Volume:"Volumen","Playback Speed":"Velocidad de reproduccin","Video Quality":"Calidad de vdeo","Closed Captioning":"Subttulos (CC)","Share Video":"Compartir vdeo","Next Track":"Pista siguiente","Previous Track":"Pista anterior","Skip Forward":"Saltar adelante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rpidamente",Rewind:"Rebobinar","Next Frame":"Fotograma siguiente","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opciones","More Options":"Ms opciones",Zoom:"Zoom","Zoom In":"Acercar","Zoom Out":"Alejar","Audio Only":"Solo audio","Picture in Picture":"Imagen en imagen","Camera Angle":"ngulo de cmara",MEDIA_ERR_ABORTED:"La reproduccin de vdeo se cancel.",MEDIA_ERR_NETWORK:"Un error de red provoc que la descarga de vdeo no se pudiera realizar. Compruebe la conexin de red o intntelo de nuevo ms tarde.",MEDIA_ERR_DECODE:"No se pudo cargar el vdeo porque hubo un error en la red o en el servidor o porque el formato no es compatible.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La reproduccin de vdeo se cancel debido a un problema con algn elemento o porque el vdeo contiene caractersticas que no son compatibles con el explorador.",MEDIA_ERR_ENCRYPTED:"La fuente de vdeo cifrada no se puede descifrar.",SRC_PLAYER_MISMATCH:"No se encontr ninguna fuente compatible con el entorno de explorador actual.",MEDIA_ERR_UNKNOWN:"Error desconocido.",SKIP_AD_COUNTDOWN_FORMAT:"Omitir anuncio en {0}...",SKIP:"Omitir",AD_TIMING_INFO:"Anuncio {0} segundos","Media Player":"Reproductor multimedia","Play Video":"Reproducir vdeo",Foreground:"Primer plano",White:"Blanco",Black:"Negro",Red:"Rojo",Green:"Verde",Blue:"Azul",Yellow:"Amarillo",Magenta:"Magenta",Cyan:"Cian",Opaque:"Opaco","Semi-Opaque":"Semiopaco",Transparent:"Transparente",Window:"Ventana","Font Size":"Tamao de fuente","Text Edge Style":"Estilo de borde de texto",None:"Ninguno",Raised:"Elevado",Depressed:"Pulsado",Uniform:"Uniforme",Dropshadow:"Sombra","Font Family":"Familia de fuentes","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Ocasional",Script:"Script","Small Caps":"Versalitas",Defaults:"Valores predeterminados",Done:"Listo",Link:"Vnculo",Embed:"Insertar",Close:"Cerrar",Copy:"Copiar","Copy Url":"Copiar URL","Embed Code":"Cdigo de insercin",English:"Ingls","volume level":"volumen","video progress bar":"barra de progreso de vdeo","playback speed level":"velocidad de reproduccin","Dolby Digital":"Dolby Digital",Stereo:"Estreo","Captions Menu":"Men de leyendas","Subtitles Menu":"Men de subttulos","Need Text":"Necesita texto"},t.default.prototype.options_.languages["es-ar"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-cl"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-co"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-cr"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-do"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-ec"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-us"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-gt"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-hn"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-xl"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-mx"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-ni"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-pa"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-py"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-pe"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-pr"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-us"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-uy"]=t.default.prototype.options_.languages.es,t.default.prototype.options_.languages["es-ve"]=t.default.prototype.options_.languages.es},{"../video.js/src/js/player.js":210}],108:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.et={Play:"Esita",Pause:"Peata","Current Time":"Praegune kellaaeg","Duration Time":"Kestus","Remaining Time":"Jrelejnud aeg","Stream Type":"Voo tp",LIVE:"OTSE",Loaded:"Laaditud",Progress:"Edenemine",Fullscreen:"Tisekraanvaade","Non-Fullscreen":"Mittetisekraanvaade",Mute:"Vaigista",Unmuted:"Vaigistamata","Playback Rate":"Taasesituse kiirus",Subtitles:"Subtiitrid","Subtitles Off":"subtiitrid vljas",Captions:"Tiitrid","Captions Off":"tiitrid vljas",Chapters:"Peatkid",Off:"Vljas",Quality:"Kvaliteet",Auto:"Automaatne","Audio Tracks":"Heliribad",default:"vaikeste","Cast To Device":"Esita seadmes",Share:"Jaga",Volume:"Helitugevus","Playback Speed":"Taasesituse kiirus","Video Quality":"Video kvaliteet","Closed Captioning":"Subtiitrid vaegkuuljatele","Share Video":"Jaga videot","Next Track":"Jrgmine pala","Previous Track":"Eelmine pala","Skip Forward":"Keri edasi","Skip Backward":"Keri tagasi","Fast Forward":"Edasi",Rewind:"Tagasi","Next Frame":"Jrgmine kaader","Previous Frame":"Eelmine kaader",Settings:"Stted",Options:"Suvandid","More Options":"Rohkem suvandeid",Zoom:"Suum","Zoom In":"Suurenda","Zoom Out":"Vhenda","Audio Only":"Ainult heli","Picture in Picture":"Pilt pildis","Camera Angle":"Vaatenurk",MEDIA_ERR_ABORTED:"Video taasesitamine katkestati.",MEDIA_ERR_NETWORK:"Video allalaadimine nurjus vrgutrke tttu poole pealt. Kontrollige vrguhendust vi proovige hiljem uuesti.",MEDIA_ERR_DECODE:"Videot ei saanud laadida, kuna serveri- vi vrguhendus nurjus vi vormingut ei toetata.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video taasesitamine katkes failirikke tttu vi kuna teie brauser ei toeta videos kasutatud funktsioone.",MEDIA_ERR_ENCRYPTED:"Krptitud videoallikat ei saa dekrptida.",SRC_PLAYER_MISMATCH:"Praeguse brauserikeskkonna jaoks ei leitud hilduvat allikat.",MEDIA_ERR_UNKNOWN:"Ilmnes tundmatu trge",SKIP_AD_COUNTDOWN_FORMAT:"Jta reklaam vahele {0} sekundi prast ",SKIP:"Jta vahele",AD_TIMING_INFO:"Reklaam kestab {0} sekundit","Media Player":"Meediumipleier","Play Video":"Esita video",Foreground:"Esiplaan",White:"Valge",Black:"Must",Red:"Punane",Green:"Roheline",Blue:"Sinine",Yellow:"kollane",Magenta:"Magenta",Cyan:"Tsaan",Opaque:"Lbipaistmatu","Semi-Opaque":"Pooleldi lbipaistmatu",Transparent:"Lbipaistev",Window:"Aken","Font Size":"Fondi suurus","Text Edge Style":"Tekstiserva laad",None:"Pole",Raised:"Tstetud",Depressed:"Svendatud",Uniform:"htlane",Dropshadow:"Langev vari","Font Family":"Fondipere","Monospace Serif":"Seriifidega psisammkiri","Proportional Serif":"Seriifidega proportsionaalkiri","Monospace Sans-Serif":"Seriifideta psisammkiri","Proportional Sans-Serif":"Seriifideta proportsionaalkiri",Casual:"Sidumata kiri",Script:"Script","Small Caps":"Kapiteelkiri",Defaults:"Vaikestted",Done:"Valmis",Link:"Link",Embed:"Manussisu",Close:"Sule",Copy:"Kopeeri","Copy Url":"Kopeeri URL","Embed Code":"Manustamiskood",English:"Inglise","volume level":"Helitugevus","video progress bar":"video edenemisriba","playback speed level":"taasesituse kiirus","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Tiitrimen","Subtitles Menu":"Subtiitrimen","Need Text":"Vajalik tekst"},t.default.prototype.options_.languages["et-ee"]=t.default.prototype.options_.languages.et},{"../video.js/src/js/player.js":210}],109:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.eu={Play:"Erreproduzitu",Pause:"Pausatu","Current Time":"Uneko ordua","Duration Time":"Iraupena","Remaining Time":"Gelditzen den denbora","Stream Type":"Erreprodukzio mota",LIVE:"ZUZENEAN",Loaded:"Kargatuta",Progress:"Aurrerapena",Fullscreen:"Pantaila osoa","Non-Fullscreen":"Pantaila osoa ez",Mute:"Audio desaktibatuta",Unmuted:"Audioa aktibatuta","Playback Rate":"Erreprodukzio-abiadura",Subtitles:"Azpitituluak","Subtitles Off":"azpitituluak desaktibatuta",Captions:"Epigrafeak","Captions Off":"epigrafeak desaktibatuta",Chapters:"Atalak",Off:"Desaktibatuta",Quality:"Kalitatea",Auto:"Automatikoa","Audio Tracks":"Audio-pistak",default:"lehenetsia","Cast To Device":"Igorri gailura",Share:"Partekatu",Volume:"Bolumena","Playback Speed":"Erreprodukzio-abiadura","Video Quality":"Bideoaren kalitatea","Closed Captioning":"Epigrafeak","Share Video":"Partekatu bideoa","Next Track":"Hurrengo pista","Previous Track":"Aurreko pista","Skip Forward":"Saltatu aurrera","Skip Backward":"Saltatu atzera","Fast Forward":"Aurreratu",Rewind:"Atzeratu","Next Frame":"Hurrengo fotograma","Previous Frame":"Aurreko fotograma",Settings:"Ezarpenak",Options:"Aukerak","More Options":"Aukera gehiago",Zoom:"Zooma","Zoom In":"Handitu","Zoom Out":"Txikitu","Audio Only":"Audioa soilik","Picture in Picture":"Irudia irudiaren barnean","Camera Angle":"Kamera-angelua",MEDIA_ERR_ABORTED:"Bideo-erreprodukzioa utzi egin da",MEDIA_ERR_NETWORK:"Sare-errore bat gertatu da eta ezin izan da bideo osoa deskargatu. Egiaztatu sarera konektatuta zaudela edo saiatu berriro geroago.",MEDIA_ERR_DECODE:"Ezin izan da kargatu bideoa, zerbitzariak edo sareak huts egin duelako edo formatua onartzen ez delako.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bideo-erreprodukzioa utzi egin da hondatuta dagoelako edo arakatzaileak onartzen ez dituen eginbideak erabiltzen dituelako bideoak.",MEDIA_ERR_ENCRYPTED:"Ezin da desenkriptatu enkriptatutako bideo-iturburua.",SRC_PLAYER_MISMATCH:"Ez da aurkitu iturburu bateragarririk uneko arakatzaile-ingurunerako.",MEDIA_ERR_UNKNOWN:"Errore ezezagun bat gertatu da",SKIP_AD_COUNTDOWN_FORMAT:"Saltatu iragarkia: {0}...",SKIP:"Saltatu",AD_TIMING_INFO:"Iragarkia: {0} segundo"},t.default.prototype.options_.languages["eu-es"]=t.default.prototype.options_.languages.eu},{"../video.js/src/js/player.js":210}],110:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.fa={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:"  ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:" ","Captions Off":"  ",Chapters:" ",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:" ","Cast To Device":"   ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:"  ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:" ","More Options":"  ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"   .",MEDIA_ERR_NETWORK:"          .            .",MEDIA_ERR_DECODE:"                     .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                     .",MEDIA_ERR_ENCRYPTED:"        .",SRC_PLAYER_MISMATCH:"        .",MEDIA_ERR_UNKNOWN:"     ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}...",SKIP:" ",AD_TIMING_INFO:" {0} "},t.default.prototype.options_.languages["fa-ir"]=t.default.prototype.options_.languages.fa},{"../video.js/src/js/player.js":210}],111:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.fi={Play:"Toista",Pause:"Keskeyt","Current Time":"Nykyinen aika","Duration Time":"Kesto","Remaining Time":"Jljell oleva aika","Stream Type":"Suoratoistotyyppi",LIVE:"LIVE",Loaded:"Ladattu",Progress:"Edistyminen",Fullscreen:"Koko nytt","Non-Fullscreen":"Muu kuin koko nytt",Mute:"Vaimenna",Unmuted:"Vaimennus poistettu","Playback Rate":"Toistonopeus",Subtitles:"Tekstitys","Subtitles Off":"Ei tekstityst",Captions:"Kuvatekstit","Captions Off":"Ei kuvatekstej",Chapters:"Kohtaukset",Off:"Ei kytss",Quality:"Laatu",Auto:"Automaattinen","Audio Tracks":"niraidat",default:"oletus","Cast To Device":"Lhet laitteeseen",Share:"Jaa",Volume:"nenvoimakkuus","Playback Speed":"Toistonopeus","Video Quality":"Videon laatu","Closed Captioning":"Tekstitys","Share Video":"Jaa video","Next Track":"Seuraava raita","Previous Track":"Edellinen raita","Skip Forward":"Siirry eteenpin","Skip Backward":"Siirry taaksepin","Fast Forward":"Kelaa eteenpin",Rewind:"Kelaa taaksepin","Next Frame":"Seuraava kuva","Previous Frame":"Edellinen kuva",Settings:"Asetukset",Options:"Asetukset","More Options":"Lisasetukset",Zoom:"Zoomaus","Zoom In":"Lhenn ","Zoom Out":"Loitonna","Audio Only":"Vain ni","Picture in Picture":"Kuva kuvassa","Camera Angle":"Kamerakulma",MEDIA_ERR_ABORTED:"Videotoisto keskeytetty.",MEDIA_ERR_NETWORK:"Verkkovirhe keskeytti videon lataamisen. Tarkista verkkoyhteys tai yrit myhemmin uudelleen.",MEDIA_ERR_DECODE:"Videota ei voitu ladata verkko- tai palvelinvirheen takia tai koska muotoa ei tueta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videon toisto keskeytettiin vioittumisen takia tai sen takia, ett selaimesi ei tue kaikkia videon kyttmi toimintoja.",MEDIA_ERR_ENCRYPTED:"Salatun videolhteen salausta ei voida purkaa.",SRC_PLAYER_MISMATCH:"Nykyisen selainympristn kanssa yhteensopivaa lhdett ei lytynyt.",MEDIA_ERR_UNKNOWN:"Ilmeni tuntematon virhe",SKIP_AD_COUNTDOWN_FORMAT:"Ohita mainos, kun on kulunut {0}...",SKIP:"Ohita",AD_TIMING_INFO:"Mainos  {0} sekuntia","Media Player":"Media Player","Play Video":"Katso video",Foreground:"Edusta",White:"Valkoinen",Black:"Musta",Red:"Punainen",Green:"Vihre",Blue:"Sininen",Yellow:"Keltainen",Magenta:"Magenta",Cyan:"Syaani",Opaque:"Lpinkymtn","Semi-Opaque":"Puoliksi lpinkyv",Transparent:"Lpinkyv",Window:"Ikkuna","Font Size":"Fonttikoko","Text Edge Style":"Tekstin reunatyyli",None:"Ei mitn",Raised:"Korotettuna",Depressed:"Kokoon painettuna",Uniform:"Yhteninen",Dropshadow:"Varjo","Font Family":"Fonttiperhe","Monospace Serif":"Suhteuttamaton Serif","Proportional Serif":"Suhteellinen Serif","Monospace Sans-Serif":"Suhteuttamaton Sans Serif","Proportional Sans-Serif":"Suhteellinen Sans Serif",Casual:"Rento",Script:"Komentosarja","Small Caps":"Kapiteelit",Defaults:"Oletusasetukset",Done:"Valmis",Link:"Linkki",Embed:"Liit",Close:"Sulje",Copy:"Kopioi","Copy Url":"Kopioi URL-osoite","Embed Code":"Liittmiskoodi",English:"englanti","volume level":"nenvoimakkuuden taso","video progress bar":"videon tilanneilmaisin","playback speed level":"toiston parantaminen tasolle","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Kuvatekstien valikko","Subtitles Menu":"Tekstitys-valikko","Need Text":"On teksti"}},{"../video.js/src/js/player.js":210}],112:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.fr={Play:"Lecture",Pause:"Pause","Current Time":"Heure actuelle","Duration Time":"Dure","Remaining Time":"Temps restant","Stream Type":"Type de flux",LIVE:"EN DIRECT",Loaded:"Charg",Progress:"Progression",Fullscreen:"Plein cran","Non-Fullscreen":"Plein cran dsactiv",Mute:"Muet",Unmuted:"Son activ","Playback Rate":"Flux de lecture",Subtitles:"Sous-titres","Subtitles Off":"sous-titres dsactivs",Captions:"Sous-titrage","Captions Off":"sous-titrage dsactiv",Chapters:"Chapitres",Off:"Dsactiv",Quality:"Qualit",Auto:"Auto","Audio Tracks":"Pistes audio",default:"par dfaut","Cast To Device":"Projeter sur un appareil",Share:"Partager",Volume:"Volume","Playback Speed":"Vitesse de lecture","Video Quality":"Qualit vido","Closed Captioning":"Sous-titrage","Share Video":"Partager la vido","Next Track":"Piste suivante","Previous Track":"Piste prcdente","Skip Forward":"Avance rapide","Skip Backward":"Retour rapide","Fast Forward":"Avance rapide",Rewind:"Retour rapide","Next Frame":"Image suivante","Previous Frame":"Image prcdente",Settings:"Paramtres",Options:"Options","More Options":"Autres options",Zoom:"Zoom","Zoom In":"Zoom avant","Zoom Out":"Zoom arrire","Audio Only":"Audio seul","Picture in Picture":"Image dans l'image","Camera Angle":"Angle de camra",MEDIA_ERR_ABORTED:"Lecture vido abandonne.",MEDIA_ERR_NETWORK:"Une erreur rseau a entran l'chec du tlchargement de la vido. Vrifiez votre connexion rseau ou ressayez ultrieurement.",MEDIA_ERR_DECODE:"La vido n'a pas pu tre charge parce que le serveur ou le rseau ont chou ou parce que le format n'est pas pris en charge.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La lecture de la vido a t abandonne en raison d'un problme d'endommagement ou parce que la vido utilise des fonctionnalits que votre navigateur ne prend pas en charge.",MEDIA_ERR_ENCRYPTED:"Impossible de dchiffrer la source vido chiffre.",SRC_PLAYER_MISMATCH:"Aucune source compatible trouve dans l'environnement actuel du navigateur.",MEDIA_ERR_UNKNOWN:"Une erreur inconnue s'est produite.",SKIP_AD_COUNTDOWN_FORMAT:"Ignorer la publicit dans {0}...",SKIP:"Ignorer",AD_TIMING_INFO:"{0} secondes de publicit","Media Player":"Lecteur multimdia","Play Video":"Lire la vido",Foreground:"Premier plan",White:"Blanc",Black:"Noir",Red:"Rouge",Green:"Vert",Blue:"Bleu",Yellow:"Jaune",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Opaque","Semi-Opaque":"Semi-opaque",Transparent:"Transparent",Window:"Fentre","Font Size":"Taille de police","Text Edge Style":"Style de bordure de texte",None:"Aucun",Raised:"En relief",Depressed:"Emboss",Uniform:"Uniforme",Dropshadow:"Ombre porte","Font Family":"Famille de polices","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Informelle",Script:"Script","Small Caps":"Petites majuscules",Defaults:"Valeurs par dfaut",Done:"Termin",Link:"Lien",Embed:"Incorporer",Close:"Fermer",Copy:"Copy","Copy Url":"Copier l'Url","Embed Code":"Incorporer le code",English:"Anglais","volume level":"Volume","video progress bar":"Barre d'avancement de la vido","playback speed level":"Vitesse de lecture","Dolby Digital":"Dolby Digital",Stereo:"Stro","Captions Menu":"Menu des transcriptions","Subtitles Menu":"Menu des sous-titres","Need Text":"Need Text"},t.default.prototype.options_.languages["fr-ab"]=t.default.prototype.options_.languages.fr,t.default.prototype.options_.languages["fr-be"]=t.default.prototype.options_.languages.fr,t.default.prototype.options_.languages["fr-ca"]=t.default.prototype.options_.languages.fr,t.default.prototype.options_.languages["fr-xf"]=t.default.prototype.options_.languages.fr,t.default.prototype.options_.languages["fr-ch"]=t.default.prototype.options_.languages.fr},{"../video.js/src/js/player.js":210}],113:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.gl={Play:"Reproducir",Pause:"Pausar","Current Time":"Hora actual","Duration Time":"Tempo de duracin","Remaining Time":"Tempo restante","Stream Type":"Tipo de transmisin",LIVE:"EN DIRECTO",Loaded:"Cargado",Progress:"Progreso",Fullscreen:"Pantalla completa","Non-Fullscreen":"Sen pantalla completa",Mute:"Silenciar",Unmuted:"Activado son","Playback Rate":"Velocidade de reproducin",Subtitles:"Subttulos","Subtitles Off":"Sen subttulos",Captions:"Lendas","Captions Off":"Sen lendas",Chapters:"Captulos",Off:"Desactivado",Quality:"Calidade",Auto:"Automtico","Audio Tracks":"Pista de audio",default:"predefinido","Cast To Device":"Converter en dispositivo",Share:"Compartir",Volume:"Volume","Playback Speed":"Velocidade de reproducin","Video Quality":"Calidade de vdeo","Closed Captioning":"Subttulos","Share Video":"Compartir vdeo","Next Track":"Pista seguinte","Previous Track":"Pista anterior","Skip Forward":"Saltar adiante","Skip Backward":"Saltar atrs","Fast Forward":"Avanzar rapidamente",Rewind:"Rebobinar","Next Frame":"Fotograma seguinte","Previous Frame":"Fotograma anterior",Settings:"Configuracin",Options:"Opcins","More Options":"Mis opcins",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reducir","Audio Only":"S audio","Picture in Picture":"Imaxe en imaxe","Camera Angle":"Angular da cmara",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",SKIP_AD_COUNTDOWN_FORMAT:"Ignorar anuncio en {0}...",SKIP:"Ignorar",AD_TIMING_INFO:"Anuncio {0} segundos"},t.default.prototype.options_.languages["gl-es"]=t.default.prototype.options_.languages.gl},{"../video.js/src/js/player.js":210}],114:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.he={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:" ","Cast To Device":" ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":"   ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"  ","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  ",MEDIA_ERR_NETWORK:"       .         .",MEDIA_ERR_DECODE:"               .",MEDIA_ERR_SRC_NOT_SUPPORTED:"               .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"Media Player","Play Video":"  ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"Serif  ","Proportional Serif":"Serif ","Monospace Sans-Serif":"Sans Serif  ","Proportional Sans-Serif":"Sans Serif ",Casual:"",Script:"","Small Caps":" ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"  URL","Embed Code":" ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" "},t.default.prototype.options_.languages["he-il"]=t.default.prototype.options_.languages.he},{"../video.js/src/js/player.js":210}],115:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.hi={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:" ","Audio Tracks":" ",default:"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:" ","Zoom In":"  ","Zoom Out":"  ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"    ",MEDIA_ERR_NETWORK:"           .            .",MEDIA_ERR_DECODE:"    ,             .",MEDIA_ERR_SRC_NOT_SUPPORTED:"                        .",MEDIA_ERR_ENCRYPTED:"         .",SRC_PLAYER_MISMATCH:"          .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:" {0}  ...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":" ","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:" ",Cyan:" ",Opaque:"","Semi-Opaque":"-",Transparent:"",Window:"","Font Size":"  ","Text Edge Style":"    ",None:" ",Raised:" ",Depressed:" ",Uniform:" ",Dropshadow:"","Font Family":" ","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"",Script:"","Small Caps":" ",Defaults:"",Done:"",Link:"",Embed:" ",Close:" ",Copy:" ","Copy Url":"Url   ","Embed Code":" ",English:"","volume level":"  ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":" ",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":"   "},t.default.prototype.options_.languages["hi-in"]=t.default.prototype.options_.languages.hi},{"../video.js/src/js/player.js":210}],116:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.hr={Play:"Reproduciraj",Pause:"Pauziraj","Current Time":"Trenutno vrijeme","Duration Time":"Trajanje","Remaining Time":"Preostalo vrijeme","Stream Type":"Vrsta strujanja",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tijek",Fullscreen:"Preko cijelog zaslona","Non-Fullscreen":"Nije preko cijelog zaslona",Mute:"Iskljui zvuk",Unmuted:"Zvuk ukljuen","Playback Rate":"Brzina reprodukcije",Subtitles:"Titlovi","Subtitles Off":"titlovi iskljueni",Captions:"Titlovi","Captions Off":"titlovi iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvaliteta",Auto:"Automatski","Audio Tracks":"Audiozapisi",default:"zadano","Cast To Device":"Poalji na ureaj",Share:"Zajedniki koristi",Volume:"Glasnoa","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvaliteta videozapisa","Closed Captioning":"Titlanje","Share Video":"Zajedniki koristi videozapis","Next Track":"Sljedei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Skok unaprijed","Skip Backward":"Skok unatrag","Fast Forward":"Brzo naprijed",Rewind:"Premotaj","Next Frame":"Sljedea slika","Previous Frame":"Prethodna slika",Settings:"Postavke",Options:"Mogunosti","More Options":"Dodatne mogunosti",Zoom:"Zumiranje","Zoom In":"Poveavanje","Zoom Out":"Smanjivanje","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Kut kamere",MEDIA_ERR_ABORTED:"Prekinuta je reprodukcija videozapisa.",MEDIA_ERR_NETWORK:"Mrena pogreka uzrokovala je prekid preuzimanja videozapisa. Provjerite mrenu vezu i pokuajte ponovno.",MEDIA_ERR_DECODE:"Videozapis nije mogue uitati zbog kvara posluitelja ili mree ili jer oblik nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija videozapisa prekinuta je zbog oteenja ili jer videozapis sadri znaajke koje preglednik ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifriranje ifriranog videoizvora.",SRC_PLAYER_MISMATCH:"Nije pronaen kompatibilan izvor za trenutno okruenje preglednika.",MEDIA_ERR_UNKNOWN:"Pojavila se nepoznata pogreka.",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi oglas za {0}...",SKIP:"Preskoi",AD_TIMING_INFO:"Oglas {0} s","Media Player":"Media Player","Play Video":"Reproduciraj videozapis",Foreground:"Prednji plan",White:"Bijela",Black:"Crna",Red:"Crvena",Green:"Zelena",Blue:"Plava",Yellow:"uta",Magenta:"Magenta",Cyan:"Cijan",Opaque:"Neprozirno","Semi-Opaque":"Djelomice neprozirno",Transparent:"Prozirno",Window:"Prozor","Font Size":"Veliina fonta","Text Edge Style":"Stil ruba teksta",None:"Nema",Raised:"Podignuto",Depressed:"Utisnuto",Uniform:"Jednoobrazno",Dropshadow:"Padajua sjena","Font Family":"Grupa fontova","Monospace Serif":"Neproporcionalni serif","Proportional Serif":"Proporcionalni serif","Monospace Sans-Serif":"Neproporcionalni sans-serif","Proportional Sans-Serif":"Proporcionalni sans-serif",Casual:"Neformalno",Script:"Skripta","Small Caps":"Smanjena velika slova",Defaults:"Zadane postavke",Done:"Gotovo",Link:"Veza",Embed:"Ugradi",Close:"Zatvori",Copy:"Kopiraj","Copy Url":"Kopiraj URL","Embed Code":"Ugradi kod",English:"Engleski","volume level":"razina glasnoe","video progress bar":"traka prikaza tijeka videozapisa","playback speed level":"brzina reprodukcije","Dolby Digital":"Dolby Digital",Stereo:"Stereozvuk","Captions Menu":"Izbornik s natpisima","Subtitles Menu":"Izbornik s titlovima","Need Text":"Potreban tekst"}},{"../video.js/src/js/player.js":210}],117:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.hu={Play:"Lejtszs",Pause:"Szneteltets","Current Time":"Aktulis id","Duration Time":"Idtartam","Remaining Time":"Htralv id","Stream Type":"Online tartalom tpusa",LIVE:"L",Loaded:"Betltve",Progress:"llapot",Fullscreen:"Teljes kperny","Non-Fullscreen":"Nem teljes kpernys md",Mute:"Elnmts",Unmuted:"Elnmts kikapcsolva","Playback Rate":"Lejtszsi sebessg",Subtitles:"Feliratok","Subtitles Off":"feliratok kikapcsolva",Captions:"Feliratok","Captions Off":"feliratozs kikapcsolva",Chapters:"Fejezetek",Off:"Kikapcsolva",Quality:"Minsg",Auto:"Automatikus","Audio Tracks":"Zeneszmok",default:"alaprtelmezett","Cast To Device":"tvitel eszkzre",Share:"Megoszts",Volume:"Hanger","Playback Speed":"Lejtszs sebessge","Video Quality":"Videminsg","Closed Captioning":"Feliratozs","Share Video":"Vide megosztsa","Next Track":"Kvetkez szm","Previous Track":"Elz szm","Skip Forward":"Ugrs elre","Skip Backward":"Ugrs vissza","Fast Forward":"Elretekers",Rewind:"Visszatekers","Next Frame":"Kvetkez kpkocka","Previous Frame":"Elz kpkocka",Settings:"Belltsok",Options:"Belltsok","More Options":"Tovbbi lehetsgek",Zoom:"Nagyts","Zoom In":"Nagyts","Zoom Out":"Kicsinyts","Audio Only":"Csak hang","Picture in Picture":"Kp a kpben","Camera Angle":"Kamera ltszge",MEDIA_ERR_ABORTED:"Videolejtszs megszaktva.",MEDIA_ERR_NETWORK:"A vide letltse hlzati hiba miatt megszakadt. Ellenrizze a hlzati kapcsolatot, vagy prblkozzon jra ksbb.",MEDIA_ERR_DECODE:"Nem sikerlt betlteni a videt a kiszolgl vagy a hlzat hibja miatt, vagy mert a formtum nem tmogatott.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A vide lejtszsa megszakadt adatsrls miatt, vagy mert a vide olyan funkcikat hasznl, amelyeket a bngsz nem tmogat.",MEDIA_ERR_ENCRYPTED:"Nem lehet visszafejteni a titkostott videoforrst.",SRC_PLAYER_MISMATCH:"Nem tallhat a jelenlegi bngszkrnyezettel kompatibilis forrs.",MEDIA_ERR_UNKNOWN:"Ismeretlen hiba trtnt.",SKIP_AD_COUNTDOWN_FORMAT:"Reklm tugrsa: {0}",SKIP:"tugrs",AD_TIMING_INFO:"Reklm  {0} msodperc","Media Player":"Media Player","Play Video":"Play Video",Foreground:"Eltr",White:"Htf",Black:"Fekete",Red:"Vrs",Green:"Zld",Blue:"Kk",Yellow:"Srga",Magenta:"Bbor",Cyan:"Cinkk",Opaque:"tltszatlan","Semi-Opaque":"Flig tltsz",Transparent:"tltsz",Window:"Ablak","Font Size":"Betmret","Text Edge Style":"Szvegszl stlusa",None:"Nincs",Raised:"Dombor",Depressed:"Sllyesztett",Uniform:"Egysges",Dropshadow:"rnykolt","Font Family":"Betkszlet","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Alkalmi",Script:"Parancsfjl","Small Caps":"Kiskapitlis",Defaults:"Alaprtelmezett",Done:"Ksz",Link:"Hivatkozs",Embed:"Begyazs",Close:"Bezrs",Copy:"Msols","Copy Url":"URL-cm msolsa","Embed Code":"Begyazsi kd",English:"Angol","volume level":"hanger","video progress bar":"vide folyamatjelz","playback speed level":"lejtszs sebessge","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Kpalrsok men","Subtitles Menu":"Feliratok men","Need Text":"Szveg szksges"}},{"../video.js/src/js/player.js":210}],118:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.id={Play:"Putar",Pause:"Jeda","Current Time":"Waktu Saat Ini","Duration Time":"Waktu Durasi","Remaining Time":"Waktu Tersisa","Stream Type":"Tipe Stream",LIVE:"LANGSUNG",Loaded:"Dimuat",Progress:"Progres",Fullscreen:"Layar Penuh","Non-Fullscreen":"Bukan Layar Penuh",Mute:"Aktifkan Suara",Unmuted:"Nonaktifkan Suara","Playback Rate":"Laju Pemutaran",Subtitles:"Subjudul","Subtitles Off":"subjudul mati",Captions:"Keterangan","Captions Off":"keterangan mati",Chapters:"Bab",Off:"Mati",Quality:"Kualitas ",Auto:"Otomatis","Audio Tracks":"Trek Audio",default:"default","Cast To Device":"Putar Ke Perangkat",Share:"Bagikan",Volume:"Volume","Playback Speed":"Kecepatan Pemutaran","Video Quality":"Kualitas Video","Closed Captioning":"Judul Tertutup","Share Video":"Bagikan Video","Next Track":"Trek Berikutnya","Previous Track":"Trek Sebelumnya","Skip Forward":"Lewati Maju","Skip Backward":"Lewati Mundur","Fast Forward":"Maju Cepat",Rewind:"Mundur","Next Frame":"Bingkai Berikutnya","Previous Frame":"Bingkai Sebelumnya",Settings:"Pengaturan",Options:"Opsi","More Options":"Opsi Lainnya",Zoom:"Zoom","Zoom In":"Perbersar","Zoom Out":"Perkecil","Audio Only":"Hanya Audio","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Pemutaran video dibatalkan.",MEDIA_ERR_NETWORK:"Kesalahan jaringan menyebabkan unduhan video gagal sebagian. Periksa koneksi jaringan Anda atau coba lagi nanti.",MEDIA_ERR_DECODE:"Video tidak dapat dimuat, karena server atau jaringan gagal, atau karena format tidak didukung.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Pemutaran video dibatalkan karena masalah kerusakan atau video menggunakan fitur yang tidak didukung browser Anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat mendekripsi sumber video yang dienkripsi.",SRC_PLAYER_MISMATCH:"Sumber yang kompatibel tidak ditemukan untuk lingkungan browser saat ini.",MEDIA_ERR_UNKNOWN:"Terjadi kesalahan tidak diketahui",SKIP_AD_COUNTDOWN_FORMAT:"Lewati iklan dalam {0}",SKIP:"Lewati",AD_TIMING_INFO:"Iklan {0} detik","Media Player":"Pemutar Media","Play Video":"Putar Video",Foreground:"Latar depan",White:"Putih",Black:"Hitam",Red:"Merah",Green:"Hijau",Blue:"Biru",Yellow:"Kuning",Magenta:"Magenta",Cyan:"Sian",Opaque:"Buram","Semi-Opaque":"Semiburam",Transparent:"Transparan",Window:"Jendela","Font Size":"Ukuran Font","Text Edge Style":"Gaya Teks Edge",None:"Tidak Ada",Raised:"Dinaikkan",Depressed:"Diturunkan",Uniform:"Seragam",Dropshadow:"Bayangan Jatuh","Font Family":"Keluarga Font","Monospace Serif":"Serif Monospace","Proportional Serif":"Serif Proporsional","Monospace Sans-Serif":"Sans Serif Monospace","Proportional Sans-Serif":"Sans Serif Proporsional",Casual:"Kasual",Script:"Skrip","Small Caps":"Huruf Kecil",Defaults:"Default",Done:"Selesai",Link:"Tautan",Embed:"Sematkan",Close:"Tutup",Copy:"Salin","Copy Url":"Salin Url","Embed Code":"Kode Semat",English:"Bahasa Inggris","volume level":"tingkat volume","video progress bar":"bilah progres video","playback speed level":"tingkat kecepatan pemutaran","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Keterangan","Subtitles Menu":"Menu Subjudul","Need Text":"Memerlukan Teks"}},{"../video.js/src/js/player.js":210}],119:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.is={Play:"Spila",Pause:"Bi","Current Time":"Nverandi tmi","Duration Time":"Tmalengd","Remaining Time":"Tmi eftir","Stream Type":"Ger straums",LIVE:" beinni",Loaded:"Hlai",Progress:"Framvinda",Fullscreen:"Heill skjr","Non-Fullscreen":"Ekki heill skjr",Mute:"gult",Unmuted:"Me hlji","Playback Rate":"Spilunarhrai",Subtitles:"Skjtextar","Subtitles Off":"Slkkt  skjtexta",Captions:"Myndatextar","Captions Off":"Slkkt  myndatexta",Chapters:"Kaflar",Off:"Af",Quality:"Gi",Auto:"Sjlfvirkt","Audio Tracks":"Hljspor",default:"sjlfvali","Cast To Device":"Varpa  tki",Share:"Deila",Volume:"Hljstyrkur","Playback Speed":"Afspilunarhrai","Video Quality":"Vdegi","Closed Captioning":"Lokair myndatextar","Share Video":"Deila vdei","Next Track":"Nsta spor","Previous Track":"Fyrra spor","Skip Forward":"Hoppa fram  vi","Skip Backward":"Hoppa afturbak","Fast Forward":"Hratt fram",Rewind:"Spla til baka","Next Frame":"Nsti rammi","Previous Frame":"Fyrri rammi",Settings:"Stillingar",Options:"Valkostir","More Options":"Fleiri valkostir",Zoom:"Sma","Zoom In":"Sma inn","Zoom Out":"Sma t","Audio Only":"Aeins hlj","Picture in Picture":"Mynd  mynd","Camera Angle":"Kameruvinkill",MEDIA_ERR_ABORTED:"Htt vi afspilun vdes",MEDIA_ERR_NETWORK:"Villa  netkerfi olli v a niurhal vdes mistkst a hluta. Vinsamlegast athugau nettenginguna na ea reyndu aftur sar.",MEDIA_ERR_DECODE:"Ekki var hgt a hlaa vdei, annahvort vegna ess a jnn ea net voru ekki  lagi ea vegna ess a snii er ekki studd.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Htt var vi afspilun  vde vegna vandamla vegna truflunar ea vegna ess a vde notar eiginleika sem vafrinn inn styur ekki.",MEDIA_ERR_ENCRYPTED:"Gat ekki afka dulkaan uppruna vdes",SRC_PLAYER_MISMATCH:"Enginn samhfur uppruni fannst fyrir nverandi umhverfi vafra.",MEDIA_ERR_UNKNOWN:"ekkt villa kom upp",SKIP_AD_COUNTDOWN_FORMAT:"Sleppa auglsingu eftir {0}...",SKIP:"Sleppa",AD_TIMING_INFO:"Auglsing  {0} sekndur"}},{"../video.js/src/js/player.js":210}],120:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.it={Play:"Riproduci",Pause:"Pausa","Current Time":"Ora corrente","Duration Time":"Durata","Remaining Time":"Tempo residuo","Stream Type":"Tipo di flusso",LIVE:"LIVE",Loaded:"Caricato",Progress:"Stato",Fullscreen:"Schermo intero","Non-Fullscreen":"Schermo normale",Mute:"Disattiva audio",Unmuted:"Audio riattivato","Playback Rate":"Frequenza di riproduzione",Subtitles:"Sottotitoli","Subtitles Off":"disattiva sottotitoli",Captions:"Didascalie","Captions Off":"disattiva didascalie",Chapters:"Capitoli",Off:"Disattivato",Quality:"Qualit",Auto:"Automatico","Audio Tracks":"Brani audio",default:"predefinito","Cast To Device":"Cast nel dispositivo",Share:"Condividi",Volume:"Volume","Playback Speed":"Velocit di riproduzione","Video Quality":"Qualit video","Closed Captioning":"Sottotitoli codificati","Share Video":"Condividi video","Next Track":"Brano successivo","Previous Track":"Brano precedente","Skip Forward":"Skip avanti","Skip Backward":"Skip indietro","Fast Forward":"Avanzamento rapido",Rewind:"Riavvolgi","Next Frame":"Fotogramma successivo","Previous Frame":"Fotogramma precedente",Settings:"Impostazioni",Options:"Opzioni","More Options":"Altre opzioni",Zoom:"Zoom","Zoom In":"Zoom avanti","Zoom Out":"Zoom indietro","Audio Only":"Solo audio","Picture in Picture":"Immagine nell'immagine","Camera Angle":"Angolazione",MEDIA_ERR_ABORTED:"Riproduzione video interrotta.",MEDIA_ERR_NETWORK:"Il download del video si  interrotto a causa di un errore di rete. Controllare la connessione di rete o riprovare pi tardi.",MEDIA_ERR_DECODE:"Non  stato possibile caricare il video perch si  verificato un errore del server o della rete oppure perch il formato non  supportato.",MEDIA_ERR_SRC_NOT_SUPPORTED:"La riproduzione video  stata interrotta a causa di un problema di danneggiamento oppure perch nel video sono state usate funzionalit non supportate dal browser corrente.",MEDIA_ERR_ENCRYPTED:"Non  possibile decrittografare l'origine video crittografata.",SRC_PLAYER_MISMATCH:"Non sono state trovate origini compatibili per l'ambiente del browser corrente.",MEDIA_ERR_UNKNOWN:"Si  verificato un errore sconosciuto.",SKIP_AD_COUNTDOWN_FORMAT:"Ignora annuncio tra {0}...",SKIP:"Ignora",AD_TIMING_INFO:"Annuncio {0} secondi","Media Player":"Lettore multimediale","Play Video":"Riproduci video",Foreground:"Colore di primo piano",White:"Bianco",Black:"Nero",Red:"Rosso",Green:"Verde",Blue:"Blu",Yellow:"Giallo",Magenta:"Fucsia",Cyan:"Ciano",Opaque:"Opaco","Semi-Opaque":"Semi-opaco",Transparent:"Trasparente",Window:"Finestra","Font Size":"Dimensioni carattere","Text Edge Style":"Stile bordo del testo",None:"Nessuno",Raised:"In rilievo",Depressed:"Incassato",Uniform:"Uniforme",Dropshadow:"Ombra esterna","Font Family":"Famiglia di caratteri","Monospace Serif":"Serif monospazio","Proportional Serif":"Serif proporzionale","Monospace Sans-Serif":"Sans Serif monospazio","Proportional Sans-Serif":"Sans Serif proporzionale",Casual:"Casuale",Script:"Script","Small Caps":"Maiuscoletto",Defaults:"Impostazioni predefinite",Done:"Fine",Link:"Collegamento",Embed:"Incorpora",Close:"Chiudi",Copy:"Copia","Copy Url":"Copia URL","Embed Code":"Codice di incorporamento",English:"Inglese","volume level":"Livello volume","video progress bar":"Indicatore di stato video","playback speed level":"Livello velocit riproduzione","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Didascalie","Subtitles Menu":"Menu Sottotitoli","Need Text":"Testo necessario"}},{"../video.js/src/js/player.js":210}],121:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.ja={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":" ","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:" ",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:"{0} ...",SKIP:"",AD_TIMING_INFO:"{0} ","Media Player":" ","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":" Serif","Proportional Serif":" Serif","Monospace Sans-Serif":" Sans-Serif","Proportional Sans-Serif":" Sans-Serif",Casual:"",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"URL ","Embed Code":"",English:"","volume level":" ","video progress bar":"","playback speed level":"","Dolby Digital":" ",Stereo:"","Captions Menu":"[] ","Subtitles Menu":"[] ","Need Text":""},t.default.prototype.options_.languages["ja-jp"]=t.default.prototype.options_.languages.ja},{"../video.js/src/js/player.js":210}],122:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.kk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:" ","Non-Fullscreen":"  ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":" ",Share:" ",Volume:" ","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"  ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":" ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .       .",MEDIA_ERR_DECODE:"              .",MEDIA_ERR_SRC_NOT_SUPPORTED:"             .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"   ",SKIP_AD_COUNTDOWN_FORMAT:" {0}   ...",SKIP:" ",AD_TIMING_INFO:" {0} ","Media Player":" ","Play Video":" ",Foreground:" ",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:" ","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:" ",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":"  ","Proportional Serif":", ","Monospace Sans-Serif":"  ","Proportional Sans-Serif":", ",Casual:"",Script:"","Small Caps":"  ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"URL  ","Embed Code":" ",English:"","volume level":" ","video progress bar":"   ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" "},t.default.prototype.options_.languages["kk-kz"]=t.default.prototype.options_.languages.kk},{"../video.js/src/js/player.js":210}],123:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.ko={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"  ",Mute:"",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":" ",Share:"",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:"","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .      .",MEDIA_ERR_DECODE:"           .",MEDIA_ERR_SRC_NOT_SUPPORTED:"            .",MEDIA_ERR_ENCRYPTED:"      .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"    .",SKIP_AD_COUNTDOWN_FORMAT:"{0}    ...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"Media Player","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":" ",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"  ",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"  Serif","Proportional Serif":" Serif","Monospace Sans-Serif":"  Sans Serif","Proportional Sans-Serif":" Sans Serif",Casual:"",Script:"","Small Caps":" ",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":"Url ","Embed Code":"Embed ",English:"","volume level":" ","video progress bar":"  ","playback speed level":"  ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" "},t.default.prototype.options_.languages["ko-kr"]=t.default.prototype.options_.languages.ko},{"../video.js/src/js/player.js":210}],124:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t((t(e("./ar.js")),e("./bg.js"))),e("./ca.js"))),e("./cs.js"))),e("./da.js"))),e("./de.js"))),e("./el.js"))),e("./en.js"))),e("./es.js"))),e("./et.js"))),e("./eu.js"))),e("./fa.js"))),e("./fi.js"))),e("./fr.js"))),e("./gl.js"))),e("./he.js"))),e("./hi.js"))),e("./hr.js"))),e("./hu.js"))),e("./id.js"))),e("./is.js"))),e("./it.js"))),e("./ja.js"))),e("./kk.js"))),e("./ko.js"))),e("./lt.js"))),e("./lv.js"))),e("./ms.js"))),e("./nb.js"))),e("./nl.js"))),e("./nn.js"))),e("./ph.js"))),e("./pl.js"))),e("./pt-br.js"))),e("./pt-pt.js"))),e("./ro.js"))),e("./ru.js"))),e("./sk.js"))),e("./sl.js"))),e("./sr-cyrl-cs.js"))),e("./sr-latn-rs.js"))),e("./sv.js"))),e("./th.js"))),e("./tl.js"))),e("./tr.js"))),e("./uk.js"))),e("./ur.js"))),e("./vi.js"))),e("./zh-hans.js"))),e("./zh-hant.js")))},{"./ar.js":99,"./bg.js":100,"./ca.js":101,"./cs.js":102,"./da.js":103,"./de.js":104,"./el.js":105,"./en.js":106,"./es.js":107,"./et.js":108,"./eu.js":109,"./fa.js":110,"./fi.js":111,"./fr.js":112,"./gl.js":113,"./he.js":114,"./hi.js":115,"./hr.js":116,"./hu.js":117,"./id.js":118,"./is.js":119,"./it.js":120,"./ja.js":121,"./kk.js":122,"./ko.js":123,"./lt.js":125,"./lv.js":126,"./ms.js":127,"./nb.js":128,"./nl.js":129,"./nn.js":130,"./ph.js":131,"./pl.js":132,"./pt-br.js":133,"./pt-pt.js":134,"./ro.js":135,"./ru.js":136,"./sk.js":137,"./sl.js":138,"./sr-cyrl-cs.js":139,"./sr-latn-rs.js":140,"./sv.js":141,"./th.js":142,"./tl.js":143,"./tr.js":144,"./uk.js":145,"./ur.js":146,"./vi.js":147,"./zh-hans.js":148,"./zh-hant.js":149}],125:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.lt={Play:"Leisti",Pause:"Pristabdyti","Current Time":"Dabartinis laikas","Duration Time":"Trukm","Remaining Time":"Liks laikas","Stream Type":"Transliavimo tipas",LIVE:"TIESIOGINIS",Loaded:"kelta",Progress:"Eiga",Fullscreen:"Per vis ekran","Non-Fullscreen":"Ne per vis ekran",Mute:"Nutildyti",Unmuted:"Nenutildyta","Playback Rate":"Leidimo danis",Subtitles:"Subtitrai","Subtitles Off":"subtitrai ijungti",Captions:"Vaizdo apraai","Captions Off":"vaizdo apraai ijungti",Chapters:"Dalys",Off:"Ijungta",Quality:"Kokyb",Auto:"Automatinis","Audio Tracks":"Garso takeliai",default:"numatytoji reikm","Cast To Device":"Parinkti pagal rengin",Share:"Bendrinti",Volume:"Garsumas","Playback Speed":"Leidimo greitis","Video Quality":"Vaizdo rao kokyb","Closed Captioning":"Paslptieji titrai","Share Video":"Bendrinti vaizdo ra","Next Track":"Kitas takelis","Previous Track":"Ankstesnis takelis","Skip Forward":"Pereiti pirmyn","Skip Backward":"Pereiti atgal","Fast Forward":"Sukti pirmyn",Rewind:"Sukti atgal","Next Frame":"Kitas kadras","Previous Frame":"Ankstesnis kadras",Settings:"Parametrai",Options:"Parinktys","More Options":"Daugiau parinki",Zoom:"Mastelio keitimas","Zoom In":"Artinti","Zoom Out":"Tolinti","Audio Only":"Tik garsas","Picture in Picture":"Paveiksllis paveiksllyje","Camera Angle":"Kameros kampas",MEDIA_ERR_ABORTED:"Vaizdo rao leidimas atmestas.",MEDIA_ERR_NETWORK:"Viso vaizdo rao atsisisti nepavyko dl tinklo klaidos. Patikrinkite tinklo ry arba bandykite dar kart vliau.",MEDIA_ERR_DECODE:"Vaizdo rao nepavyko kelti dl serverio arba tinklo klaidos arba dl to, kad nepalaikomas formatas.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Vaizdo rao leidimas buvo atmestas dl gedimo arba dl to, kad vaizdo rae buvo naudojamos funkcijos, kuri js narykl nepalaiko.",MEDIA_ERR_ENCRYPTED:"Nepavyksta iifruoti uifruoto vaizdo rao altinio.",SRC_PLAYER_MISMATCH:"iai narykls aplinkai suderinamas altinis nerastas.",MEDIA_ERR_UNKNOWN:"vyko neinoma klaida",SKIP_AD_COUNTDOWN_FORMAT:"Praleisti reklam {0}...",SKIP:"Praleisti",AD_TIMING_INFO:"{0} sek. reklama","Media Player":"Medijos leistuvas","Play Video":"Leisti vaizdo ra",Foreground:"Priekinis planas",White:"Balta",Black:"Juoda",Red:"Raudona",Green:"alia",Blue:"Mlyna",Yellow:"geltona",Magenta:"Purpurin",Cyan:"ydra",Opaque:"Nepermatoma","Semi-Opaque":"Pusiau nepermatoma",Transparent:"Skaidri",Window:"Langas","Font Size":"rifto dydis","Text Edge Style":"Teksto krato stilius",None:"Nra",Raised:"Pakeltas",Depressed:"Sumainta",Uniform:"Universali",Dropshadow:"elis","Font Family":"rift eimai","Monospace Serif":"Fiksuoto ploio Serif","Proportional Serif":"Proporcingas Serif","Monospace Sans-Serif":"Fiksuoto ploio Sans-Serif","Proportional Sans-Serif":"Proporcingas Sans-Serif",Casual:"Atsitiktinis",Script:"Scenarijus","Small Caps":"Maos didiosios raids",Defaults:"Numatytosios reikms",Done:"Atlikta",Link:"Saitas",Embed:"dti",Close:"Udaryti",Copy:"Kopijuoti","Copy Url":"Kopijuoti URL","Embed Code":"dti kod",English:"Angl","volume level":"garsumas","video progress bar":"vaizdo rao eigos juosta","playback speed level":"leidimo greitis","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Vaizdo apra  meniu","Subtitles Menu":"Subtitr meniu","Need Text":"Reikia teksto"}},{"../video.js/src/js/player.js":210}],126:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.lv={Play:"Atskaot",Pause:"Pauze","Current Time":"Pareizjais laiks","Duration Time":"Ilguma laiks","Remaining Time":"Atlikuais laiks","Stream Type":"Straumes tips",LIVE:"TIESAISTE",Loaded:"Ieldts",Progress:"Norise",Fullscreen:"Pilnekrna rems","Non-Fullscreen":"Ne pilnekrna rems",Mute:"Izslgt skau",Unmuted:"Ieslgta skaa","Playback Rate":"Atskaoanas trums",Subtitles:"Subtitri","Subtitles Off":"Subtitri izslgti",Captions:"Paraksti","Captions Off":"paraksti izslgti",Chapters:"Nodaas",Off:"Izslgts",Quality:"Kvalitte",Auto:"Automtiski","Audio Tracks":"Audio ieraksti",default:"noklusjums","Cast To Device":"Prraidt uz ierci",Share:"Koplietot",Volume:"Skaums","Playback Speed":"Atskaoanas trums","Video Quality":"Video kvalitte","Closed Captioning":"Slptie titri","Share Video":"Kopgot video","Next Track":"Nkamais ieraksts","Previous Track":"Iepriekjais ieraksts","Skip Forward":"Izlaist uz prieku","Skip Backward":"Izlaist atpaka","Fast Forward":"Patt",Rewind:"Attt","Next Frame":"Nkamais kadrs","Previous Frame":"Iepriekjais kadrs",Settings:"Iestatjumi",Options:"Opcijas","More Options":"Papildu opcijas",Zoom:"Tlummaia","Zoom In":"Tuvinana","Zoom Out":"Tlinana","Audio Only":"Tikai audio","Picture in Picture":"Attls attl","Camera Angle":"Kameras leis",MEDIA_ERR_ABORTED:"Video atskaoana prieklaikus prtraukta.",MEDIA_ERR_NETWORK:"Tkla kdas d video lejupielde tika prtraukta pusce. Ldzu, prbaudiet tkla savienojumu vai vlk miniet vlreiz.",MEDIA_ERR_DECODE:"Videoklipu neizdevs ieldt servera vai tkla kmes vai neatbalstta formta d.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Video atskaoana tika prieklaikus prtraukta bojjuma problmas d vai tpc, ka videoklip tika izmantoti ldzeki, ko jsu prlkprogramma neatbalsta.",MEDIA_ERR_ENCRYPTED:"Nevar atifrt ifrto video avotu.",SRC_PLAYER_MISMATCH:"Pareizjai prlkprogrammas videi nav atrasts sadergs avots.",MEDIA_ERR_UNKNOWN:"Rads nezinma kda",SKIP_AD_COUNTDOWN_FORMAT:"Drz varsit izlaist reklmu: {0}...",SKIP:"Izlaist",AD_TIMING_INFO:"Reklma {0} sekundes","Media Player":"Media Player","Play Video":"Atskaot video",Foreground:"Priekplns",White:"Balts",Black:"Melns",Red:"Sarkans",Green:"Za",Blue:"Zils",Yellow:"Dzeltens",Magenta:"Fuksna",Cyan:"Cina",Opaque:"Necaurspdgs","Semi-Opaque":"Daji necaurspdgs",Transparent:"Caurspdgs",Window:"Logs","Font Size":"Fonta lielums","Text Edge Style":"Teksta malas stils",None:"Nav",Raised:"Pacelts",Depressed:"Pazemints",Uniform:"Vienots",Dropshadow:"Nolaiama na","Font Family":"Fontu saime","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Parasts",Script:"Skripts","Small Caps":"Kapitei",Defaults:"Noklusjuma vrtbas",Done:"Gatavs",Link:"Saite",Embed:"Iegult",Close:"Aizvrt",Copy:"Kopt","Copy Url":"Kopt URL","Embed Code":"Iegulanas kods",English:"Angu","volume level":"skauma lmenis","video progress bar":"video norises josla","playback speed level":"atskaoanas truma lmenis","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Parakstu izvlne","Subtitles Menu":"Subtitru izvlne","Need Text":"Nepiecieams teksts"}},{"../video.js/src/js/player.js":210}],127:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.ms={Play:"Main",Pause:"Jeda","Current Time":"Masa Semasa","Duration Time":"Tempoh Semasa","Remaining Time":"Baki Masa","Stream Type":"Jenis Strim",LIVE:"LANGSUNG",Loaded:"Dimuatkan",Progress:"Kemajuan",Fullscreen:"Skrin Penuh","Non-Fullscreen":"Bukan Skrin Penuh",Mute:"Bisu",Unmuted:"Dinyahbisu","Playback Rate":"Kadar Main Semula",Subtitles:"Sari kata","Subtitles Off":"sari kata dimatikan",Captions:"Kapsyen","Captions Off":"kapsyen dimatikan",Chapters:"Babak",Off:"Matikan",Quality:"Kualiti",Auto:"Auto","Audio Tracks":"Lagu Audio",default:"lalai","Cast To Device":"Siarkan Pada Peranti",Share:"Kongsi",Volume:"Volum","Playback Speed":"Kelajuan Main Semula","Video Quality":"Kualiti Video","Closed Captioning":"Penyarikataan Tertutup","Share Video":"Kongsi Video","Next Track":"Lagu berikut","Previous Track":"Lagu Sebelumnya","Skip Forward":"Langkau Ke Depan","Skip Backward":"Langkau Ke Belakang","Fast Forward":"Maju Ke Depan",Rewind:"Gulung Semula","Next Frame":"Bingkai Berikut","Previous Frame":"Bingkai Sebelumnya",Settings:"Seting",Options:"Opsyen","More Options":"Opsyen Lain",Zoom:"Zum","Zoom In":"Zum Masuk","Zoom Out":"Zum Keluar","Audio Only":"Audio Sahaja","Picture in Picture":"Gambar dalam Gambar","Camera Angle":"Sudut Kamera",MEDIA_ERR_ABORTED:"Main semula video dihentikan.",MEDIA_ERR_NETWORK:"Ralat rangkaian menyebabkan muat turun video gagal. Sila semak sambungan rangkaian anda atau cuba lagi kemudian.",MEDIA_ERR_DECODE:"Video tidak dapat dimuatkan, sama ada disebabkan kegagalan pelayan atau rangkaian atau disebabkan format tidak disokong.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Main semula video dihentikan atas sebab masalah pencemaran atau disebabkan video menggunakan ciri yang tidak disokong oleh pelayar anda.",MEDIA_ERR_ENCRYPTED:"Tidak dapat menyahsulitkan sumber video yang disulitkan.",SRC_PLAYER_MISMATCH:"Tiada sumber yang serasi ditemui untuk persekitaran pelayar semasa.",MEDIA_ERR_UNKNOWN:"Ralat yang tidak diketahui telah berlaku",SKIP_AD_COUNTDOWN_FORMAT:"Langkau iklan dalam {0}...",SKIP:"Langkau",AD_TIMING_INFO:"Iklan {0} saat","Media Player":"Pemain Media","Play Video":"Mainkan Video",Foreground:"Latar depan",White:"Putih",Black:"Hitam",Red:"Merah",Green:"Hijau",Blue:"Biru",Yellow:"Kuning",Magenta:"Magenta",Cyan:"Sian",Opaque:"Legap","Semi-Opaque":"Separa-Legap",Transparent:"Lutsinar",Window:"Tetingkap","Font Size":"Saiz Fon","Text Edge Style":"Gaya Tepi Teks",None:"Tiada",Raised:"Dinaikkan",Depressed:"Tertekan",Uniform:"Seragam",Dropshadow:"Bayang Jatuh","Font Family":"Keluarga Fon","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Santai",Script:"Skrip","Small Caps":"Huruf Besar Kecil",Defaults:"Lalai",Done:"Selesai",Link:"Pautan",Embed:"Benam",Close:"Tutup",Copy:"Salin","Copy Url":"Salin Url","Embed Code":"Kod Terbenam",English:"Bahasa Inggeris","volume level":"aras volum","video progress bar":"bar kemajuan video","playback speed level":"aras kelajuan main semula","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Kapsyen","Subtitles Menu":"Menu Sari Kata","Need Text":"Perlukan Teks"},t.default.prototype.options_.languages["ms-my"]=t.default.prototype.options_.languages.ms},{"../video.js/src/js/player.js":210}],128:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.nb={Play:"Spill av",Pause:"Pause","Current Time":"Tid","Duration Time":"Varighet","Remaining Time":"Gjenstende","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lastet inn",Progress:"Fremdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikke-fullskjerm",Mute:"Demp",Unmuted:"Opphevet demping","Playback Rate":"Avspillingshyppighet",Subtitles:"Undertekst","Subtitles Off":"undertekst av",Captions:"Bildetekst","Captions Off":"bildetekst av",Chapters:"Kapitler",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor",default:"standard","Cast To Device":"Spill av p enhet",Share:"Del",Volume:"Volume","Playback Speed":"Avspillingshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Teksting","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Forrige spor","Skip Forward":"Hopp fremover","Skip Backward":"Hopp bakover","Fast Forward":"Spol fremover",Rewind:"Spol tilbake","Next Frame":"Neste bilde","Previous Frame":"Forrige bilde",Settings:"Innstillinger",Options:"Alternativer","More Options":"Flere alternativer",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Bare lyd","Picture in Picture":"Bilde i bilde","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspilling avbrutt.",MEDIA_ERR_NETWORK:"En nettverksfeil har forrsaket at nedlastingen av denne videoen mislykkes. Prv  oppdatere siden.",MEDIA_ERR_DECODE:"Videoen kan ikke lastes inn, enten fordi tilkoblingen til serveren eller nettverket mislyktes, eller fordi formatet ikke stttes.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspillingen ble avbrutt p grunn skadet programvare eller fordi videoen brukte funksjoner som nettleseren din ikke sttter.",MEDIA_ERR_ENCRYPTED:"Kan ikke dekryptere den krypterte videokilden.",SRC_PLAYER_MISMATCH:"Fant ingen kompatibel kilde for det gjeldende nettlesermiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod en ukjent feil.",SKIP_AD_COUNTDOWN_FORMAT:"Hopp over annonse om {0} ...",SKIP:"Hopp over",AD_TIMING_INFO:"Annonse {0} sekunder","Media Player":"Media Player","Play Video":"Spill av video",Foreground:"Forgrunn",White:"Hvit",Black:"Svart",Red:"Rd",Green:"Grnn",Blue:"Bl",Yellow:"Gul",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Ugjennomsiktig","Semi-Opaque":"Delvis ugjennomsiktig",Transparent:"Gjennomsiktig",Window:"Vindu","Font Size":"Skriftstrrelse","Text Edge Style":"Tekstkantstil",None:"Ingen",Raised:"Opphyd",Depressed:"Senket",Uniform:"Ensartet",Dropshadow:"Senket skygge","Font Family":"Skriftfamilie","Monospace Serif":"Serif med fast tegnavstand","Proportional Serif":"Proporsjonal serif","Monospace Sans-Serif":"Sans-serif med fast tegnavstand","Proportional Sans-Serif":"Proporsjonal sans-serif",Casual:"Tilfeldig",Script:"Skript","Small Caps":"Kapitler",Defaults:"Standarder",Done:"Fullfrt",Link:"Kobling",Embed:"Bygg inn",Close:"Lukk",Copy:"Kopier","Copy Url":"Kopier nettadresse","Embed Code":"Innebyggingskode",English:"Engelsk","volume level":"volumniv","video progress bar":"fremdriftsindikator for video","playback speed level":"hastighetsniv for avspilling","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Bildetekstmeny","Subtitles Menu":"Undertekstmeny","Need Text":"Trenger tekst"},t.default.prototype.options_.languages["nb-no"]=t.default.prototype.options_.languages.nb},{"../video.js/src/js/player.js":210}],129:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.nl={Play:"Afspelen",Pause:"Onderbreken","Current Time":"Huidige tijd","Duration Time":"Duur","Remaining Time":"Resterende tijd","Stream Type":"Type stream",LIVE:"LIVE",Loaded:"Geladen",Progress:"Voortgang",Fullscreen:"Volledig scherm","Non-Fullscreen":"Niet-volledig scherm",Mute:"Dempen",Unmuted:"Dempen opgeheven","Playback Rate":"Afspeelsnelheid",Subtitles:"Ondertitels","Subtitles Off":"ondertitels uit",Captions:"Bijschriften","Captions Off":"ondertiteling uit",Chapters:"Hoofdstukken",Off:"Uit",Quality:"Kwaliteit",Auto:"Automatisch","Audio Tracks":"Audionummers",default:"standaard","Cast To Device":"Casten naar apparaat",Share:"Delen",Volume:"Volume","Playback Speed":"Afspeelsnelheid","Video Quality":"Videokwaliteit","Closed Captioning":"Ondertiteling","Share Video":"Video delen","Next Track":"Volgend nummer","Previous Track":"Vorig nummer","Skip Forward":"Vooruit springen","Skip Backward":"Terug springen","Fast Forward":"Vooruitspoelen",Rewind:"Terugspoelen","Next Frame":"Volgende frame","Previous Frame":"Vorige frame",Settings:"Instellingen",Options:"Opties","More Options":"Meer opties",Zoom:"In-/uitzoomen","Zoom In":"Inzoomen","Zoom Out":"Uitzoomen","Audio Only":"Alleen audio","Picture in Picture":"Picture in Picture","Camera Angle":"Camerahoek",MEDIA_ERR_ABORTED:"Video afspelen is afgebroken.",MEDIA_ERR_NETWORK:"De video is vanwege een netwerkfout gedeeltelijk gedownload. Controleer uw netwerkverbinding of probeer het later opnieuw.",MEDIA_ERR_DECODE:"De video kan niet worden geladen, omdat er een probleem is met de server of het netwerk of omdat de indeling niet wordt ondersteund.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Het afspelen van de video is afgebroken, omdat deze mogelijk is beschadigd of omdat de video functies gebruikt die niet worden ondersteund door uw browser.",MEDIA_ERR_ENCRYPTED:"Kan de versleutelde videobron niet ontsleutelen.",SRC_PLAYER_MISMATCH:"Er is geen compatibele bron gevonden voor de huidige browseromgeving.",MEDIA_ERR_UNKNOWN:"Er is een onbekende fout opgetreden.",SKIP_AD_COUNTDOWN_FORMAT:"Advertentie overslaan over {0}...",SKIP:"Overslaan",AD_TIMING_INFO:"Advertentie van {0} seconden","Media Player":"Mediaspeler","Play Video":"Video afspelen",Foreground:"Voorgrond",White:"Wit",Black:"Zwart",Red:"Rood",Green:"Groen",Blue:"Blauw",Yellow:"Geel",Magenta:"Magenta",Cyan:"Cyaan",Opaque:"Ondoorzichtig","Semi-Opaque":"Half ondoorzichtig",Transparent:"Transparant",Window:"Venster","Font Size":"Tekengrootte","Text Edge Style":"Tekstrandstijl",None:"Geen",Raised:"Verhoogd",Depressed:"Verzonken",Uniform:"Gelijkmatig",Dropshadow:"Slagschaduw","Font Family":"Lettertypefamilie","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans Serif","Proportional Sans-Serif":"Proportional Sans Serif",Casual:"Informeel",Script:"Script","Small Caps":"Klein kapitaal",Defaults:"Standaardwaarden",Done:"Gereed",Link:"Koppeling",Embed:"Insluiten",Close:"Sluiten",Copy:"Kopiren","Copy Url":"URL kopiren","Embed Code":"Invoegcode",English:"Engels","volume level":"volumeniveau","video progress bar":"voortgangsbalk voor video","playback speed level":"niveau van afspeelsnelheid","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu Bijschriften","Subtitles Menu":"Menu Ondertitels","Need Text":"Tekst vereist"},t.default.prototype.options_.languages["nl-be"]=t.default.prototype.options_.languages.nl},{"../video.js/src/js/player.js":210}],130:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.nn={Play:"Spel av",Pause:"Pause","Current Time":"Tid","Duration Time":"Tidslengd","Remaining Time":"Tid att","Stream Type":"Strmmingstype",LIVE:"LIVE",Loaded:"Lasta inn",Progress:"Framdrift",Fullscreen:"Fullskjerm","Non-Fullscreen":"Ikkje fullskjerm",Mute:"Demp",Unmuted:"Oppheva demping","Playback Rate":"Avspelingsfart",Subtitles:"Teksting","Subtitles Off":"teksting av",Captions:"Teksting","Captions Off":"teksting av",Chapters:"Kapittel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Lydspor",default:"standard","Cast To Device":"Spel av p eining",Share:"Del",Volume:"Volum","Playback Speed":"Avspelingsfart","Video Quality":"Videokvalitet","Closed Captioning":"Teksting for hyrselshemma","Share Video":"Del video","Next Track":"Neste spor","Previous Track":"Frre spor","Skip Forward":"Hopp framover","Skip Backward":"Hopp bakover","Fast Forward":"Spol framover",Rewind:"Spol tilbake","Next Frame":"Neste bilete","Previous Frame":"Frre bilete",Settings:"Innstillingar",Options:"Alternativ","More Options":"Fleire alternativ",Zoom:"Zoom","Zoom In":"Zoom inn","Zoom Out":"Zoom ut","Audio Only":"Berre lyd","Picture in Picture":"Bilete i bilete","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videoavspeling avbroten.",MEDIA_ERR_NETWORK:"Ein nettverksfeil har frt til at nedlastinga av denne videoen mislukkast. Kontroller nettverkstilkoplinga, eller prv p nytt seinare.",MEDIA_ERR_DECODE:"Videoen kan ikkje lastast ned, anten fordi tilkoplinga til tenaren eller nettverket mislukkast, eller fordi formatet ikkje er sttta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videoavspelinga blei avbroten p grunn av skadd programvare eller fordi videoen brukte funksjonar som nettlesaren din ikkje stttar.",MEDIA_ERR_ENCRYPTED:"Kan ikkje dekryptere den krypterte videokjelda.",SRC_PLAYER_MISMATCH:"Finn ikkje noka kompatibel kjelde for det gjeldande nettlesarmiljet.",MEDIA_ERR_UNKNOWN:"Det oppstod ein ukjent feil",SKIP_AD_COUNTDOWN_FORMAT:"Hopp over annonse om {0} ...",SKIP:"Hopp over",AD_TIMING_INFO:"Annonse {0} sekunder"},t.default.prototype.options_.languages["nn-no"]=t.default.prototype.options_.languages.nn},{"../video.js/src/js/player.js":210}],131:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.ph={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmuted:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","Subtitles Off":"Naka-off ang subtitle",Captions:"Mga Caption","Captions Off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio",default:"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forwarf",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawam sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error",SKIP_AD_COUNTDOWN_FORMAT:"Laktawan ang ad pagkalipas ng {0}...",SKIP:"Laktawan",AD_TIMING_INFO:"Ad {0} (na) segundo"}},{"../video.js/src/js/player.js":210}],132:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.pl={Play:"Odtwrz",Pause:"Wstrzymaj","Current Time":"Biecy czas","Duration Time":"Czas trwania","Remaining Time":"Pozostay czas","Stream Type":"Typ strumienia",LIVE:"NA YWO",Loaded:"Zaadowane",Progress:"Postp",Fullscreen:"Peny ekran","Non-Fullscreen":"Niepeny ekran",Mute:"Wycisz",Unmuted:"Wyciszenie wyczone","Playback Rate":"Tempo odtwarzania",Subtitles:"Napisy","Subtitles Off":"napisy wyczone",Captions:"Podpisy","Captions Off":"podpisy wyczone",Chapters:"Rozdziay",Off:"Wyczone",Quality:"Jako",Auto:"Auto","Audio Tracks":"cieki dwikowe",default:"domylne","Cast To Device":"Rzutuj na urzdzenie",Share:"Udostpnij",Volume:"Gono","Playback Speed":"Szybko odtwarzania","Video Quality":"Jako wideo","Closed Captioning":"Podpisy kodowane","Share Video":"Udostpnij wideo","Next Track":"Nastpna cieka","Previous Track":"Poprzednia cieka","Skip Forward":"Skocz do tyu","Skip Backward":"Skocz do przodu","Fast Forward":"Przewi do przodu",Rewind:"Przewi do tyu","Next Frame":"Nastpna klatka","Previous Frame":"Poprzednia klatka",Settings:"Ustawienia",Options:"Opcje","More Options":"Wicej opcji",Zoom:"Powikszenie","Zoom In":"Powiksz","Zoom Out":"Pomniejsz","Audio Only":"Tylko dwik","Picture in Picture":"Obraz w obrazie","Camera Angle":"Kt kamery",MEDIA_ERR_ABORTED:"Przerwano odtwarzanie wideo.",MEDIA_ERR_NETWORK:"Bd sieci spowodowa, e trwajce pobieranie wideo zostao przerwane. Sprawd poczenie sieciowe i sprbuj ponownie.",MEDIA_ERR_DECODE:"Nie mona zaadowa wideo. Wystpi bd serwera lub sieci albo format nie jest obsugiwany.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Odtwarzanie wideo zostao przerwane. Dane s uszkodzone lub wideo korzysta z funkcji, ktrych przegldarka nie obsuguje.",MEDIA_ERR_ENCRYPTED:"Nie mona odszyfrowa zaszyfrowanego rda wideo.",SRC_PLAYER_MISMATCH:"Nie znaleziono zgodnego rda dla biecego rodowiska przegldarki.",MEDIA_ERR_UNKNOWN:"Wystpi nieznany bd.",SKIP_AD_COUNTDOWN_FORMAT:"Pomi reklam za {0}...",SKIP:"Pomi",AD_TIMING_INFO:"Reklama: {0} sek.","Media Player":"Odtwarzacz multimediw","Play Video":"Odtwrz klip wideo",Foreground:"Pierwszy plan",White:"Biay",Black:"Czarny",Red:"Czerwony",Green:"Zielony",Blue:"Niebieski",Yellow:"ty",Magenta:"Amarantowy",Cyan:"Bkitny",Opaque:"Nieprzezroczysty","Semi-Opaque":"Pprzezroczysty",Transparent:"Przezroczysty",Window:"Okno","Font Size":"Rozmiar czcionki","Text Edge Style":"Styl krawdzi tekstu",None:"Brak",Raised:"Podniesione",Depressed:"Wklse",Uniform:"Jednolite",Dropshadow:"Z cieniem","Font Family":"Rodzina czcionek","Monospace Serif":"Szeryfowa o staej szerokoci","Proportional Serif":"Szeryfowa proporcjonalna","Monospace Sans-Serif":"Bezszeryfowa o staej szerokoci","Proportional Sans-Serif":"Bezszeryfowa proporcjonalna",Casual:"Nieformalna",Script:"Skrypt","Small Caps":"Kapitaliki",Defaults:"Domylne",Done:"Gotowe",Link:"Link",Embed:"Osad",Close:"Zamknij",Copy:"Kopiuj","Copy Url":"Kopiuj adres URL","Embed Code":"Kod osadzania",English:"Angielski","volume level":"poziom gonoci","video progress bar":"pasek postpu klipu wideo","playback speed level":"poziom prdkoci odtwarzania","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Menu podpisw","Subtitles Menu":"Menu napisw","Need Text":"Potrzebny tekst"}},{"../video.js/src/js/player.js":210}],133:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages["pt-br"]={Play:"Executar",Pause:"Pausar","Current Time":"Tempo atual","Duration Time":"Tempo de durao","Remaining Time":"Tempo restante","Stream Type":"Tipo de fluxo",LIVE:"AO VIVO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Tela cheia","Non-Fullscreen":"Sem tela cheia",Mute:"Sem udio",Unmuted:"Mudo desativado","Playback Rate":"Taxa de reproduo",Subtitles:"Legendas","Subtitles Off":"Desativar legendas",Captions:"Legendas","Captions Off":"desativar legendas",Chapters:"Captulos",Off:"Desativado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio",default:"padro","Cast To Device":"Converter para o dispositivo",Share:"Compartilhar",Volume:"Volume","Playback Speed":"Velocidade de reproduo","Video Quality":"Qualidade do vdeo","Closed Captioning":"Legendagem codificada","Share Video":"Compartilhar vdeo","Next Track":"Prxima faixa","Previous Track":"Faixa anterior","Skip Forward":"Prxima faixa","Skip Backward":"Faixa anterior","Fast Forward":"Avanar",Rewind:"Retroceder","Next Frame":"Prximo quadro","Previous Frame":"Quadro anterior",Settings:"Configuraes",Options:"Opes","More Options":"Mais Opes",Zoom:"Aplicar zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Picture in picture","Camera Angle":"ngulo da cmera",MEDIA_ERR_ABORTED:"Reproduo de vdeo anulada.",MEDIA_ERR_NETWORK:"Um erro de rede causou a falha do download do vdeo. Verifique sua conexo de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"O vdeo no pde ser carregado, pois h uma falha na rede ou servidor ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi anulada devido a um problema de corrupo ou porque o vdeo usou recursos que seu navegador no suporta.",MEDIA_ERR_ENCRYPTED:"No foi possvel descriptografar a fonte do vdeo criptogradada.",SRC_PLAYER_MISMATCH:"Nenhuma fonte compatvel encontrada para o ambiente do navegador atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido.",SKIP_AD_COUNTDOWN_FORMAT:"Ignorar anncio em {0}...",SKIP:"Ignorar",AD_TIMING_INFO:"Anncio de {0} segundos","Media Player":"Player de Mdia","Play Video":"Reproduzir Vdeo",Foreground:"Primeiro plano",White:"Branco",Black:"Preto",Red:"Vermelho",Green:"Verde",Blue:"Azul",Yellow:"Amarelo",Magenta:"Magenta",Cyan:"Ciano",Opaque:"Opaco","Semi-Opaque":"Semiopaco",Transparent:"Transparente",Window:"Janela","Font Size":"Tamanho da Fonte","Text Edge Style":"Estilo da Borda do Texto",None:"Nenhum",Raised:"Relevo",Depressed:"Baixo relevo",Uniform:"Uniforme",Dropshadow:"Sombra","Font Family":"Famlia da Fonte","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Script","Small Caps":"Versalete",Defaults:"Padres",Done:"Concludo",Link:"Link",Embed:"Inserir",Close:"Fechar",Copy:"Copiar","Copy Url":"Copiar URL","Embed Code":"Inserir Cdigo",English:"Ingls","volume level":"nvel do volume","video progress bar":"barra de progresso do vdeo","playback speed level":"nvel de velocidade de reproduo","Dolby Digital":"Dolby Digital",Stereo:"Estreo","Captions Menu":"Menu de Legendas Ocultas","Subtitles Menu":"Menu de Legendas","Need Text":"Precisa de texto"}},{"../video.js/src/js/player.js":210}],134:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages["pt-pt"]={Play:"Reproduzir",Pause:"Pausa","Current Time":"Tempo Atual","Duration Time":"Tempo de Durao","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Fluxo",LIVE:"EM DIRETO",Loaded:"Carregado",Progress:"Progresso",Fullscreen:"Ecr Inteiro","Non-Fullscreen":"Sair de Ecr Inteiro",Mute:"Desativar Som",Unmuted:"Som ativado","Playback Rate":"Taxa de Reproduo",Subtitles:"Legendas","Subtitles Off":"legendas desativadas",Captions:"Legendas","Captions Off":"legendas desligadas",Chapters:"Captulos",Off:"Desligado",Quality:"Qualidade",Auto:"Automtico","Audio Tracks":"Faixas de udio",default:"predefinio","Cast To Device":"Transmitir em Dispositivo",Share:"Partilhar",Volume:"Volume","Playback Speed":"Velocidade de Reproduo","Video Quality":"Qualidade do Vdeo","Closed Captioning":"Legendagem de udio","Share Video":"Partilhar Vdeo","Next Track":"Faixa Seguinte","Previous Track":"Faixa Anterior","Skip Forward":"Para a Frente","Skip Backward":"Para Trs","Fast Forward":"Avanar",Rewind:"Recuar","Next Frame":"Fotograma Seguinte","Previous Frame":"Fotograma Anterior",Settings:"Definies",Options:"Opes","More Options":"Mais Opes",Zoom:"Zoom","Zoom In":"Ampliar","Zoom Out":"Reduzir","Audio Only":"Apenas udio","Picture in Picture":"Imagem na Imagem","Camera Angle":"ngulo da Cmara",MEDIA_ERR_ABORTED:"Reproduo de vdeo abortada.",MEDIA_ERR_NETWORK:"A transferncia do vdeo parou a meio devido a um erro de rede. Verifique a ligao de rede ou tente novamente mais tarde.",MEDIA_ERR_DECODE:"No foi possvel carregar o vdeo. Ocorreu uma falha no servidor ou na rede ou o formato no  suportado.",MEDIA_ERR_SRC_NOT_SUPPORTED:"A reproduo do vdeo foi abortada devido a um problema de danificao ou porque o vdeo utiliza funcionalidades que o seu browser no suporta.",MEDIA_ERR_ENCRYPTED:"No  possvel desencriptar a origem de vdeo encriptada.",SRC_PLAYER_MISMATCH:"No foi encontrada uma origem compatvel para o ambiente de browser atual.",MEDIA_ERR_UNKNOWN:"Ocorreu um erro desconhecido.",SKIP_AD_COUNTDOWN_FORMAT:"Ignorar anncio em {0}...",SKIP:"Ignorar",AD_TIMING_INFO:"Anncio {0} segundos","Media Player":"Leitor de Multimdia","Play Video":"Reproduzir Vdeo",Foreground:"Primeiro Plano",White:"Branco",Black:"Preto",Red:"Vermelho",Green:"Verde",Blue:"Azul",Yellow:"Amarelo",Magenta:"Magenta",Cyan:"Turquesa",Opaque:"Opaco","Semi-Opaque":"Semi-opaco",Transparent:"Transparente",Window:"Janela","Font Size":"Tamanho do Tipo de Letra","Text Edge Style":"Estilo do Contorno do Texto",None:"Nenhum",Raised:"Alto Relevo",Depressed:"Baixo Relevo",Uniform:"Uniforme",Dropshadow:"Sombra","Font Family":"Famlia de Tipos de Letra","Monospace Serif":"Serif No Proporcional","Proportional Serif":"Serif Proporcional","Monospace Sans-Serif":"Sans-Serif No Proporcional","Proportional Sans-Serif":"Sans-Serif Proporcional",Casual:"Casual",Script:"Script","Small Caps":"Maisculas Pequenas",Defaults:"Predefinies",Done:"Concludo",Link:"Ligar",Embed:"Incorporar",Close:"Fechar",Copy:"Copiar","Copy Url":"Copiar URL","Embed Code":"Cdigo de Incorporao",English:"Ingls","volume level":"nvel do volume","video progress bar":"barra de progresso do vdeo","playback speed level":"nvel da velocidade de reproduo","Dolby Digital":"Dolby Digital",Stereo:"Estreo","Captions Menu":"Menu de Legendas de udio","Subtitles Menu":"Menu de Legendas","Need Text":"Necessita de Texto"},t.default.prototype.options_.languages.pt=t.default.prototype.options_.languages["pt-pt"]},{"../video.js/src/js/player.js":210}],135:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.ro={Play:"Redare",Pause:"Pauz","Current Time":"Ora curent","Duration Time":"Durata de timp","Remaining Time":"Timp rmas","Stream Type":"Tip de flux",LIVE:"LIVE",Loaded:"ncrcat",Progress:"Progres",Fullscreen:"Ecran complet","Non-Fullscreen":"Nu este pe ecran complet",Mute:"Fr sunet",Unmuted:"Sunet reactivat","Playback Rate":"Rat de redare",Subtitles:"Subtitrri","Subtitles Off":"subtitrri dezactivate",Captions:"Legende","Captions Off":"legende dezactivate",Chapters:"Capitole",Off:"Dezactivat",Quality:"Calitate",Auto:"Auto","Audio Tracks":"Piese audio",default:"implicit","Cast To Device":"Difuzare la dispozitiv",Share:"Partajare",Volume:"Volum","Playback Speed":"Vitez de redare","Video Quality":"Calitate video","Closed Captioning":"Subtitrare complex","Share Video":"Partajare video","Next Track":"Piesa urmtoare","Previous Track":"Piesa anterioar","Skip Forward":"Salt nainte","Skip Backward":"Salt napoi","Fast Forward":"Derulare rapid",Rewind:"Derulare napoi","Next Frame":"Cadrul urmtor","Previous Frame":"Cadrul anterior",Settings:"Setri",Options:"Opiuni","More Options":"Mai multe opiuni",Zoom:"Zoom","Zoom In":"Mrire","Zoom Out":"Micorare","Audio Only":"Doar audio","Picture in Picture":"Imagine n imagine","Camera Angle":"Unghi camer",MEDIA_ERR_ABORTED:"Redare video anulat",MEDIA_ERR_NETWORK:"O eroare de reea a determinat nereuita parial a descrcrii videoclipului. Verificai conexiunea la reea sau ncercai din nou mai trziu.",MEDIA_ERR_DECODE:"Videoclipul nu a putut fi ncrcat din cauza unei erori de server sau reea sau pentru c formatul nu este acceptat.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Redarea video a fost abandonat din cauza unei probleme de deteriorare sau pentru c videoclipul a utilizat caracteristici pe care browserul nu le accept.",MEDIA_ERR_ENCRYPTED:"Nu se poate decripta sursa video criptat.",SRC_PLAYER_MISMATCH:"Nu s-a gsit nicio surs compatibil pentru mediul de browser curent.",MEDIA_ERR_UNKNOWN:"Eroare necunoscut",SKIP_AD_COUNTDOWN_FORMAT:"Ignorai publicitatea n {0}...",SKIP:"Ignorai",AD_TIMING_INFO:"Publicitate - {0} secunde","Media Player":"Player media","Play Video":"Redare video",Foreground:"Prim plan",White:"Alb",Black:"Negru",Red:"Rou",Green:"Verde",Blue:"Albastru",Yellow:"Galben",Magenta:"Fucsia",Cyan:"Bleu",Opaque:"Opac","Semi-Opaque":"Semiopac",Transparent:"Transparent",Window:"Fereastr","Font Size":"Dimensiune font","Text Edge Style":"Stil muchie text",None:"Fr",Raised:"Ridicat",Depressed:"Presat",Uniform:"Uniform",Dropshadow:"Umbr czut","Font Family":"Familie de fonturi","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Script","Small Caps":"Majuscule reduse",Defaults:"Valori implicite",Done:"Gata",Link:"Link",Embed:"ncorporare",Close:"nchidere",Copy:"Copiere","Copy Url":"Copiere URL","Embed Code":"Cod de ncorporare",English:"Englez","volume level":"nivel volum","video progress bar":"bar de progres video","playback speed level":"nivel vitez de redare","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meniul Legende","Subtitles Menu":"Meniul Subtitrri","Need Text":"Text necesar"}},{"../video.js/src/js/player.js":210}],136:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.ru={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:" ",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:".",Quality:"",Auto:"","Audio Tracks":" ",default:" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"        .       .",MEDIA_ERR_DECODE:"    -        -  .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    -      ,    ,     .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:"       .",MEDIA_ERR_UNKNOWN:"  .",SKIP_AD_COUNTDOWN_FORMAT:"   {0}",SKIP:"",AD_TIMING_INFO:": {0} ","Media Player":" ","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:" ","Font Family":" ","Monospace Serif":"  ","Proportional Serif":"  ","Monospace Sans-Serif":"  ","Proportional Sans-Serif":"  ",Casual:"",Script:"","Small Caps":" ",Defaults:"  ",Done:"",Link:" ",Embed:"",Close:"",Copy:"","Copy Url":" URL-","Embed Code":"  ",English:"  ","volume level":" ","video progress bar":"  ","playback speed level":" ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":" ","Subtitles Menu":" ","Need Text":" "}},{"../video.js/src/js/player.js":210}],137:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.sk={Play:"Prehra",Pause:"Pozastavi","Current Time":"Aktulny as","Duration Time":"as trvania","Remaining Time":"Zostvajci as","Stream Type":"Typ streamu",LIVE:"NAIVO",Loaded:"Natan",Progress:"Priebeh",Fullscreen:"Na cel obrazovku","Non-Fullscreen":"Nie na cel obrazovku",Mute:"Stlmi",Unmuted:"So zruenm stlmenm","Playback Rate":"Rchlos prehrvania",Subtitles:"Titulky","Subtitles Off":"vypnut titulky",Captions:"Popisy","Captions Off":"vypnut popisy",Chapters:"Kapitoly",Off:"Vypnut",Quality:"Kvalita",Auto:"Automaticky","Audio Tracks":"Zvukov stopy",default:"predvolen hodnota","Cast To Device":"Vysielanie do zariadenia",Share:"Zdiea",Volume:"Hlasitos","Playback Speed":"Rchlos prehrvania","Video Quality":"Kvalita videa","Closed Captioning":"Skryt titulkovanie","Share Video":"Zdiea video","Next Track":"Nasledujca stopa","Previous Track":"Predchdzajca stopa","Skip Forward":"Preskoi dopredu","Skip Backward":"Preskoi dozadu","Fast Forward":"Posun dopredu",Rewind:"Posun dozadu","Next Frame":"Nasledujca snmka","Previous Frame":"Predchdzajca snmka",Settings:"Nastavenia",Options:"Monosti","More Options":"alie monosti",Zoom:"Lupa","Zoom In":"Pribli","Zoom Out":"Vzdiali","Audio Only":"Iba zvuk","Picture in Picture":"Obraz vobraze","Camera Angle":"Uhol kamery",MEDIA_ERR_ABORTED:"Prehrvanie videa bolo preruen.",MEDIA_ERR_NETWORK:"Chyba siete spsobila zlyhanie poas sahovania videa. Skontrolujte sieov pripojenie alebo to skste znova neskr.",MEDIA_ERR_DECODE:"Video sa nepodarilo nata. Dvodom je bu zlyhanie servera alebo siete, alebo nepodporovan formt.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Prehrvanie videa bolo preruen zdvodu problmu spsobenho pokodenm alebo preto, lebo sa vo videu pouvali funkcie, ktor v prehliada nepodporoval.",MEDIA_ERR_ENCRYPTED:"Nie je mon deifrova zaifrovan zdroj videa.",SRC_PLAYER_MISMATCH:"Nenaiel sa kompatibiln zdroj pre aktulne prostredie prehliadaa.",MEDIA_ERR_UNKNOWN:"Vyskytla sa neznma chyba",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi reklamu o {0}...",SKIP:"Preskoi",AD_TIMING_INFO:"{0}-sekundov reklama","Media Player":"Prehrva mdi","Play Video":"Prehra video",Foreground:"Popredie",White:"Biela",Black:"ierna",Red:"erven",Green:"Zelen",Blue:"Modr",Yellow:"lt",Magenta:"Purpurov",Cyan:"Azrov",Opaque:"Nepriehadn","Semi-Opaque":"iastone priehadn",Transparent:"Priehadn",Window:"Okno","Font Size":"Vekos psma","Text Edge Style":"tly okrajov textu",None:"iadny",Raised:"Zven",Depressed:"Znen",Uniform:"Jednotn",Dropshadow:"Tieovan","Font Family":"Sria psiem","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Neformlne",Script:"Skriptov","Small Caps":"Kapitlky",Defaults:"Predvolen",Done:"Hotovo",Link:"Prepojenie",Embed:"Vloi",Close:"Zavrie",Copy:"Koprova","Copy Url":"Koprova URL adresu","Embed Code":"Vloi kd",English:"Anglitina","volume level":"rove hlasitosti","video progress bar":"indiktor priebehu videa","playback speed level":"rove rchlosti prehrvania","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Ponuka popisov","Subtitles Menu":"Ponuka titulkov","Need Text":"Potrebn text"}},{"../video.js/src/js/player.js":210}],138:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.sl={Play:"Predvajaj",Pause:"Premor","Current Time":"Trenutni as","Duration Time":"as trajanja","Remaining Time":"Preostali as","Stream Type":"Vrsta pretoka",LIVE:"V IVO",Loaded:"Naloeno",Progress:"Napredek",Fullscreen:"Celozaslonski nain","Non-Fullscreen":"Ni v celozaslonskem nainu",Mute:"Zvok je izklopljen",Unmuted:"Zvok je vklopljen","Playback Rate":"Hitrost predvajanja",Subtitles:"Podnaslovi","Subtitles Off":"podnaslovi so izklopljeni",Captions:"Napisi","Captions Off":"napisi so izklopljeni",Chapters:"Poglavja",Off:"Izklopljeno",Quality:"Kakovost",Auto:"Samodejno","Audio Tracks":"Zvoni posnetki",default:"privzeto","Cast To Device":"Predvajaj v napravo",Share:"Skupna raba",Volume:"Glasnost","Playback Speed":"Hitrost predvajanja","Video Quality":"Kakovost videa","Closed Captioning":"Razirjeni podnapisi","Share Video":"Skupna raba videa","Next Track":"Naslednja skladba","Previous Track":"Prejnja skladba","Skip Forward":"Skoi naprej","Skip Backward":"Skoi nazaj","Fast Forward":"Hitro naprej",Rewind:"Hitro nazaj","Next Frame":"Naslednji okvir","Previous Frame":"Prejnji okvir",Settings:"Nastavitve",Options:"Monosti","More Options":"Dodatne monosti",Zoom:"Poveava","Zoom In":"Poveava","Zoom Out":"Pomanjava","Audio Only":"Samo zvok","Picture in Picture":"Slika v sliki","Camera Angle":"Kot fotoaparata",MEDIA_ERR_ABORTED:"Preklic predvajanja videa.",MEDIA_ERR_NETWORK:"Zaradi napake omreja je prilo med prenosom videa do napake. Preverite omreno povezave ali poskusite znova pozneje.",MEDIA_ERR_DECODE:"Videa ni mogoe naloiti, bodisi zato, ker je prilo do napake v streniku ali omreju, bodisi zato, ker oblika zapisa ni podprta.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Predvajanje videa je bilo prekinjeno, ker je prilo do teave zaradi ali ker video uporablja funkcije, ki jih brskalnik ne podpira.",MEDIA_ERR_ENCRYPTED:"ifriranega vira videa ni mogoe deifrirati.",SRC_PLAYER_MISMATCH:"Ni mogoe najti zdruljivega vira videa za trenutno okolje brskalnika.",MEDIA_ERR_UNKNOWN:"Prilo je do neznane napake",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi oglas ez {0} ...",SKIP:"Preskoi",AD_TIMING_INFO:"{0}-sekundni oglas","Media Player":"Media Player","Play Video":"Predvajaj video",Foreground:"Ospredje",White:"Bela",Black:"rna",Red:"Rdea",Green:"Zelena",Blue:"Modra",Yellow:"Rumena",Magenta:"Magenta",Cyan:"Cijan",Opaque:"Neprozorno","Semi-Opaque":"Delno neprozorno",Transparent:"Prosojno",Window:"Okno","Font Size":"Velikost pisave","Text Edge Style":"Slog besedila roba",None:"Brez",Raised:"Dvignjeno",Depressed:"Pritisnjeno",Uniform:"Enotno",Dropshadow:"Spustna senca","Font Family":"Druina pisav","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Vsakdanje",Script:"Skript","Small Caps":"Pomanjane velike rke",Defaults:"Privzete nastavitve",Done:"Dokonano",Link:"Povezava",Embed:"Vdelaj",Close:"Zapri",Copy:"Kopiraj","Copy Url":"Kopiraj URL","Embed Code":"Vdelana koda",English:"angleina","volume level":"glasnost","video progress bar":"vrstica napredovanja videoposnetka","playback speed level":"hitrost predvajanja","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meni z napisi","Subtitles Menu":"Meni s podnaslovi","Need Text":"Obvezno besedilo"},t.default.prototype.options_.languages["sl-si"]=t.default.prototype.options_.languages.sl},{"../video.js/src/js/player.js":210}],139:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages["sr-cyrl-cs"]={Play:"",Pause:"","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":" ",LIVE:"",Loaded:"",Progress:"",Fullscreen:" ","Non-Fullscreen":"   ",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":"  ",Captions:"","Captions Off":"  ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":"  ",Share:"",Volume:" ","Playback Speed":" ","Video Quality":"  ","Closed Captioning":" ","Share Video":" ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":"  ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"MEDIA_ERR_ABORTED",MEDIA_ERR_NETWORK:"MEDIA_ERR_NETWORK",MEDIA_ERR_DECODE:"MEDIA_ERR_DECODE",MEDIA_ERR_SRC_NOT_SUPPORTED:"MEDIA_ERR_SRC_NOT_SUPPORTED",MEDIA_ERR_ENCRYPTED:"MEDIA_ERR_ENCRYPTED",SRC_PLAYER_MISMATCH:"SRC_PLAYER_MISMATCH",MEDIA_ERR_UNKNOWN:"MEDIA_ERR_UNKNOWN",SKIP_AD_COUNTDOWN_FORMAT:"   {0}...",SKIP:"",AD_TIMING_INFO:"  : {0}"}},{"../video.js/src/js/player.js":210}],140:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages["sr-latn-rs"]={Play:"Reprodukuj",Pause:"Pauziraj","Current Time":"Trenutno vreme","Duration Time":"Vreme trajanja","Remaining Time":"Preostalo vreme","Stream Type":"Tip toka",LIVE:"UIVO",Loaded:"Uitano",Progress:"Tok",Fullscreen:"Preko celog ekrana","Non-Fullscreen":"Nije preko celog ekrana",Mute:"Privremeno iskljui",Unmuted:"Ponovo ukljueno","Playback Rate":"Stopa reprodukcije",Subtitles:"Titl","Subtitles Off":"titl je iskljuen",Captions:"Natpisi","Captions Off":"natpisi su iskljueni",Chapters:"Poglavlja",Off:"Iskljueno",Quality:"Kvalitet",Auto:"Automatski","Audio Tracks":"Audio zapisi",default:"podrazumevano","Cast To Device":"Prebaci na ureaj",Share:"Deli",Volume:"Jaina zvuka","Playback Speed":"Brzina reprodukcije","Video Quality":"Kvalitet video zapisa","Closed Captioning":"Skriveni titlovi","Share Video":"Deli video","Next Track":"Sledei zapis","Previous Track":"Prethodni zapis","Skip Forward":"Preskoi unapred","Skip Backward":"Preskoi unazad","Fast Forward":"Premotaj unapred",Rewind:"Premotaj unazad","Next Frame":"Sledei okvir","Previous Frame":"Prethodni okvir",Settings:"Postavke",Options:"Opcije","More Options":"Jo opcija",Zoom:"Zumiraj","Zoom In":"Uveaj","Zoom Out":"Umanji","Audio Only":"Samo zvuk","Picture in Picture":"Slika u slici","Camera Angle":"Ugao kamere",MEDIA_ERR_ABORTED:"Reprodukcija video zapisa je prekinuta.",MEDIA_ERR_NETWORK:"Usled greke na mrei dolo je do otkazivanja tokom preuzimanja video zapisa. Proverite mrenu vezu ili pokuajte ponovo kasnije.",MEDIA_ERR_DECODE:"Nije mogue preuzeti video zbog toga to je dolo do otkazivanja na serveru ili mrei ili zbog toga to format nije podran.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Reprodukcija video zapisa je prekinuta zbog problema sa oteenjem ili zbog toga to video koristi funkcije koje pregleda ne podrava.",MEDIA_ERR_ENCRYPTED:"Nije mogue deifrovati ifrovani izvor video zapisa.",SRC_PLAYER_MISMATCH:"Za aktuelno okruenje pregledaa nije pronaen nijedan kompatibilan izvor.",MEDIA_ERR_UNKNOWN:"Dolo je do nepoznate greke",SKIP_AD_COUNTDOWN_FORMAT:"Preskoi oglas za {0}...",SKIP:"Preskoi",AD_TIMING_INFO:"Oglas traje sekundi: {0}","Media Player":"Media Player","Play Video":"Reprodukuj video",Foreground:"Prednji plan",White:"Bela",Black:"Crna",Red:"Crvena",Green:"Zelena",Blue:"Plava",Yellow:"uta",Magenta:"Magenta",Cyan:"Cijan",Opaque:"Neprozirno","Semi-Opaque":"Poluprozirno",Transparent:"Prozirno",Window:"Prozor","Font Size":"Veliina fonta","Text Edge Style":"Stil ivice teksta",None:"Nijedno",Raised:"Izdignuto",Depressed:"Utisnuto",Uniform:"Podjednako",Dropshadow:"Efekat senke","Font Family":"Porodica fontova","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"Skripta","Small Caps":"Mala slova",Defaults:"Podrazumevane vrednosti",Done:"Gotovo",Link:"Veza",Embed:"Ugradi",Close:"Zatvori",Copy:"Kopiranje","Copy Url":"Kopiraj Url","Embed Code":"Ugradi kd",English:"engleski","volume level":"nivo jaine zvuka","video progress bar":"traka toka video snimka","playback speed level":"brzina reprodukcije","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meni Natpisi","Subtitles Menu":"Meni Titl","Need Text":"Potreban je tekst"},t.default.prototype.options_.languages.sr=t.default.prototype.options_.languages["sr-latn-rs"]},{"../video.js/src/js/player.js":210}],141:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.sv={Play:"Spela upp",Pause:"Pausa","Current Time":"Aktuell tid","Duration Time":"Varaktighet","Remaining Time":"terstende tid","Stream Type":"Strmtyp",LIVE:"LIVE",Loaded:"Inlst",Progress:"Frlopp",Fullscreen:"Helskrm","Non-Fullscreen":"Ej helskrm",Mute:"Ljud av",Unmuted:"Ljud p","Playback Rate":"Uppspelningshastighet",Subtitles:"Textning","Subtitles Off":"Textning av",Captions:"Bildtexter","Captions Off":"Bildtexter av",Chapters:"Kapitel",Off:"Av",Quality:"Kvalitet",Auto:"Auto","Audio Tracks":"Ljudspr",default:"standard","Cast To Device":"Snd till enhet",Share:"Dela",Volume:"Volym","Playback Speed":"Uppspelningshastighet","Video Quality":"Videokvalitet","Closed Captioning":"Textning","Share Video":"Dela video","Next Track":"Nsta spr","Previous Track":"Fregende spr","Skip Forward":"Hoppa framt","Skip Backward":"Hoppa bakt","Fast Forward":"Snabbspola framt",Rewind:"Bakt","Next Frame":"Nsta bildruta","Previous Frame":"Fregende bildruta",Settings:"Instllningar",Options:"Alternativ","More Options":"Fler alternativ",Zoom:"Zooma","Zoom In":"Zooma in","Zoom Out":"Zooma ut","Audio Only":"Endast ljud","Picture in Picture":"Bild-i-bild","Camera Angle":"Kameravinkel",MEDIA_ERR_ABORTED:"Videouppspelning avbruten.",MEDIA_ERR_NETWORK:"Ett ntverksfel gjorde att hmtningen av videon avbrts. Kontrollera din ntverksanslutning och frsk igen senare.",MEDIA_ERR_DECODE:"Det gick inte att lsa in den hr videon. Det kan bero p att servern eller ntverket inte fungerade eller p att formatet inte stds.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Videouppspelningen avbrts pga att den var skadad eller drfr att videon anvnder funktioner som din webblsare inte stder.",MEDIA_ERR_ENCRYPTED:"Det gick inte att dekryptera den krypterade videokllan.",SRC_PLAYER_MISMATCH:"Ingen kompatibel klla har hittats fr den aktuella webblsarmiljn.",MEDIA_ERR_UNKNOWN:"Det har uppsttt ett ovntat fel.",SKIP_AD_COUNTDOWN_FORMAT:"Hoppa ver reklamen om {0}...",SKIP:"Hoppa ver",AD_TIMING_INFO:"Reklam {0} sekunder","Media Player":"Media Player","Play Video":"Spela upp video",Foreground:"Frgrund",White:"Vit",Black:"Svart",Red:"Rd",Green:"Grn",Blue:"Bl",Yellow:"Gul",Magenta:"Magenta",Cyan:"Cyan",Opaque:"Tckande","Semi-Opaque":"Halvtckande",Transparent:"Transparent",Window:"Fnster","Font Size":"Teckenstorlek","Text Edge Style":"Textkantsformat",None:"Inget",Raised:"Upphjt",Depressed:"Nedsnkt",Uniform:"Enhetligt",Dropshadow:"Skugga","Font Family":"Teckensnittsfamilj","Monospace Serif":"Fast bredd, serif","Proportional Serif":"Proportionerligt, serif","Monospace Sans-Serif":"Fast bredd, sans-serif","Proportional Sans-Serif":"Proportionerligt, sans-serif",Casual:"Enstaka",Script:"Skript","Small Caps":"Kapitler",Defaults:"Standard",Done:"Klart",Link:"Lnk",Embed:"Bdda in",Close:"Stnga",Copy:"Kopiera","Copy Url":"Kopiera URL","Embed Code":"Bdda in kod",English:"Engelska","volume level":"volymniv","video progress bar":"frloppsindikator fr video","playback speed level":"hastighetsniv fr uppspelning","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Meny fr beskrivningar","Subtitles Menu":"Meny fr undertexter","Need Text":"Behver text"},t.default.prototype.options_.languages["sv-se"]=t.default.prototype.options_.languages.sv},{"../video.js/src/js/player.js":210}],142:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.th={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","Subtitles Off":"",Captions:"","Captions Off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"",default:"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"/","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:" ",MEDIA_ERR_DECODE:"  ",MEDIA_ERR_SRC_NOT_SUPPORTED:" ",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:" {0}...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":"","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Casual",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" Url","Embed Code":"",English:"","volume level":"","video progress bar":"","playback speed level":"","Dolby Digital":" Dolby ",Stereo:"","Captions Menu":"","Subtitles Menu":"","Need Text":""}},{"../video.js/src/js/player.js":210}],143:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.tl={Play:"I-play",Pause:"I-pause","Current Time":"Kasalukuyang Oras","Duration Time":"Oras ng Tagal","Remaining Time":"Nalalabing Oras","Stream Type":"Uri ng Stream",LIVE:"Live",Loaded:"Loaded",Progress:"Progreso",Fullscreen:"Fullscreen","Non-Fullscreen":"Hindi-Fullscreen",Mute:"I-mute",Unmuted:"I-unmute","Playback Rate":"Rate ng Playback",Subtitles:"Mga subtitle","Subtitles Off":"Naka-off ang subtitle",Captions:"Mga Caption","Captions Off":"Naka-off ang Caption",Chapters:"Mga chapter",Off:"I-off",Quality:"Kalidad",Auto:"Awto","Audio Tracks":"Mga Track ng Audio",default:"default","Cast To Device":"I-Cast Sa Device",Share:"Ibahagi",Volume:"Volume","Playback Speed":"Bilis ng Playback","Video Quality":"Kalidad ng Video","Closed Captioning":"Isara ang Captioning","Share Video":"Ibahagi ang Video","Next Track":"Susunod na Track","Previous Track":"Nakaraang Track","Skip Forward":"I-skip Pauna","Skip Backward":"I-skip Pabalik","Fast Forward":"I-fast forwarf",Rewind:"I-rewind","Next Frame":"Susunod na Frame","Previous Frame":"Nakaraang Frame",Settings:"Mga Setting",Options:"Mga Opsyon","More Options":"Iba Pang Mga Opsyon",Zoom:"I-zoom","Zoom In":"I-zoom in","Zoom Out":"I-zoom out","Audio Only":"Audio Lamang","Picture in Picture":"Larawan sa Larawan","Camera Angle":"Anggulo ng Camera",MEDIA_ERR_ABORTED:"Nahinto ang playback ng video",MEDIA_ERR_NETWORK:"Ang error sa network ang dahilan kung bakit nabigo ang pag-download ng video. Pakitingnan ang konkesyon ng iyong network at subukang muli.",MEDIA_ERR_DECODE:"Hindi mai-load ang video, marahil dahil nabigo ang server o network o dahil hindi suportado ang format.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Nahinto ang playback ng video dahil sa sa pagkasira o dahil hindi suportado ng browser ang video ng ginamit na mga tampok.",MEDIA_ERR_ENCRYPTED:"Hindi ma-decrypt ang source ng naka-encrypt na video.",SRC_PLAYER_MISMATCH:"Walang nakitang tugmang source para sa kasalukuyang browser.",MEDIA_ERR_UNKNOWN:"May nangyaring hindi kilalang error"},t.default.prototype.options_.languages["tl-ph"]=t.default.prototype.options_.languages.tl},{"../video.js/src/js/player.js":210}],144:[function(e){"use strict";(function(e){return e&&e.__esModule?e:{default:e}})(e("../video.js/src/js/player.js")).default.prototype.options_.languages.tr={Play:"Yrt",Pause:"Duraklat","Current Time":"Geerli Zaman","Duration Time":"Sre","Remaining Time":"Kalan Sre","Stream Type":"Ak Tr",LIVE:"CANLI",Loaded:"Yklendi",Progress:"lerleme Durumu",Fullscreen:"Tam Ekran","Non-Fullscreen":"Tam Ekrandan k",Mute:"Sessiz",Unmuted:"Ses Ak","Playback Rate":"Kayttan Yrtme Hz",Subtitles:"Alt Yazlar","Subtitles Off":"alt yazlar kapal",Captions:"Aklamal Alt Yazlar","Captions Off":"aklamal alt yazlar kapal",Chapters:"Blmler",Off:"Kapal",Quality:"Kalite",Auto:"Otomatik","Audio Tracks":"Ses Paralar",default:"varsaylan","Cast To Device":"Cihazda Yaynla",Share:"Payla",Volume:"Ses Dzeyi","Playback Speed":"Kayttan Yrtme Hz","Video Quality":"Video Kalitesi","Closed Captioning":"Kapal Aklamal Alt Yaz","Share Video":"Videoyu Payla","Next Track":"Sonraki para","Previous Track":"nceki Para","Skip Forward":"leri Atla","Skip Backward":"Geri Atla","Fast Forward":"leri Sar",Rewind:"Geri Sar","Next Frame":"Sonraki Kare","Previous Frame":"nceki Kare",Settings:"Ayarlar",Options:"Seenekler","More Options":"Tm Seenekler",Zoom:"Yaknlatr","Zoom In":"Yaknlatr","Zoom Out":"Uzaklatr","Audio Only":"Yalnzca Ses","Picture in Picture":"Resim inde Resim","Camera Angle":"Kamera As",MEDIA_ERR_ABORTED:"Video kayttan yrtme durduruldu.",MEDIA_ERR_NETWORK:"Video indirme ilemi bir a hatas nedeniyle ksmen baarsz oldu. Ltfen a balantsn kontrol edin veya daha sonra yeniden deneyin.",MEDIA_ERR_DECODE:"Sunucu veya a baarsz olduundan ya da biim desteklenmediinden video yklenemedi.",MEDIA_ERR_SRC_NOT_SUPPORTED:"Bir bozulma sorunu ya da videoda taraycnz tarafndan desteklenmeyen zelliklerin kullanlmas nedeniyle video kayttan yrtme durduruldu.",MEDIA_ERR_ENCRYPTED:"ifreli video kaynann ifresi zlemedi.",SRC_PLAYER_MISMATCH:"Geerli tarayc ortamyla uyumlu kaynak bulunamad.",MEDIA_ERR_UNKNOWN:"Bilinmeyen bir hata olutu.",SKIP_AD_COUNTDOWN_FORMAT:"{0} sn iinde reklam atla",SKIP:"Atla",AD_TIMING_INFO:"Reklam {0} saniye","Media Player":"Media Player","Play Video":"Videoyu Oynat",Foreground:"n plan",White:"Beyaz",Black:"Siyah",Red:"Krmz",Green:"Yeil",Blue:"Mavi",Yellow:"Sar",Magenta:"Eflatun",Cyan:"Camgbei",Opaque:"Mat","Semi-Opaque":"Yar mat",Transparent:"Saydam",Window:"Pencere","Font Size":"Yaz Tipi Boyutu","Text Edge Style":"Metin Kenar Stili",None:"Hibiri",Raised:"Ykseltilmi",Depressed:"Bastrlm",Uniform:"Tekdzen",Dropshadow:"Glgeli","Font Family":"Yaz Tipi Ailesi","Monospace Serif":"Tek Aralkl Trnakl","Proportional Serif":"Orantl Trnakl","Monospace Sans-Serif":"Tek Aralkl Trnaksz","Proportional Sans-Serif":"Orantl Trnaksz",Casual:"Gnlk",Script:"El Yazs","Small Caps":"Kk Byk Harf",Defaults:"Varsaylanlar",Done:"Bitti",Link:"Balant",Embed:"Ekle",Close:"Kapat",Copy:"Kopyala","Copy Url":"URLyi Kopyala","Embed Code":"Ekleme Kodu",English:"ngilizce","volume level":"ses dzeyi","video progress bar":"video ilerleme ubuu","playback speed level":"kayttan yrtme hz","Dolby Digital":"Dolby Digital",Stereo:"Stereo","Captions Menu":"Aklamal Alt Yaz Mens","Subtitles Menu":"Alt Yaz Mens","Need Text":"Metin Gerekiyor"}},{"../video.js/src/js/player.js":210}],145:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.uk={Play:"",Pause:"","Current Time":" ","Duration Time":"","Remaining Time":" ","Stream Type":" ",LIVE:"LIVE",Loaded:"",Progress:" ",Fullscreen:"","Non-Fullscreen":"",Mute:" ",Unmuted:" ","Playback Rate":" ",Subtitles:"","Subtitles Off":" ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"",default:" ","Cast To Device":"  ",Share:" ",Volume:"","Playback Speed":" ","Video Quality":" ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":" ","Skip Backward":" ","Fast Forward":" ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"  .",MEDIA_ERR_NETWORK:"      .        .",MEDIA_ERR_DECODE:"        ,    .",MEDIA_ERR_SRC_NOT_SUPPORTED:"    ,     ,      .",MEDIA_ERR_ENCRYPTED:"     .",SRC_PLAYER_MISMATCH:" ,     .",MEDIA_ERR_UNKNOWN:"  ",SKIP_AD_COUNTDOWN_FORMAT:"    {0}",SKIP:"",AD_TIMING_INFO:": {0} ","Media Player":"","Play Video":" ",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":" ","Text Edge Style":"  ",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":" ","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"",Script:"","Small Caps":"  ",Defaults:" ",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" URL-","Embed Code":" ",English:"","volume level":" ","video progress bar":"  ","playback speed level":" ","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"  ()","Subtitles Menu":"  ()","Need Text":" "},t.default.prototype.options_.languages["uk-ua"]=t.default.prototype.options_.languages.uk},{"../video.js/src/js/player.js":210}],146:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.ur={Play:"",Pause:" ","Current Time":" ","Duration Time":" ","Remaining Time":" ","Stream Type":"  ",LIVE:"",Loaded:" ",Progress:"",Fullscreen:" ","Non-Fullscreen":" ",Mute:" ",Unmuted:"  ","Playback Rate":"   ",Subtitles:" ","Subtitles Off":"  ",Captions:"","Captions Off":" ",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":" ",default:"","Cast To Device":"   ",Share:" ",Volume:"","Playback Speed":"  ","Video Quality":"  ","Closed Captioning":" ","Share Video":"   ","Next Track":" ","Previous Track":" ","Skip Forward":"  ","Skip Backward":"  ","Fast Forward":"   ",Rewind:" ","Next Frame":" ","Previous Frame":" ",Settings:"",Options:"","More Options":" ",Zoom:"","Zoom In":" ","Zoom Out":" ","Audio Only":" ","Picture in Picture":"  ","Camera Angle":" ",MEDIA_ERR_ABORTED:"       ",MEDIA_ERR_NETWORK:"                       ",MEDIA_ERR_DECODE:"                   ",MEDIA_ERR_SRC_NOT_SUPPORTED:"                             ",MEDIA_ERR_ENCRYPTED:"          ",SRC_PLAYER_MISMATCH:"         ",MEDIA_ERR_UNKNOWN:"    ",SKIP_AD_COUNTDOWN_FORMAT:"  {0}...  ",SKIP:"",AD_TIMING_INFO:" {0} "},t.default.prototype.options_.languages["ur-pk"]=t.default.prototype.options_.languages.ur},{"../video.js/src/js/player.js":210}],147:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages.vi={Play:"Pht",Pause:"Tm dng","Current Time":"Thi gian Hin ti","Duration Time":"Thi lng","Remaining Time":"Thi gian Cn li","Stream Type":"Kiu Dng",LIVE:"TRC TIP",Loaded:" ti",Progress:"Tin ",Fullscreen:"Ton mn hnh","Non-Fullscreen":"Thot Ton mn hnh",Mute:"Tt ting",Unmuted:" bt ting","Playback Rate":"Tn sut pht li",Subtitles:"Ph ","Subtitles Off":"tt ph ",Captions:"Ph ","Captions Off":"tt ph ",Chapters:"Chng",Off:"Tt",Quality:"Cht lng",Auto:"T ng","Audio Tracks":"Rnh m thanh",default:"mc nh","Cast To Device":"Truyn ti Thit b",Share:"Chia s",Volume:"m lng","Playback Speed":"Tc  Pht li","Video Quality":"Cht lng Video","Closed Captioning":"Ph  Chi tit","Share Video":"Chia s Video","Next Track":"Rnh K","Previous Track":"Rnh Trc","Skip Forward":"Tin Nhanh","Skip Backward":"Li Nhanh","Fast Forward":"Tin Nhanh",Rewind:"Tua li","Next Frame":"Khung K","Previous Frame":"Khung Trc",Settings:"Thit t ",Options:"Ty chn","More Options":"Xem thm Ty chn",Zoom:"Thu phng","Zoom In":"Phng to","Zoom Out":"Thu nh","Audio Only":"Ch m thanh","Picture in Picture":"nh lng nh","Camera Angle":"Gc My",MEDIA_ERR_ABORTED:" hy pht li video.",MEDIA_ERR_NETWORK:"Li mng gy ra do ti xung video tht bi mt phn. Vui lng kim tra kt ni mng ca bn hoc th li sau.",MEDIA_ERR_DECODE:"Khng th ti video do li my ch hoc li mng, hoc do nh dng khng c h tr.",MEDIA_ERR_SRC_NOT_SUPPORTED:" hy pht li video do s c hng hc hoc do video s dng cc tnh nng m trnh duyt ca bn khng h tr.",MEDIA_ERR_ENCRYPTED:"Khng th gii m ngun video c m ha.",SRC_PLAYER_MISMATCH:"Khng tm thy ngun tng thch vi mi trng trnh duyt hin ti.",MEDIA_ERR_UNKNOWN:"Xut hin li cha xc nh",SKIP_AD_COUNTDOWN_FORMAT:"B qua qung co trong {0}...",SKIP:"B qua",AD_TIMING_INFO:"Qung co {0} giy","Media Player":"B pht Phng tin","Play Video":"Pht Video",Foreground:"Mt trc",White:"Trng",Black:"en",Red:"",Green:"Lc",Blue:"Lam",Yellow:"Vng",Magenta:" ti",Cyan:"Lc lam",Opaque:"M","Semi-Opaque":"Bn M",Transparent:"Trong sut",Window:"Ca s","Font Size":"C Phng","Text Edge Style":"Kiu Cnh Vn bn",None:"Khng c",Raised:"Ni",Depressed:"Nn",Uniform:"ng nht",Dropshadow:"Bng th","Font Family":"H Phng","Monospace Serif":"Monospace Serif","Proportional Serif":"Proportional Serif","Monospace Sans-Serif":"Monospace Sans-Serif","Proportional Sans-Serif":"Proportional Sans-Serif",Casual:"Thng thng",Script:"Tp lnh","Small Caps":"Ch hoa Nho",Defaults:"Mc nh",Done:"Hon tt",Link:"Lin kt",Embed:"Nhng",Close:"ng",Copy:"Sao chp","Copy Url":"Sao chp Url","Embed Code":"M Nhng",English:"Ting Anh","volume level":"mc m lng","video progress bar":"thanh tin  video","playback speed level":"mc tc  pht li","Dolby Digital":"Dolby Digital",Stereo:"m thanh ni","Captions Menu":"Menu Ch thch","Subtitles Menu":"Menu Ph ","Need Text":"Cn Vn bn"},t.default.prototype.options_.languages["vi-vn"]=t.default.prototype.options_.languages.vi},{"../video.js/src/js/player.js":210}],148:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages["zh-hans"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","Subtitles Off":"",Captions:"","Captions Off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"",default:"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:"{0} ...",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":"","Monospace Serif":"","Proportional Serif":"","Monospace Sans-Serif":"","Proportional Sans-Serif":"",Casual:"Casual",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" URL","Embed Code":"",English:"","volume level":"","video progress bar":"","playback speed level":"","Dolby Digital":"",Stereo:"","Captions Menu":"","Subtitles Menu":"","Need Text":""},t.default.prototype.options_.languages.zh=t.default.prototype.options_.languages["zh-hans"],t.default.prototype.options_.languages["zh-cn"]=t.default.prototype.options_.languages["zh-hans"]},{"../video.js/src/js/player.js":210}],149:[function(e){"use strict";var t=function(e){return e&&e.__esModule?e:{default:e}}(e("../video.js/src/js/player.js"));t.default.prototype.options_.languages["zh-hant"]={Play:"",Pause:"","Current Time":"","Duration Time":"","Remaining Time":"","Stream Type":"",LIVE:"",Loaded:"",Progress:"",Fullscreen:"","Non-Fullscreen":"",Mute:"",Unmuted:"","Playback Rate":"",Subtitles:"","Subtitles Off":"",Captions:"","Captions Off":"",Chapters:"",Off:"",Quality:"",Auto:"","Audio Tracks":"",default:"","Cast To Device":"",Share:"",Volume:"","Playback Speed":"","Video Quality":"","Closed Captioning":"","Share Video":"","Next Track":"","Previous Track":"","Skip Forward":"","Skip Backward":"","Fast Forward":"",Rewind:"","Next Frame":"","Previous Frame":"",Settings:"",Options:"","More Options":"",Zoom:"","Zoom In":"","Zoom Out":"","Audio Only":"","Picture in Picture":"","Camera Angle":"",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"",MEDIA_ERR_ENCRYPTED:"",SRC_PLAYER_MISMATCH:"",MEDIA_ERR_UNKNOWN:"",SKIP_AD_COUNTDOWN_FORMAT:"{0} ",SKIP:"",AD_TIMING_INFO:" {0} ","Media Player":"","Play Video":"",Foreground:"",White:"",Black:"",Red:"",Green:"",Blue:"",Yellow:"",Magenta:"",Cyan:"",Opaque:"","Semi-Opaque":"",Transparent:"",Window:"","Font Size":"","Text Edge Style":"",None:"",Raised:"",Depressed:"",Uniform:"",Dropshadow:"","Font Family":"","Monospace Serif":"","Proportional Serif":"","Monospace Sans-Serif":"","Proportional Sans-Serif":"",Casual:"",Script:"","Small Caps":"",Defaults:"",Done:"",Link:"",Embed:"",Close:"",Copy:"","Copy Url":" Url","Embed Code":"",English:"","volume level":"","video progress bar":"","playback speed level":"","Dolby Digital":"Dolby Digital",Stereo:"","Captions Menu":"","Subtitles Menu":"","Need Text":""},t.default.prototype.options_.languages["zh-hk"]=t.default.prototype.options_.languages["zh-hant"],t.default.prototype.options_.languages["zh-tw"]=t.default.prototype.options_.languages["zh-hant"]},{"../video.js/src/js/player.js":210}],150:[function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var r=t(e("../video.js/src/js/tech/tech.js")),n=t(e("../video.js/src/js/tech/html5.js"));n.default.prototype.vjsTriggerReady=n.default.prototype.triggerReady,n.default.prototype.triggerReady=function(){this.setupTriggers(),this.vjsTriggerReady()},n.default.prototype.setupTriggers=function(){for(var e=this,t=n.default.Events.length-1;t>=0;t--)this.el_.addEventListener(n.default.Events[t],function(t){e.eventHandler(t)})},n.default.prototype.eventHandler=function(e){"timeupdate"!==e.type&&"progress"!==e.type&&AMP.Logger.verbose(AMP.Logger.Area.html5,"Event: "+e.type),"error"===e.type&&this.error()&&r.default.raiseError.call(this,"html5",this.error().code<<20)},n.default.prototype.vjsSetSrc=n.default.prototype.setSrc,n.default.prototype.setSrc=function(e){AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.vjsSetSrc(e)},n.default.prototype.isLiveStartupError=function(){var e=this.error();return!(!e||0!=e.code<<20)},n.default.prototype.currentAudioStreamList=function(){return this.audioStreamList_||(this.audioStreamList_=new AMP.Html5.AudioStreamList(this)),this.audioStreamList_}},{"../video.js/src/js/tech/html5.js":219,"../video.js/src/js/tech/tech.js":222}],151:[function(e,t,r){"use strict";r.__esModule=!0,r.isSilverlightInstalled=function(e){void 0===e&&(e=null);var t=!1;try{var r=null,i=!1;if(n.default.ActiveXObject)try{r=new n.default.ActiveXObject("AgControl.AgControl"),null===e?t=!0:r.IsVersionSupported(e)&&(t=!0),r=null}catch(e){i=!0}else i=!0;if(i){var o=n.default.navigator.plugins["Silverlight Plug-In"];if(o)if(null===e)t=!0;else{var a=o.description;"1.0.30226.2"===a&&(a="2.0.30226.2");for(var s=a.split(".");s.length>3;)s.pop();for(;s.length<4;)s.push(0);for(var l=e.split(".");l.length>4;)l.pop();var u,c,d=0;do{u=parseInt(l[d]),c=parseInt(s[d]),d++}while(d<l.length&&u===c);c>=u&&!isNaN(u)&&(t=!0)}}}catch(e){t=!1}return t};var n=function(e){return e&&e.__esModule?e:{default:e}}(e("global/window"))},{"global/window":80}],152:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("global/window")),l=i(e("object.assign")),u=i(e("../video.js/src/js/tech/tech.js")),c=i(e("../video.js/src/js/tech/html5.js")),d=i(e("../video.js/src/js/component.js")),p=i(e("../video.js/src/js/player.js")),h=i(e("../video.js/src/js/video.js")),f=n(e("../video.js/src/js/utils/dom.js")),m=n(e("../video.js/src/js/utils/fn.js")),g=n(e("../video.js/src/js/utils/browser.js")),y=n(e("../ampDefs.js")),v=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.manualTimeUpdatesOff();var i=void 0,a=void 0;this.featuresPlaybackRate=c.default.canControlPlaybackRate(),this.fullscreenResize=!0,this.progressEvents=!1,this.volumeControl=!0,i=r.source,this.setControls(!1),AzureHtml5JSTech.Log.setLoggerFunction(AMP.Logger.writeEntry,AMP.Logger.Area.azureHtml5JS),a=AzureHtml5JSTech.CreateAzureHtml5(this.el_.videoTag_),r.staleDataTimeLimitInSec&&a.setStaleDataTimeLimit(r.staleDataTimeLimitInSec),this.mediaPlayer=a,this.options_.muted&&this.setMuted(!0),this.setupTriggers(a),i&&this.src!==i.src&&this.setSrc(i.src),g.TOUCH_ENABLED&&!0===r.nativeControlsForTouch&&this.setControls(!0),this.options_.playerOptions.traceConfig&&AzureHtml5JSTech.Log.setConsoleOutputByLevel(this.options_.playerOptions.traceConfig.maxLogLevel),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){null!==this.mediaPlayer&&(this.mediaPlayer.dispose(),this.mediaPlayer=null),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag,r=e;if(!e||!1===this.movingMediaElementInDOM)if(e){var n=e.cloneNode(!0);e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=f.createEl("div"),r=f.createEl("video");var i=this.options_.tag&&f.getElAttributes(this.options_.tag),o=l.default({},i);f.setElAttributes(r,l.default(o,{id:this.options_.techId,class:"vjs-tech"})),e.appendChild(r),e.videoTag_=r}f.setElAttributes(r,{oncontextmenu:"return false;"}),f.setElAttributes(r,{tabindex:"-1"}),f.setElAttributes(r,{"aria-hidden":"true"});for(var a=["preload","loop"],s=a.length-1;s>=0;s--){var u=a[s],c={};void 0!==this.options_[u]&&(c[u]=this.options_[u]),f.setElAttributes(r,c)}return e},t.prototype.autoplay=function(){return this.mediaPlayer.autoplay},t.prototype.setAutoplay=function(e){this.options_.autoplay=e},t.prototype.buffered=function(){return this.mediaPlayer.buffered},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.currentSrc=function(){return this.src()},t.prototype.isLive=function(){return this.mediaPlayer.isLive},t.prototype.manifestPlayableWindowLength=function(){return this.mediaPlayer.manifestPlayableWindowLength},t.prototype.currentPlayableWindow=function(){return this.mediaPlayer.currentPlayableWindow},t.prototype.segmentBoundaries=function(){return this.mediaPlayer.segmentBoundaries},t.prototype.setCurrentTime=function(e){this.mediaPlayer.currentTime=e},t.prototype.setCurrentAbsoluteTime=function(e){this.mediaPlayer.currentAbsoluteTime=e},t.prototype.currentTime=function(){return this.mediaPlayer.currentTime},t.prototype.currentAbsoluteTime=function(){return this.mediaPlayer.currentAbsoluteTime},t.prototype.currentMediaTime=function(){return this.mediaPlayer.currentMediaTime},t.prototype.currentType=function(){return this.mediaPlayer.type},t.prototype.currentVideoStreamList=function(){return this.mediaPlayer.currentVideoStreamList},t.prototype.currentAudioStreamList=function(){return this.mediaPlayer.currentAudioStreamList},t.prototype.videoBufferData=function(){return this.mediaPlayer.videoBufferData},t.prototype.audioBufferData=function(){return this.mediaPlayer.audioBufferData},t.prototype.currentDownloadBitrate=function(){return this.mediaPlayer.currentDownloadBitrate},t.prototype.currentPlaybackBitrate=function(){return this.mediaPlayer.currentPlaybackBitrate},t.prototype.duration=function(){return this.mediaPlayer.duration},t.prototype.ended=function(){return this.mediaPlayer.ended},t.prototype.isFullScreen=function(){return this.mediaPlayer.isFullScreen},t.prototype.muted=function(){return this.el_.videoTag_.muted||0===this.mediaPlayer.volume},t.prototype.setMuted=function(e){e?(this.el_.videoTag_.muted=!0,this.setVolume(0)):this.el_.videoTag_.muted=!1},t.prototype.paused=function(){return this.mediaPlayer.paused},t.prototype.seeking=function(){return this.mediaPlayer.seeking},t.prototype.src=function(e){return void 0===e?this.mediaPlayer.src:void this.setSrc(e)},t.prototype.volume=function(){return this.mediaPlayer.volume},t.prototype.setVolume=function(e){this.mediaPlayer.volume=e},t.prototype.height=function(e){return void 0===e?this.mediaPlayer.height:void(this.mediaPlayer.height=e)},t.prototype.width=function(e){return void 0===e?this.mediaPlayer.width:void(this.mediaPlayer.width=e)},t.prototype.videoHeight=function(){return this.mediaPlayer.videoHeight},t.prototype.videoWidth=function(){return this.mediaPlayer.videoWidth},t.prototype.play=function(){this.mediaPlayer.play()},t.prototype.pause=function(){this.mediaPlayer.pause()},t.prototype.setSrc=function(e){var t={type:this.options_.playerOptions.currentType};(t=l.default({autoPlay:!!this.options_.playerOptions.autoplay},t)).headers=this.options_.playerOptions.headers,this.updateCurrentPlayerConfigs(),AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.options_.playerOptions.traceConfig&&AzureHtml5JSTech.Log.setConsoleOutputByLevel(this.options_.playerOptions.traceConfig.maxLogLevel);var r={},n=this.options_.currentPlayerConfigs.currentHeuristicConfigs;r.maxBufferInWallClockSec=n.maxBufferInWallClockSec,r.prerollPercent=n.preRollInWallClockSec/n.maxBufferInWallClockSec,r.livePlaybackOffsetPercent=(n.livePlaybackOffsetInWallClockSec-n.preRollInWallClockSec)/n.maxBufferInWallClockSec,r.windowSizeHeuristicsEnabled=n.windowSizeHeuristics,r.useBrowserWindowForWindowSizeRule=n.useBrowserWindowForWindowSizeRule,r.minFragmentsForBandwidthAverage=n.minFragmentsForBandwidthAverage,r.bandwidthTestWithTimeThresholdDuringLive=n.bandwidthTestWithTimeThresholdDuringLive,r.useVariableFragmentSizeMode=n.useVariableFragmentSizeMode,this.options_.maxSkipSegments&&(r.maxSkipSegments=this.options_.maxSkipSegments),this.options_.maxRetryPerSegment&&(r.maxRetryPerSegment=this.options_.maxRetryPerSegment),this.options_.maxTotalRetries&&(r.maxTotalRetries=this.options_.maxTotalRetries),"QuickStart"===this.options_.heuristicProfile&&(r.preFetchDataEnabled=!1),t.userConfig=r;var i=this.options_.playerOptions.sourceOptions.protectionInfo,o=null;if(i){for(var a=0;a<i.length;a++)i[a].type!==y.protectionType.PlayReady&&i[a].type!==y.protectionType.Widevine&&i[a].type!==y.protectionType.AES||!i[a].authenticationToken||(o||(o={}),o[i[a].type]=i[a].authenticationToken);o&&(t=l.default({authenticationTokens:o},t))}this.mediaPlayer.setSrc(e,t)},t.prototype.load=function(){},t.prototype.supportsFullScreen=function(){return!0},t.prototype.enterFullScreen=function(){this.mediaPlayer.requestFullScreen()},t.prototype.exitFullScreen=function(){this.mediaPlayer.exitFullscreen()},t.prototype.setXmlHttpRequestFactory=function(e){this.mediaPlayer.setXmlHttpRequestFactory(e)},t.prototype.playbackRate=function(){return this.mediaPlayer.playbackRate()},t.prototype.setPlaybackRate=function(e){this.mediaPlayer.setPlaybackRate(e)},t.prototype.getAdSignalsAndReset=function(){return this.mediaPlayer.getAdSignalsAndReset()},t}(u.default);v.isSupported=function(){return!!s.default.MediaSource},v.canPlaySource=function(e){return p.default.canSupportFormats(e,this.supportedFormats)},v.supportedFormats={},v.supportedFormats[y.StreamingFormatMimeType.Dash]=[y.protectionType.AES],v._playReadyKeySystemName="com.microsoft.playready",v._widevineKeySystemName="com.widevine.alpha",v._defaultVideoCodecMime='video/mp4; codecs="avc1.42001E"',v._defaultAudioCodecMime='audio/mp4; codecs="mp4a.40.2"',v.CHECK_PENDING="pending",v.CHECK_DONE="done",v._playReadyCheck=null,v._widevineCheck=null,v.drmSupportCheck=function(e){for(var t=0;e&&t<e.length;t++)for(var r=e[t].protectionInfo,n=0;r&&n<r.length;n++){var i=r[n].type;if(g.IS_FIREFOX&&g.FIREFOX_VERSION<47||g.IS_MACWEBVIEW)return v._playReadyCheck=v.CHECK_DONE,void(v._widevineCheck=v.CHECK_DONE);v._playReadyCheck||i!==y.protectionType.PlayReady?v._widevineCheck||i!==y.protectionType.Widevine||(AzureHtml5JSTech.EmeUtil.isTypeSupported(v._widevineKeySystemName,v._defaultAudioCodecMime,v._defaultVideoCodecMime).then(function(){v.supportedFormats[y.StreamingFormatMimeType.Dash].push(y.protectionType.Widevine),v._widevineCheck=v.CHECK_DONE},function(){v._widevineCheck=v.CHECK_DONE}),v._widevineCheck=v.CHECK_PENDING):(AzureHtml5JSTech.EmeUtil.isTypeSupported(v._playReadyKeySystemName,v._defaultAudioCodecMime,v._defaultVideoCodecMime).then(function(){v.supportedFormats[y.StreamingFormatMimeType.Dash].push(y.protectionType.PlayReady),v._playReadyCheck=v.CHECK_DONE},function(){v._playReadyCheck=v.CHECK_DONE}),v._playReadyCheck=v.CHECK_PENDING)}},v.setupDone=function(){return v._playReadyCheck!==v.CHECK_PENDING&&v._widevineCheck!==v.CHECK_PENDING},v.prototype.setupTriggers=function(e){e.addEventListener(AzureHtml5JSTech.EventName.volumechange,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.ended,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.timeupdate,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.pause,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.play,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.playing,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.seeking,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.seeked,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.suspend,m.bind(this,v.onSuspend)),e.addEventListener(AzureHtml5JSTech.EventName.loadstart,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.loadedmetadata,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.loadeddata,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.fullscreenchange,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.waiting,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.canplaythrough,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.error,m.bind(this,v.onError)),e.addEventListener(AzureHtml5JSTech.EventName.durationchange,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.downloadbitratechanged,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.playbackbitratechanged,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.ratechange,m.bind(this,v.onPassthroughHandler)),e.addEventListener(AzureHtml5JSTech.EventName.spliceWaiting,m.bind(this,v.onPassthroughHandler))},v.onPassthroughHandler=function(e){this.trigger(e)},v.onSuspend=function(){this.removeClass("vjs-waiting")},v.onError=function(){var e=this.mediaPlayer.error;u.default.raiseError.call(this,"AzureHtml5JS",e.code,e.message)},v.prototype.isLiveStartupError=function(){var e=this.mediaPlayer.error;return e&&this.isLive()&&e.code===AzureHtml5JSTech.ErrorCode.srcErrLiveNoChunks},v.prototype.movingMediaElementInDOM=!g.IS_IOS,v.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);c.default.disposeMediaElement(e.videoTag_),e.videoTag_=null}},h.default.options.azureHtml5JS={},d.default.registerComponent("AzureHtml5JS",v),u.default.registerTech("AzureHtml5JS",v),r.default=v,t.exports=r.default},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/player.js":210,"../video.js/src/js/tech/html5.js":219,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/browser.js":238,"../video.js/src/js/utils/dom.js":241,"../video.js/src/js/utils/fn.js":243,"../video.js/src/js/video.js":256,"global/window":80,"object.assign":73}],153:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){k[e]=function(){var t=e.charAt(0).toUpperCase()+e.slice(1);return this.el_["get"+t]?this.el_["get"+t]():null}}r.__esModule=!0;for(var l=i(e("global/window")),u=i(e("global/document")),c=i(e("object.assign")),d=i(e("../video.js/src/js/tech/tech.js")),p=i(e("../video.js/src/js/tech/flash.js")),h=i(e("../video.js/src/js/component.js")),f=i(e("../video.js/src/js/player.js")),m=i(e("../video.js/src/js/video.js")),g=e("../video.js/src/js/utils/time-ranges.js"),y=n(e("../video.js/src/js/utils/dom.js")),v=n(e("../video.js/src/js/utils/fn.js")),_=n(e("../video.js/src/js/utils/browser.js")),b=n(e("../video.js/src/js/utils/url.js")),S=n(e("../ampDefs.js")),T=function(e){function t(r,n){var i=this;return o(this,t),e.call(this,r,n),this.manualTimeUpdatesOff(),r.source?(r.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(r.startTime)}),l.default.amp=l.default.amp||{},l.default.amp.FlashSS=l.default.amp.FlashSS||{},l.default.amp.FlashSS.onEvent=t.onEvent,this.ready(this.setupTriggers),void((_.IS_IE||_.IS_EDGE)&&function(){var e=v.bind(i,i.mouseUp);l.default.addEventListener("mouseup",e,!1),i.on("dispose",function(){l.default.removeEventListener("mouseup",e)})}())):(AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),void this.triggerReady())}return a(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_,r=f.default.getScriptRootURL();!e.swf&&r&&(e.swf=r+"/techs/StrobeMediaPlayback.2.0.swf");var n=e.source,i=e.techId,o=c.default({playerId:this.id(),controlBarMode:"none",playButtonOverlay:"false",bufferingOverlay:"false",AdaptiveStreamingPlugin_retryLive:"true",autoPlay:!0,preload:e.preload,loop:e.loop,muted:e.muted,sendRawDataToJS:e.playerOptions.cea708CaptionsSettings&&e.playerOptions.cea708CaptionsSettings.enabled},e.flashVars),a=c.default({menu:!1,wmode:"opaque",bgcolor:"#000000"},e.params),s=c.default({id:i,name:i,class:"vjs-tech",tabindex:"-1"},e.attributes);if(this.flashSS=this,this.flashSS.lastSeekTarget_=NaN,this.reset(),n&&(n.src=t.getFullSourceURL(n.src),t._src=n.src,o.src=n.src,n.protectionInfo))for(var u=0;u<n.protectionInfo.length;u++)n.protectionInfo[u].type===S.protectionType.AES&&n.protectionInfo[u].authenticationToken&&(o.AdaptiveStreamingPlugin_encryptionKeyToken=n.protectionInfo[u].authenticationToken);this.updateCurrentPlayerConfigs();var d=e.currentPlayerConfigs.currentHeuristicConfigs;if(o.AdaptiveStreamingPlugin_minimumBufferTimeInSeconds=d.preRollInWallClockSec,o.AdaptiveStreamingPlugin_maximumBufferTimeInSeconds=d.maxBufferInWallClockSec,o.AdaptiveStreamingPlugin_livePlaybackOffsetInSecond=d.livePlaybackOffsetInWallClockSec,t._heuristicSettings.minimumBufferTimeInSeconds=d.preRollInWallClockSec,t._heuristicSettings.maximumBufferTimeInSeconds=d.maxBufferInWallClockSec,t._heuristicSettings.livePlaybackOffsetInSecond=d.livePlaybackOffsetInWallClockSec,t._isTraceEnabled=e.isTraceEnabled,AMP.Logger.setLogConfig(e.playerOptions.traceConfig),e.playerOptions.traceConfig&&e.playerOptions.traceConfig.maxLogLevel)switch(o.AdaptiveStreamingPlugin_enableOSMFLogging=!0,l.default.org.osmf.player.debug.logs=t.onLogMessage,e.playerOptions.traceConfig.maxLogLevel){case 0:o.AdaptiveStreamingPlugin_minimalLogLevel=0,o.AdaptiveStreamingPlugin_enableOSMFLogging=!1,l.default.org.osmf.player.debug.logs=void 0;break;case 1:o.AdaptiveStreamingPlugin_minimalLogLevel=2;break;case 2:o.AdaptiveStreamingPlugin_minimalLogLevel=1;break;case 3:o.AdaptiveStreamingPlugin_minimalLogLevel=0;break;default:o.AdaptiveStreamingPlugin_minimalLogLevel=0}else o.AdaptiveStreamingPlugin_enableOSMFLogging=!1,l.default.org.osmf.player.debug.logs=void 0;return t._traceConfig=e.playerOptions.traceConfig,this.el_=p.default.embed(e.swf,o,a,s),this.el_.tech=this,this.el_},t.prototype.autoplay=function(){return!!this.options_.playerOptions.autoplay},t.prototype.setAutoplay=function(){},t.prototype.isLive=function(){return!(!this.el_.getStreamType||"dvr"!==this.el_.getStreamType())},t.prototype.buffered=function(){return this.el_.getBufferLength?g.createTimeRange(this.currentTime(),this.currentTime()+this.el_.getBufferLength()):null},t.prototype.setCurrentTime=function(e){this.el_.setCurrentTime&&(e=e<=this.duration()?e:this.duration(),e=e>0?e:0,this.lastSeekTarget_=e,this.el_.setCurrentTime(e))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.getCurrentTime?this.el_.getCurrentTime():null},t.prototype.currentAbsoluteTime=function(){},t.prototype.currentMediaTime=function(){return this.el_.getCurrentMediaTime?this.el_.getCurrentMediaTime():null},t.prototype.currentVideoStreamList=function(){return t._currentVideoStreamList},t.prototype.currentAudioStreamList=function(){return t._currentAudioStreamList},t.prototype.videoBufferData=function(){return t._videoBufferData},t.prototype.audioBufferData=function(){return t._audioBufferData},t.prototype.currentDownloadBitrate=function(){if(t._currentVideoStreamList&&this.el_.getCurrentDynamicStreamIndex){var e=this.el_.getCurrentDynamicStreamIndex();return t._currentVideoStreamList.streams[0].tracks[e].bitrate}},t.prototype.currentPlaybackBitrate=function(){},t.prototype.ended=function(){return t._ended},t.prototype.isFullscreen=function(){return this.isFullscreen()},t.prototype.src=function(e){return void 0===e?this.currentSrc():void(this.el_.setAutoPlay&&this.el_.setMediaResourceURL&&(this.reset(),e=t.getFullSourceURL(e),t._src=e,this.mediaError=null,this.el_.setAutoPlay(!0),this.el_.setMediaResourceURL(e)))},t.prototype.currentSrc=function(){return t._src?t._src:this.el_.getCurrentSrc?this.el_.getCurrentSrc():null},t.prototype.load=function(){this.el_.load&&this.el_.load()},t.prototype.play=function(){this.el_.play2&&this.el_.play2()},t.prototype.pause=function(){this.el_.pause&&this.el_.pause()},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(d.default),k=T.prototype,w="controls,muted,volume".split(","),E="duration,paused,seeking,videoHeight,videoWidth".split(","),C=0;C<w.length;C++)s(w[C]),function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);k["set"+t]=function(e){return this.el_["set"+t]?this.el_["set"+t](e):null}}(w[C]);for(C=0;C<E.length;C++)s(E[C]);void 0===l.default.org&&(l.default.org={}),void 0===l.default.org.osmf&&(l.default.org.osmf={}),void 0===l.default.org.osmf.player&&(l.default.org.osmf.player={}),void 0===l.default.org.osmf.player.debug&&(l.default.org.osmf.player.debug={}),T.onLogMessage=function(e){for(var t=e.split("###"),r=0;r<t.length;r++)AMP.Logger.verbose(AMP.Logger.Area.flashSS,t[r])},T.isSupported=function(){return p.default.isSupported()},T.isVersionSupported=function(e){return p.default.isVersionSupported(e)},T.canPlaySource=function(e){return f.default.canSupportFormats(e,this.supportedFormats)},T.supportedFormats={},T.supportedFormats[S.StreamingFormatMimeType.Smooth]=[S.protectionType.AES],T.prototype.setupTriggers=function(){this.el_.addEventListener("switchingChange","amp.FlashSS.onEvent")},T.prototype.mouseUp=function(e){u.default.elementFromPoint(e.clientX,e.clientY)===this.el()?this.el().parentNode.focus():this.el().parentNode.blur()},T.onReady=function(e){AMP.Logger.verbose(AMP.Logger.Area.flashSS,e+" - Ready");var t=y.getEl(e),r=t&&t.tech;r&&r.el()&&T.checkReady(r)},T.checkReady=function(e){return!!e.el()&&(e.el().getBufferTime?(e.triggerReady(),T._videoBufferData=new AMP.FlashSS.BufferData(e.el(),AMP.FlashSS.MediaType.video),T._audioBufferData=new AMP.FlashSS.BufferData(e.el(),AMP.FlashSS.MediaType.audio),!0):(this.setTimeout(function(){T.checkReady(e)},50),!1))},T._firstReady=!0,T._src=null,T._ended=!1,T._heuristicSettings={},T._currentVideoStreamList=void 0,T._currentAudioStreamList=void 0,T._videoBufferData=void 0,T._audioBufferData=void 0,T._traceConfig=void 0,T._passThroughEvents=["seeking","durationchange","loadstart","waiting","volumechange"],T.prototype.forcePauseToPlayStateTransition=function(){try{!this.stateTransitionForced&&this.currentTime()>.05&&!this.isLive()&&(AMP.Logger.warning(AMP.Logger.Area.flashSS," Forcing a state transition to play by pausing first."),this.pause(),this.play(),this.stateTransitionForced=!0)}catch(e){}},T.onEvent=function(e,t,r){try{var n=y.getEl(e),i=n&&n.tech;if(!i||!i.el())return void AMP.Logger.warning(AMP.Logger.Area.flashSS," Got an event from stale flashSS tech "+e+" - Event:"+t);if(-1!==T._passThroughEvents.indexOf(t)&&i.trigger(t),!i.firstPlayingOccurredWithAutoplayFalse_&&"timeupdate"===t)return void i.forcePauseToPlayStateTransition();switch(t){case"onJavaScriptBridgeCreated":T.onReady(e);break;case"complete":T._ended=!0,i.trigger("ended");break;case"emptied":T._firstReady&&(T._currentVideoStreamList||(T._currentVideoStreamList=new AMP.FlashSS.VideoStreamList(i.el()),T._currentAudioStreamList=new AMP.FlashSS.AudioStreamList(i.el()),0===T._currentAudioStreamList.streams.length&&(T._currentAudioStreamList=void 0)),i.trigger("loadeddata"),i.trigger("loadedmetadata"),T._firstReady=!1,i.el().setAutoDynamicStreamSwitch(!0));break;case"downloadevent":i.downloadEvent(r);break;case"play":i.options_.playerOptions.autoplay||i.firstPlayingOccurredWithAutoplayFalse_?(i.firstPlayingOccurredWithAutoplayFalse_||(i.trigger("canplaythrough"),i.firstPlayingOccurredWithAutoplayFalse_=!0),i.trigger("play"),i.trigger("playing")):(i.pause(),i.trigger("canplaythrough"),i.firstPlayingOccurredWithAutoplayFalse_=!0);break;case"pause":i.firstPlayingOccurredWithAutoplayFalse_&&i.trigger("pause");break;case"seeked":i.firstPlayingOccurredWithAutoplayFalse_&&i.trigger("seeked");break;case"timeupdate":i.firstPlayingOccurredWithAutoplayFalse_&&i.trigger("timeupdate");break;case"error":i.currentSrc()&&(i.mediaError=r.code,d.default.raiseError.call(i,"flashss",T.getMediaErrorCode(r.code,r.detail),T.getMediaErrorMsg(r.code)),i.firstPlayingOccurredWithAutoplayFalse_=!1);break;case"switchingChange":i.trigger("downloadbitratechanged")}"timeupdate"!==t&&"progress"!==t&&AMP.Logger.verbose(AMP.Logger.Area.flashSS,e+" - Event:"+t)}catch(r){throw AMP.Logger.error(AMP.Logger.Area.flashSS,e+" - Event:"+t+" - error:"+r),r}},T.prototype.downloadEvent=function(e){function t(e,t){!e.isAudio&&e.rawData&&(t.mediaDownload.rawSampleTimeScale=e.rawSampleTimeScale,t.mediaDownload.data=r(e.rawData),e.rawSampleTimeScale&&(t.mediaDownload.presentationTimeOffsetInSec=e.presentationTimeOffset/e.rawSampleTimeScale))}function r(e){for(var t=l.default.atob(e),r=t.length,n=new Uint8Array(r),i=0;r>i;i++)n[i]=t.charCodeAt(i);return n.buffer}if(e&&e.type){var n=void 0;switch(e.type){case"downloadStarted":(n=e.isAudio?T._audioBufferData:T._videoBufferData).downloadRequested=n.downloadRequested||{},n.downloadRequested.url=e.url,n.downloadRequested.bitrate=e.bitrate,n.downloadRequested.mediaTime=e.mediaTime,n.dispatchEvent(S.bufferDataEventName.downloadrequested);break;case"downloadCompleted":(n=e.isAudio?T._audioBufferData:T._videoBufferData).downloadCompleted=n.downloadCompleted||{},n.downloadCompleted.measuredBandwidth=8*e.downloadBytes/e.downloadTime,n.downloadCompleted.totalBytes=e.downloadBytes,n.downloadCompleted.totalDownloadMs=1e3*e.downloadTime,n.downloadCompleted.mediaDownload=n.downloadCompleted.mediaDownload||{},n.downloadCompleted.mediaDownload.url=e.url,n.downloadCompleted.mediaDownload.bitrate=e.bitrate,n.downloadCompleted.mediaDownload.mediaTime=e.mediaTime,t(e,n.downloadCompleted),n.dispatchEvent(S.bufferDataEventName.downloadcompleted);break;case"downloadDecrypted":(n=e.isAudio?T._audioBufferData:T._videoBufferData).decryptionCompleted=n.decryptionCompleted||{},n.decryptionCompleted.mediaDownload=n.downloadCompleted.mediaDownload||{},n.decryptionCompleted.mediaDownload.mediaTime=e.mediaTime,t(e,n.decryptionCompleted),n.dispatchEvent(S.bufferDataEventName.downloaddecrypted);break;case"mediaError":(n=e.isAudio?T._audioBufferData:T._videoBufferData).downloadFailed=n.downloadFailed||{},n.downloadFailed.code=e.code,n.downloadFailed.message=e.message,n.downloadFailed.mediaDownload=n.downloadFailed.mediaDownload||{},n.downloadFailed.mediaDownload.url=e.url,n.downloadFailed.mediaDownload.bitrate=e.bitrate,n.downloadFailed.mediaDownload.mediaTime=e.mediaTime,n.dispatchEvent(S.bufferDataEventName.downloadfailed),d.default.raiseError.call(this,"flashss",T.getMediaErrorCode(e.code,e.detail),T.getMediaErrorMsg(e.code))}}},T.getMediaErrorCode=function(e,t){switch(e){case T.errorCodes.OSMF_HTTP_GET_FAILED:case T.errorCodes.OSMF_NETCONNECTION_REJECTED:case T.errorCodes.OSMF_NETCONNECTION_APPLICATION_INVALID:case T.errorCodes.OSMF_NETCONNECTION_FAILED:case T.errorCodes.FRAGMENT_DOWNLOAD_ERROR:case T.errorCodes.MANIFEST_DOWNLOAD_ERROR:return T.getHttpErrorCode(t);case T.errorCodes.OSMF_NETCONNECTION_TIMEOUT:case T.errorCodes.MANIFEST_DOWNLOAD_TIMEOUT:case T.errorCodes.FRAGMENT_DOWNLOAD_TIMEOUT:return S.errorCode.networkErrTimeout;case T.errorCodes.MANIFEST_NOT_SUPPORTED_ELEMENT:case T.errorCodes.MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:case T.errorCodes.MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:case T.errorCodes.VIDEO_STREAM_MISSING:case T.errorCodes.MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:case T.errorCodes.TOO_EARLY_TO_JOIN_LIVE_EVENT:return S.errorCode.srcErrUnsupportedPresentation;case T.errorCodes.MANIFEST_PARSE_TIMEOUT:case T.errorCodes.MANIFEST_MAJOR_VERSION_MISSING:case T.errorCodes.MANIFEST_MINOR_VERSION_MISSING:case T.errorCodes.MANIFEST_STREAMINDEX_MISSING:case T.errorCodes.MANIFEST_UNEXPECTED_ROOT_ELEMENT:case T.errorCodes.MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:case T.errorCodes.MANIFEST_STREAMINFO_TYPE_MISSING:case T.errorCodes.MANIFEST_STREAMINFO_URL_MISSING:case T.errorCodes.MANIFEST_CHUNK_ATTRIBUTE_MISSING:case T.errorCodes.MANIFEST_INVALID_ATTRIBUTE_VALUE:case T.errorCodes.INVALID_SMOOTH_DYNAMIC_RESOURCE:case T.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:case T.errorCodes.MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:case T.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:case T.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:case T.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:case T.errorCodes.MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:case T.errorCodes.MANIFEST_UNEXPECTED_PROTECTION_HEADER:case T.errorCodes.MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:return S.errorCode.srcErrParsePresentation;case T.errorCodes.OSMF_NETSTREAM_PLAY_FAILED:case T.errorCodes.OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:case T.errorCodes.OSMF_IO_ERROR:case T.errorCodes.OSMF_SECURITY_ERROR:case T.errorCodes.OSMF_ASYNC_ERROR:case T.errorCodes.OSMF_ARGUMENT_ERROR:case T.errorCodes.OSMF_URL_SCHEME_INVALID:case T.errorCodes.OSMF_MEDIA_LOAD_FAILED:case T.errorCodes.OSMF_PLUGIN_VERSION_INVALID:case T.errorCodes.OSMF_PLUGIN_IMPLEMENTATION_INVALID:case T.errorCodes.OSMF_SOUND_PLAY_FAILED:case T.errorCodes.OSMF_NETSTREAM_STREAM_NOT_FOUND:case T.errorCodes.OSMF_DVRCAST_SUBSCRIBE_FAILED:case T.errorCodes.OSMF_DVRCAST_CONTENT_OFFLINE:case T.errorCodes.OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:case T.errorCodes.OSMF_F4M_FILE_INVALID:case T.errorCodes.CANNOT_SET_AUDIO_STREAM_INDEX:case T.errorCodes.PLUGIN_INVALID_PARAM:case T.errorCodes.PLUGIN_NULL_PARAM:return S.errorCode.srcErrUnknown;case T.errorCodes.ENCRYPTIONKEY_DOWNLOAD_ERROR:case T.errorCodes.ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:case T.errorCodes.ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:case T.errorCodes.ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:return S.errorCode.encryptErrKeyAcquire;case T.errorCodes.FRAGMENT_DECRYPT_ERROR:return S.errorCode.encryptErrDecryption;default:return S.errorCode.errUnknown}},T.getHttpErrorCode=function(e){var t=S.errorCode.networkErrUnknown;if(e){var r=e.match(/^httpStatus:([0-9]+)/);2===r.length&&(t=S.httpErrorCode[r[1]]||t)}return t},T.errorCodes={OSMF_IO_ERROR:1,OSMF_SECURITY_ERROR:2,OSMF_ASYNC_ERROR:3,OSMF_ARGUMENT_ERROR:4,OSMF_URL_SCHEME_INVALID:5,OSMF_HTTP_GET_FAILED:6,OSMF_MEDIA_LOAD_FAILED:7,OSMF_PLUGIN_VERSION_INVALID:8,OSMF_PLUGIN_IMPLEMENTATION_INVALID:9,OSMF_SOUND_PLAY_FAILED:10,OSMF_NETCONNECTION_REJECTED:11,OSMF_NETCONNECTION_APPLICATION_INVALID:12,OSMF_NETCONNECTION_FAILED:13,OSMF_NETCONNECTION_TIMEOUT:14,OSMF_NETSTREAM_PLAY_FAILED:15,OSMF_NETSTREAM_STREAM_NOT_FOUND:16,OSMF_NETSTREAM_FILE_STRUCTURE_INVALID:17,OSMF_NETSTREAM_NO_SUPPORTED_TRACK_FOUND:18,OSMF_DRM_SYSTEM_UPDATE_ERROR:19,OSMF_DVRCAST_SUBSCRIBE_FAILED:20,OSMF_DVRCAST_CONTENT_OFFLINE:21,OSMF_DVRCAST_STREAM_INFO_RETRIEVAL_FAILED:22,OSMF_F4M_FILE_INVALID:23,MANIFEST_DOWNLOAD_TIMEOUT:1e3,MANIFEST_PARSE_TIMEOUT:1001,MANIFEST_DOWNLOAD_ERROR:1002,MANIFEST_MAJOR_VERSION_MISSING:1003,MANIFEST_MINOR_VERSION_MISSING:1004,MANIFEST_STREAMINDEX_MISSING:1005,MANIFEST_UNEXPECTED_ROOT_ELEMENT:1006,MANIFEST_UNEXPECTED_ROOT_ATTRIBUTE:1007,MANIFEST_STREAMINFO_TYPE_MISSING:1008,MANIFEST_STREAMINFO_URL_MISSING:1009,MANIFEST_AUDIO_QUALITYLEVEL_BITRATE_MISSING:1010,MANIFEST_AUDIO_QUALITYLEVEL_AUDIOTAG_MISSING:1011,MANIFEST_VIDEO_QUALITYLEVEL_BITRATE_MISSING:1012,MANIFEST_VIDEO_QUALITYLEVEL_FOURCC_MISSING:1013,MANIFEST_VIDEO_QUALITYLEVEL_MAXWIDTH_MISSING:1014,MANIFEST_VIDEO_QUALITYLEVEL_MAXHEIGHT_MISSING:1015,MANIFEST_CHUNK_ATTRIBUTE_MISSING:1016,MANIFEST_NOT_SUPPORTED_ELEMENT:1017,MANIFEST_NOT_SUPPORTED_AUDIO_TRACK:1018,MANIFEST_NOT_SUPPORTED_VIDEO_TRACK:1019,MANIFEST_INVALID_ATTRIBUTE_VALUE:1020,INVALID_SMOOTH_DYNAMIC_RESOURCE:1021,FRAGMENT_DOWNLOAD_TIMEOUT:1022,FRAGMENT_DOWNLOAD_ERROR:1023,CANNOT_SET_AUDIO_STREAM_INDEX:1024,VIDEO_STREAM_MISSING:1025,MANIFEST_LIVE_LOOKAHEADFRAGMENTCOUNT_MISSING:1026,PLUGIN_INVALID_PARAM:1027,PLUGIN_NULL_PARAM:1028,MANIFEST_LIVE_DVRWINDOWLENGTH_TOO_SMALL:1029,TOO_EARLY_TO_JOIN_LIVE_EVENT:1030,MANIFEST_UNEXPECTED_PROTECTION_HEADER:1048,ENCRYPTIONKEY_DOWNLOAD_ERROR:1049,ENCRYPTIONKEY_DOWNLOAD_AUTH_ERROR:1050,ENCRYPTIONKEY_DOWNLOAD_TIMEOUT:1051,ENCRYPTIONKEYURL_TOKEN_VERIFICATION_ERROR:1052,FRAGMENT_DECRYPT_ERROR:1053},T.getMediaErrorMsg=function(e){for(var t in T.errorCodes)if(T.errorCodes.hasOwnProperty(t)&&T.errorCodes[t]===e)return t;return e},T.getFullSourceURL=function(e){return 0===(e=b.getAbsoluteURL(e)).indexOf("//")&&(e=l.default.location.protocol+e),e},T.prototype.reset=function(){T._firstReady=!0,T._ended=!1,T._src=null,T._currentVideoStreamList=void 0,T._currentAudioStreamList=void 0,this.flashSS.firstPlayingOccurredWithAutoplayFalse_=!1,this.stateTransitionForced=!1},T.prototype.isReloadNeeded=function(){var e=this.options_.currentPlayerConfigs;return null==T._src||!e||!e.currentHeuristicConfigs||T._heuristicSettings.minimumBufferTimeInSeconds!==e.currentHeuristicConfigs.preRollInWallClockSec||T._heuristicSettings.maximumBufferTimeInSeconds!==e.currentHeuristicConfigs.maxBufferInWallClockSec||T._heuristicSettings.livePlaybackOffsetInSecond!==e.currentHeuristicConfigs.livePlaybackOffsetInWallClockSec||T._traceConfig!==this.options_.traceConfig},T.prototype.isLiveStartupError=function(){return this.mediaError===T.errorCodes.MANIFEST_DOWNLOAD_ERROR},m.default.options.flashSS={},h.default.registerComponent("FlashSS",T),d.default.registerTech("FlashSS",T),r.default=T,t.exports=r.default},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/player.js":210,"../video.js/src/js/tech/flash.js":218,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/browser.js":238,"../video.js/src/js/utils/dom.js":241,"../video.js/src/js/utils/fn.js":243,"../video.js/src/js/utils/time-ranges.js":252,"../video.js/src/js/utils/url.js":255,"../video.js/src/js/video.js":256,"global/document":79,"global/window":80,"object.assign":73}],154:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../video.js/src/js/tech/tech.js")),l=i(e("../video.js/src/js/tech/html5.js")),u=i(e("../video.js/src/js/component.js")),c=n(e("../video.js/src/js/utils/fn.js")),d=i(e("global/window")),p=n(e("../ampDefs.js")),h=function(e){function t(r,n){o(this,t),e.call(this,r,n)}return a(t,e),t.prototype.dispose=function(){this.fairplay&&this.fairplay.dispose(),e.prototype.dispose.call(this)},t.prototype.eventHandler=function(e){"timeupdate"!==e.type&&"progress"!==e.type&&AMP.Logger.verbose(AMP.Logger.Area.html5FairplayHLS,"Event: "+e.type),"error"===e.type&&this.error()&&s.default.raiseError.call(this,"html5FairPlayHLS",this.error().code<<20)},t.prototype.setSrc=function(e){AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.fairplay&&(this.fairplay.dispose(),this.fairplay=null);var r=[];this.options_&&this.options_.playerOptions&&this.options_.playerOptions.sourceOptions&&this.options_.playerOptions.sourceOptions.protectionInfo&&(r=this.options_.playerOptions.sourceOptions.protectionInfo);for(var n=null,i=0;i<r.length;i++)if("FairPlay"===r[i].type){n=r[i];break}if(n&&t.isFairPlaySupported()){var o=new AMP.Html5Fairplay.SrcInfo(e,this.options_.playerOptions.autoplay,n);this.fairplay=new AMP.Html5Fairplay.FairPlay(this.el_,o,c.bind(this,this.handleFairPlayErrors_),c.bind(this,this.handleFairPlayEvent_))}else this.handleFairPlayErrors_(p.errorCode.srcPlayerMismatchUnknown,"html5FairPlayHLS tech can only be used with FairPlay protected content")},t.prototype.handleFairPlayErrors_=function(e,t){s.default.raiseError.call(this,"Html5FairPlayHLS",e,t)},t.prototype.handleFairPlayEvent_=function(e){this.trigger(e)},t.prototype.play=function(){this.fairplay.play()},t}(l.default);h.prototype.fairplay=null,h.nativeSourceHandler={},h.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},h.nativeSourceHandler.canHandleSource=function(e){function t(e){try{return l.default.TEST_VID.canPlayType(e)}catch(e){return""}}var r=void 0,n=void 0;return function(e){if(e.protectionInfo)for(var t=0;t<e.protectionInfo.length;t++)if("FairPlay"===e.protectionInfo[t].type)return!0;return!1}(e)&&h.isFairPlaySupported()?"application/vnd.apple.mpegurl"===e.type?t(e.type):e.src?(r=e.src.match(/\.([^.\/\?]+)(\?[^\/]+)?$/i),n=r&&r[1],t("video/"+n)):"":""},h.nativeSourceHandler.dispose=function(){},h.sourceHandlers=null,s.default.withSourceHandlers(h),h.registerSourceHandler(h.nativeSourceHandler),h.isFairPlaySupported=function(){return d.default.WebKitMediaKeys&&d.default.WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4")},h.isSupported=function(){return l.default.isSupported.call(this)},u.default.registerComponent("Html5FairPlayHLS",h),s.default.registerTech("Html5FairPlayHLS",h),r.default=h,t.exports=r.default},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/tech/html5.js":219,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/fn.js":243,"global/window":80}],155:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("global/window")),l=i(e("global/document")),u=i(e("object.assign")),c=i(e("../video.js/src/js/tech/tech.js")),d=i(e("../video.js/src/js/component.js")),p=i(e("../video.js/src/js/player.js")),h=i(e("../video.js/src/js/video.js")),f=e("../video.js/src/js/utils/time-ranges.js"),m=n(e("../video.js/src/js/utils/dom.js")),g=n(e("../video.js/src/js/utils/fn.js")),y=n(e("../video.js/src/js/utils/browser.js")),v=n(e("../ampDefs.js")),_=e("./Silverlight.js"),b={Closed:0,Opening:1,Buffering:2,Playing:3,Paused:4,Stopped:5,Individualizing:6,AcquiringLicense:7},S=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.manualTimeUpdatesOff()}return a(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_,r=p.default.getScriptRootURL();!e.xap&&r&&(e.xap=r+"/techs/SmoothStreamingPlayer.xap");var n=this,i=[],o=e.source;this.mediaPlayer=null,this.reset();var a=e.techId,s=e.autoplay;void 0!==s&&i.push("Autoplay="+s);var d=u.default({id:a,name:a,class:"vjs-tech",tabindex:"-1"},e.attributes);silverlightSSLoaded=function(e){var t=l.default.getElementById(a);n.mediaPlayer=t.content.mainPlayer,o&&n.src(o.src),n.triggerReady(),n.setTriggers(e)},onSilverlightError=function(e,t){var r="";null!=e&&0!==e&&(r=e.getHost().Source);var i=t.ErrorType,o="Unhandled Error in Silverlight Application "+r+"\n";o+="Code: "+t.ErrorCode+"    \n",o+="Category: "+i+"       \n",o+="Message: "+t.ErrorMessage+"     \n","ParserError"===i?(o+="File: "+t.xamlFile+"     \n",o+="Line: "+t.lineNumber+"     \n",o+="Position: "+t.charPosition+"     \n"):"RuntimeError"===i&&(0!==t.lineNumber&&(o+="Line: "+t.lineNumber+"     \n",o+="Position: "+t.charPosition+"     \n"),o+="MethodName: "+t.methodName+"     \n"),c.default.raiseError.call(n,"silverlightss",v.errorCode.errUnknown,o)};var h=u.default({source:e.xap,onError:"onSilverlightError",minRuntimeVersion:"5.0.61118.0",onload:"silverlightSSLoaded",enableHtmlAccess:!0,width:"100%",height:"100%",windowless:"true",wmode:"opaque",bgcolor:"#000000"},e.params);return i.push("ScriptableName=mainPlayer"),i.push("IsControlStripVisible=false"),this.el_=t.embed(d,h,i),this.el_.tech=this,this.el_},t.prototype.autoplay=function(){return this.mediaPlayer.AutoPlay},t.prototype.setAutoplay=function(e){this.mediaPlayer.AutoPlay=e},t.prototype.isLive=function(){return this.mediaPlayer.IsLive},t.prototype.buffered=function(){return f.createTimeRange(this.currentTime(),this.currentTime())},t.prototype.currentSrc=function(){return t._srcSet?this.mediaPlayer.MediaSource:void 0},t.prototype.setCurrentTime=function(e){try{t._seeking=!0,this.trigger(v.eventName.seeking),this.mediaPlayer.SeekToPosition(e)}catch(e){c.default.raiseError.call(this,"silverlightss",v.errorCode.srcErrUnknown,e.message)}},t.prototype.currentTime=function(){return this.mediaPlayer.PlaybackPositionSeconds},t.prototype.currentAbsoluteTime=function(){},t.prototype.currentMediaTime=function(){},t.prototype.currentVideoStreamList=function(){},t.prototype.currentAudioStreamList=function(){},t.prototype.videoBufferData=function(){},t.prototype.audioBufferData=function(){},t.prototype.currentDownloadBitrate=function(){return t._downloadBitrate},t.prototype.currentPlaybackBitrate=function(){return t._playbackBitrate},t.prototype.duration=function(){return this.mediaPlayer.EndPositionSeconds-this.mediaPlayer.StartPositionSeconds},t.prototype.ended=function(){return t._ended},t.prototype.isFullscreen=function(){return this.mediaPlayer.isFullscreen},t.prototype.muted=function(){return this.mediaPlayer.IsMuted},t.prototype.setMuted=function(e){this.mediaPlayer.IsMuted=e},t.prototype.paused=function(){return this.mediaPlayer.PlayState===b.Paused||this.mediaPlayer.PlayState===b.Buffering},t.prototype.seeking=function(){return t._seeking},t.prototype.src=function(e){return void 0===e?this.currentSrc():(0===e.indexOf("//")&&(e=s.default.location.protocol+e),void this.setSrc(e))},t.prototype.volume=function(){return this.mediaPlayer.GetVolume()},t.prototype.setVolume=function(e){this.mediaPlayer.SetVolume(e)},t.prototype.height=function(e){return void 0===e?this.mediaPlayer.height:void(this.mediaPlayer.height=e)},t.prototype.width=function(e){return void 0===e?this.mediaPlayer.width:void(this.mediaPlayer.width=e)},t.prototype.videoHeight=function(){return this.mediaPlayer.VideoHeight},t.prototype.videoWidth=function(){return this.mediaPlayer.VideoWidth},t.prototype.play=function(){t._errored||this.mediaPlayer.Play()},t.prototype.pause=function(){t._errored||this.mediaPlayer.Pause()},t.prototype.setSrc=function(e){this.reset(),this.mediaPlayer.AutoPlay=!!this.options_.playerOptions.autoplay,this.updateCurrentPlayerConfigs();var r=this.options_.currentPlayerConfigs.currentHeuristicConfigs;this.mediaPlayer.BufferingTime=r.preRollInWallClockSec,this.mediaPlayer.LivePlaybackOffset=r.livePlaybackOffsetInWallClockSec,AMP.Logger.setLogConfig(this.options_.playerOptions.traceConfig),this.mediaPlayer.IsTraceEnabled=this.options_.playerOptions.traceConfig&&this.options_.playerOptions.traceConfig.maxLogLevel&&this.options_.playerOptions.traceConfig.maxLogLevel>0;var n=this.mediaPlayer.CreatePlaylist(),i=this.mediaPlayer.CreatePlaylistItem(e,"","","");i.DeliveryMethod="AdaptiveStreaming";var o=this.options_.playerOptions.sourceOptions.protectionInfo;if(o)for(var a=0;a<o.length;a++)o[a].type===v.protectionType.PlayReady&&o[a].authenticationToken&&(i.BearerToken=o[a].authenticationToken);n.AddPlaylistItem(i),this.mediaPlayer.SetPlaylist(n),t._srcSet=!0},t.prototype.load=function(){},t.prototype.supportsFullscreen=function(){return!1},t.prototype.enterFullscreen=function(){},t.prototype.exitFullscreen=function(){},t}(c.default);S.embed=function(e,t,r){var n=S.getEmbedCode(e,t,r);return m.createEl("div",{innerHTML:n}).childNodes[0]},S.getEmbedCode=function(e,t,r){var n='<object  data="data:application/x-silverlight-2," type="application/x-silverlight-2" ';return e&&Object.getOwnPropertyNames(e).forEach(function(t){n+=encodeURIComponent(t)+'="'+encodeURIComponent(e[t])+'" '}),n+=">",t=u.default({InitParams:r.join(",")},t),Object.getOwnPropertyNames(t).forEach(function(e){n+='<param name="'+encodeURIComponent(e)+'" value="'+encodeURI(t[e])+'" />'}),n+="</object>"},S.isSupported=function(){return _.isSilverlightInstalled("5.0")},S.canPlaySource=function(e){return p.default.canSupportFormats(e,this.supportedFormats)},S.supportedFormats={},S.supportedFormats[v.StreamingFormatMimeType.Smooth]=[v.protectionType.PlayReady],S._srcSet=!1,S._errored=!1,S._seeking=!1,S._ended=!1,S._opening=!0,S._firstTimeUpdateOccuredAfterOpening=!1,S._adaptiveStreamingError=null,S._networkError="Failed to download",S._licenseError="Unable to acquire license due to a network or protocol error",S._tokenError="Unable to complete operation due to a service specific error coming from a network response",S._parseSegmentError="Too many consecutive chunk parse errors",S._parsePresentationError="Manifest file error",S._unsupportedPresentation="Unrecognized manifest",S._licenseAcquisitionErrorCode="6002",S._licenseAcquisitionServiceSpecificErrorCode="6007",S._downloadBitrate,S._playbackBitrate,S.prototype.setTriggers=function(){var e=this;this.mediaPlayer.addEventListener("PlayStateChanged",g.bind(this,this.playStateChangedHandler)),this.mediaPlayer.addEventListener("MediaOpened",g.bind(this,this.onMediaOpened)),this.mediaPlayer.addEventListener("SeekCompleted",g.bind(this,this.onSeekCompleted)),this.mediaPlayer.addEventListener("MediaEnded",g.bind(this,this.onMediaEnded)),this.mediaPlayer.addEventListener("PlaybackPositionChanged",g.bind(this,this.onTimeUpdate)),this.mediaPlayer.addEventListener("VolumeLevelChanged",g.bind(this,this.onVolumeChanged)),this.mediaPlayer.addEventListener("MuteChanged",g.bind(this,this.onVolumeChanged)),this.mediaPlayer.addEventListener("MediaFailed",g.bind(this,this.onMediaFailed)),this.mediaPlayer.addEventListener("AdaptiveStreamingErrorOccurred",g.bind(this,this.onAdaptiveStreamingErrorOccurred)),this.mediaPlayer.addEventListener("ReportDiagTrace",g.bind(this,this.onReportDiagTrace)),this.mediaPlayer.addEventListener("DownloadBitrateChanged",g.bind(this,this.onVideoDownloadBitrateChanged)),this.mediaPlayer.addEventListener("PlaybackBitrateChanged",g.bind(this,this.onVideoPlaybackBitrateChanged)),this.mediaPlayer.addEventListener("FullScreenChanged",g.bind(this,this.onFullScreenChanged));var t=void 0;this.mediaPlayer.addEventListener("PlaybackPositionChanged",g.bind(this,function(){this.duration()!==t&&(t=this.duration(),this.trigger(v.eventName.durationchange)),S._firstTimeUpdateOccuredAfterOpening||S._opening||(this.trigger(v.eventName.play),this.trigger(v.eventName.playing),S._firstTimeUpdateOccuredAfterOpening=!0)})),y.IS_IE&&function(){var t=g.bind(e,e.onMouseUp);s.default.addEventListener("mouseup",t,!1),e.on("dispose",function(){s.default.removeEventListener("mouseup",t)})}()},S.prototype.playStateChangedHandler=function(){switch(this.mediaPlayer.PlayState){case b.Playing:S._firstTimeUpdateOccuredAfterOpening&&(this.trigger(v.eventName.play),this.trigger(v.eventName.playing));break;case b.Paused:this.trigger(v.eventName.pause);break;case b.Buffering:S._firstTimeUpdateOccuredAfterOpening||this.trigger(v.eventName.waiting)}},S.prototype.onMediaOpened=function(){S._opening=!1,this.trigger(v.eventName.durationchange),this.trigger(v.eventName.loadstart),this.trigger(v.eventName.loadedmetadata),this.trigger(v.eventName.loadeddata),this.trigger(v.eventName.canplaythrough)},S.prototype.onMediaFailed=function(e,t){var r=t.Result.Message,n=t.Result.Message;S._adaptiveStreamingError&&(r+=": "+S._adaptiveStreamingError.Message,n=S._adaptiveStreamingError.Message);var i=v.errorCode.errUnknown;-1!==n.indexOf(S._networkError)?i=v.errorCode.networkErrUnknown:-1!==n.indexOf(S._licenseError)||-1!==n.indexOf(S._licenseAcquisitionErrorCode)||-1!==n.indexOf(S._tokenError)||-1!==n.indexOf(S._licenseAcquisitionServiceSpecificErrorCode)?i=v.errorCode.encryptErrLicenseAcquire:-1!==n.indexOf(S._parseSegmentError)?i=v.errorCode.srcErrParseSegment:-1!==n.indexOf(S._parsePresentationError)?i=v.errorCode.srcErrParsePresentation:-1!==n.indexOf(S._unsupportedPresentation)&&(i=v.errorCode.srcErrUnsupportedPresentation),S._errored=!0,c.default.raiseError.call(this,"silverlightss",i,r)},S.prototype.onAdaptiveStreamingErrorOccurred=function(e,t){S._adaptiveStreamingError=t.Result},S.prototype.onSeekCompleted=function(){S._seeking=!1,this.trigger(v.eventName.seeked)},S.prototype.onMediaEnded=function(){S._ended=!0,this.trigger(v.eventName.ended)},S.prototype.onTimeUpdate=function(){this.trigger(v.eventName.timeupdate)},S.prototype.onFullScreenChanged=function(){this.trigger(v.eventName.fullscreenchange)},S.prototype.onVolumeChanged=function(){this.trigger(v.eventName.volumechange)},S.prototype.onReportDiagTrace=function(e,t){AMP.Logger.verbose(AMP.Logger.Area.silverlightSS,t.Result)},S.prototype.onVideoDownloadBitrateChanged=function(e,t){S._downloadBitrate=t.Result,this.trigger(v.eventName.downloadbitratechanged)},S.prototype.onVideoPlaybackBitrateChanged=function(e,t){S._playbackBitrate=t.Result,this.trigger(v.eventName.playbackbitratechanged)},S.prototype.onMouseUp=function(e){l.default.elementFromPoint(e.clientX,e.clientY)===this.el()?this.el().parentNode.focus():this.el().parentNode.blur()},S.prototype.reset=function(){S._srcSet=!1,S._seeking=!1,S._ended=!1,S._opening=!0,S._firstTimeUpdateOccuredAfterOpening=!1,S._adaptiveStreamingError=null,S._errored=!1},h.default.options.silverlightSS={},d.default.registerComponent("SilverlightSS",S),c.default.registerTech("SilverlightSS",S),r.default=S,t.exports=r.default},{"../ampDefs.js":97,"../video.js/src/js/component.js":163,"../video.js/src/js/player.js":210,"../video.js/src/js/tech/tech.js":222,"../video.js/src/js/utils/browser.js":238,"../video.js/src/js/utils/dom.js":241,"../video.js/src/js/utils/fn.js":243,"../video.js/src/js/utils/time-ranges.js":252,"../video.js/src/js/video.js":256,"./Silverlight.js":151,"global/document":79,"global/window":80,"object.assign":73}],156:[function(e,t,r){"use strict";r.__esModule=!0;r.ampVersion="2.2.2.0"},{}],157:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./component")),s=n(e("object.assign")),l=function(e){function t(r,n){i(this,t),e.call(this,r,n)}return o(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return t=s.default({className:this.buildCSSClass()},t),a.default.prototype.createEl.call(this,e,t,r)},t.prototype.buildCSSClass=function(){return"vjs-fullscreen-outline "+e.prototype.buildCSSClass.call(this)},t}(a.default);a.default.registerComponent("FullscreenOutline",l),r.default=l,t.exports=r.default},{"./component":163,"object.assign":73}],158:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("./component")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./utils/dom.js")),s=function(e){function t(r,i){n(this,t),e.call(this,r,i),this.on(r,["removeSpinner","canplaythrough","canplay","playing","pause","seeked","error"],this.updatePlaying),this.on(r,["sourceset","waiting","seeking"],this.updateWaiting),this.on(r,"fullscreenchange",this.handleFullscreenChange),this.on("focus",this.handleFocus)}return i(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"p",{className:"vjs-screen-reader-text",id:"player-use-for-screen-reader-alert-only"});return t.setAttribute("role","alert"),t.setAttribute("aria-atomic","true"),t},t.prototype.updateWaiting=function(){var e=this;setTimeout(function(){null!=e.el_&&(e.el_.innerHTML=e.htmlEncode(e.localize("video loading")))},0)},t.prototype.updatePlaying=function(){var e=this;setTimeout(function(){null!=e.el_&&(e.el_.innerHTML="")},0)},t.prototype.switchFocusToLastControlForSelectorInControlBar=function(e){for(var t=e+" .vjs-control",r=this.player_.controlBar.el().querySelectorAll(t),n=r.length-1;n>=0;n--){var i=r[n].getAttribute("tabIndex"),o=a.isVisible(r[n]);if(i>=0&&o)return r[n].focus(),!0}return!1},t.prototype.reverseFocus=function(){for(var e=[".amp-controlbaricons-right",".amp-cotnrolbaricons-middle",".amp-controlbaricons-left"],t=0;t<e.length;t++)if(this.switchFocusToLastControlForSelectorInControlBar(e[t]))return},t.prototype.handleFocus=function(){this.player_.isFullscreen()&&setTimeout(function(e){e.player_.el().focus()},200,this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.el_.setAttribute("tabIndex",0):this.el_.setAttribute("tabIndex",-1)},t}(o.default);o.default.registerComponent("AriaAlerts",s),r.default=s,t.exports=r.default},{"./component":163,"./utils/dom.js":241}],159:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./button.js")),s=n(e("./component.js")),l=function(e){function t(r,n){i(this,t),e.call(this,r,n)}return o(t,e),t.prototype.buildCSSClass=function(){return this.options_.playerOptions.overrideDisabledForBigPlayButton?"vjs-big-play-button override-controls-disabled ":"vjs-big-play-button "},t.prototype.handleClick=function(){this.player_.play()},t}(a.default);l.prototype.controlText_="Play Video",s.default.registerComponent("BigPlayButton",l),r.default=l,t.exports=r.default},{"./button.js":160,"./component.js":163}],160:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./clickable-component.js")),l=i(e("./component")),u=i((n((n(e("./utils/events.js")),e("./utils/fn.js"))),e("./utils/log.js"))),c=i((i(e("global/document")),e("object.assign"))),d=i(e("./utils/close-other-menu.js")),p=function(e){function t(r,n){o(this,t),e.call(this,r,n)}return a(t,e),t.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t=c.default({className:this.buildCSSClass()},t),"button"!==e&&(u.default.warn("Creating a Button with an HTML element of "+e+" is deprecated; use ClickableComponent instead."),t=c.default({tabIndex:0},t),r=c.default({role:"button"},r)),r=c.default({type:"button","aria-live":"off"},r);var n=l.default.prototype.createEl.call(this,e,t,r);return this.createControlTextEl(n),n},t.prototype.addChild=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=this.constructor.name;return u.default.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),l.default.prototype.addChild.call(this,e,t)},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which||e.prototype.handleKeyPress.call(this,t)},t.prototype.clearOtherMenus=function(){d.default(this)},t}(s.default);l.default.registerComponent("Button",p),r.default=p,t.exports=r.default},{"./clickable-component.js":161,"./component":163,"./utils/close-other-menu.js":240,"./utils/events.js":242,"./utils/fn.js":243,"./utils/log.js":249,"global/document":79,"object.assign":73}],161:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./component")),l=n(e("./utils/dom.js")),u=n(e("./utils/events.js")),c=n(e("./utils/fn.js")),d=i(e("./utils/log.js")),p=i(e("global/document")),h=i(e("object.assign")),f=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return a(t,e),t.prototype.createEl=function(){var t=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];r=h.default({className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&d.default.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=h.default({role:"button","aria-live":"off"},n);var i=e.prototype.createEl.call(this,t,r,n);return this.createControlTextEl(i),i},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=l.createEl("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){if(arguments.length<=1||void 0===arguments[1]?this.el():arguments[1],!e)return this.controlText_||"Need Text";var t=this.localize(e);return this.controlText_=e,this.controlTextEl_.innerHTML=this.htmlEncode(t),this},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.addChild=function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return e.prototype.addChild.call(this,t,r)},t.prototype.enable=function(){return this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),this},t.prototype.disable=function(){return this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),this},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){u.on(p.default,"keydown",c.bind(this,this.handleKeyPress)),this.el().setAttribute("aria-live","polite")},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleClick(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){u.off(p.default,"keydown",c.bind(this,this.handleKeyPress)),this.el().setAttribute("aria-live","off")},t}(s.default);s.default.registerComponent("ClickableComponent",f),r.default=f,t.exports=r.default},{"./component":163,"./utils/dom.js":241,"./utils/events.js":242,"./utils/fn.js":243,"./utils/log.js":249,"global/document":79,"object.assign":73}],162:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./button")),s=n(e("./component")),l=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.controlText(n&&n.controlText||this.localize("Close"))}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(a.default);s.default.registerComponent("CloseButton",l),r.default=l,t.exports=r.default},{"./button":160,"./component":163}],163:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var a=i(e("global/window")),s=n(e("./utils/dom.js")),l=n(e("./utils/fn.js")),u=n(e("./utils/guid.js")),c=n(e("./utils/events.js")),d=i(e("./utils/log.js")),p=i(e("./utils/to-title-case.js")),h=i(e("./utils/merge-options.js")),f=n(e("./utils/browser.js")),m=function(){function e(t,r,n){if(o(this,e),this.player_=!t&&this.play?t=this:t,this.options_=h.default({},this.options_),r=this.options_=h.default(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+u.newGUID()}this.name_=r.name||null,r.el?this.el_=r.el:!1!==r.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==r.initChildren&&this.initChildren(),this.ready(n),!1!==r.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.el_&&this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--){this.children_[e].dispose&&this.children_[e].dispose();var t=this.children_[e].name_;t&&this[t]&&delete this[t]}this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&this.off(),this.el_&&this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.contentEl_&&this.contentEl_.parentNode&&this.contentEl_.parentNode.removeChild(this.contentEl_),this.el_&&s.removeElData(this.el_),this.contentEl_&&s.removeElData(this.contentEl_),this.el_=null,this.contentEl_=null,this.player_=null,this.options_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return d.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=h.default(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,r){return s.createEl(e,t,r)},e.prototype.localize=function(e){var t=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages();if(!t||!r)return e;var n=r[t];if(n&&n[e])return n[e];var i=r[t.split("-")[0]];return i&&i[e]?i[e]:e},e.prototype.htmlEncode=function(e){if(!e)return"";for(var t=e.length,r=[],n=0;t>n;n++){var i=e.charAt(n);switch(i){case"<":r.push("&lt;");break;case">":r.push("&gt;");break;case"&":r.push("&amp;");break;case'"':r.push("&quot;");break;case"'":r.push("&#39;");break;default:r.push(i)}}return r.join("")},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){return this.childNameIndex_[e]},e.prototype.addChild=function(t){var r=this,n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=arguments.length<=2||void 0===arguments[2]?this.children_.length:arguments[2],o=void 0,s=void 0;if("string"==typeof t){s=t,n||(n={}),!0===n&&(d.default.warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var l=n.componentClass||p.default(s);n.name=s;var u=e.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if("function"!=typeof u)return null;o=new u(this.player_||this,n)}else o=t;if(this.children_.splice(i,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(s=s||o.name&&o.name())&&(this.childNameIndex_[s]=o),"function"==typeof o.el&&o.el()){var c;!function(){var e=r.contentEl().children[i]||null;f.IS_MSAPPHOST&&a.default.MSApp&&a.default.MSApp.execUnsafeLocalFunction?(c=r.contentEl(),a.default.MSApp.execUnsafeLocalFunction(function(){c.insertBefore(o.el(),e)})):r.contentEl().insertBefore(o.el(),e)}()}return o},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){t=!0,this.children_.splice(r,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,r=this.options_.children;r&&function(){var n=t.options_,i=void 0,o=e.getComponent("Tech");(i=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(t.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var n=void 0,i=void 0;return"string"==typeof e?(n=e,i=r[n]||t.options_[n]||{}):(n=e.name,i=e),{name:n,opts:i}}).filter(function(t){var r=e.getComponent(t.opts.componentClass||p.default(t.name));return r&&!o.isTech(r)}).forEach(function(e){var r=e.name,i=e.opts;if(void 0!==n[r]&&(i=n[r]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(r,i);o&&(t[r]=o)}})}()},e.prototype.buildCSSClass=function(){return""},e.prototype.on=function(e,t,r){var n=this;return"string"==typeof e||Array.isArray(e)?c.on(this.el_,e,l.bind(this,t)):function(){var i=e,o=t,a=l.bind(n,r),s=function(){return n.off(i,o,a)};s.guid=a.guid,n.on("dispose",s);var u=function(){return n.off("dispose",s)};u.guid=a.guid,e.nodeName?(c.on(i,o,a),c.on(i,"dispose",u)):"function"==typeof e.on&&(i.on(o,a),i.on("dispose",u))}(),this},e.prototype.off=function(e,t,r){if(!e||"string"==typeof e||Array.isArray(e))c.off(this.el_,e,t);else{var n=e,i=t,o=l.bind(this,r);this.off("dispose",o),e.nodeName?(c.off(n,i,o),c.off(n,"dispose",o)):(n.off(i,o),n.off("dispose",o))}return this},e.prototype.one=function(e,t,r){var n=this,i=arguments;return"string"==typeof e||Array.isArray(e)?c.one(this.el_,e,l.bind(this,t)):function(){var o=e,a=t,s=l.bind(n,r),u=function e(){n.off(o,a,e),s.apply(null,i)};u.guid=s.guid,n.on(o,a,u)}(),this},e.prototype.trigger=function(e,t){return c.trigger(this.el_,e,t),this},e.prototype.ready=function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];return e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e))),this},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return s.$(e,t||this.contentEl())},e.prototype.$$=function(e,t){return s.$$(e,t||this.contentEl())},e.prototype.hasClass=function(e){return s.hasElClass(this.el_,e)},e.prototype.addClass=function(e){return s.addElClass(this.el_,e),this},e.prototype.removeClass=function(e){return s.removeElClass(this.el_,e),this},e.prototype.toggleClass=function(e,t){return s.toggleElClass(this.el_,e,t),this},e.prototype.show=function(){return this.removeClass("vjs-hidden"),this},e.prototype.hide=function(){return this.addClass("vjs-hidden"),this},e.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},e.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){return this.width(e,!0).height(t)},e.prototype.dimension=function(e,t,r){if(void 0!==t)return(null===t||t!==t)&&(t=0),this.el_.style[e]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",r||this.trigger("resize"),this;if(!this.el_)return 0;var n=this.el_.style[e],i=n.indexOf("px");return-1!==i?parseInt(n.slice(0,i),10):parseInt(this.el_["offset"+p.default(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof a.default.getComputedStyle){var r=a.default.getComputedStyle(this.el_);t=r.getPropertyValue(e)||r[e]}else if(this.el_.currentStyle){var n="offset"+p.default(e);t=this.el_[n]}return t=parseFloat(t)},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.emitTapEvents=function(){var e=0,t=null,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)r=!1;else if(t){var n=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY;Math.sqrt(n*n+i*i)>10&&(r=!1)}});var n=function(){r=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){t=null,!0===r&&200>(new Date).getTime()-e&&(n.preventDefault(),this.trigger("tap"))})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=l.bind(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var r=function(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",r),this.on("touchcancel",r)}},e.prototype.setTimeout=function(e,t){e=l.bind(this,e);var r=a.default.setTimeout(e,t),n=function(){this.clearTimeout(r)};return n.guid="vjs-timeout-"+r,this.on("dispose",n),r},e.prototype.clearTimeout=function(e){a.default.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=l.bind(this,e);var r=a.default.setInterval(e,t),n=function(){this.clearInterval(r)};return n.guid="vjs-interval-"+r,this.on("dispose",n),r},e.prototype.clearInterval=function(e){a.default.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.registerComponent=function(t,r){return e.components_||(e.components_={}),e.components_[t]=r,r},e.getComponent=function(t){return e.components_&&e.components_[t]?e.components_[t]:a.default&&a.default.videojs&&a.default.videojs[t]?(d.default.warn("The "+t+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),a.default.videojs[t]):void 0},e.extend=function(t){t=t||{},d.default.warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var r=t.init||t.init||this.prototype.init||this.prototype.init||function(){},n=function(){r.apply(this,arguments)};(n.prototype=Object.create(this.prototype)).constructor=n,n.extend=e.extend;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);return n},e}();m.registerComponent("Component",m),r.default=m,t.exports=r.default},{"./utils/browser.js":238,"./utils/dom.js":241,"./utils/events.js":242,"./utils/fn.js":243,"./utils/guid.js":246,"./utils/log.js":249,"./utils/merge-options.js":250,"./utils/to-title-case.js":254,"global/window":80}],164:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../track-button.js")),s=n(e("../../component.js")),l=n((function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(e("../../utils/fn.js")),e("./audio-track-menu-item.js"))),u=function(e){function t(r){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),n.tracks=r.audioTracks&&r.audioTracks(),e.call(this,r,n),this.el_.setAttribute("aria-label","Audio Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this.player_.audioTracks&&this.player_.audioTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];e.push(new l.default(this.player_,{selectable:!0,track:n}))}return e},t}(a.default);s.default.registerComponent("AudioTrackButton",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../utils/fn.js":243,"../track-button.js":195,"./audio-track-menu-item.js":165}],165:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../menu/menu-item.js")),s=n(e("../../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/fn.js")),u=function(e){function t(r,n){var o=this;i(this,t);var a=n.track,s=r.audioTracks();n.label=a.label||a.language||"Unknown",n.selected=a.enabled,e.call(this,r,n),this.track=a,s&&function(){var e=l.bind(o,o.handleTracksChange);s.addEventListener("change",e),o.on("dispose",function(){s.removeEventListener("change",e)})}()}return o(t,e),t.prototype.handleClick=function(t){var r=this.player_.audioTracks();if(e.prototype.handleClick.call(this,t),r)for(var n=0;n<r.length;n++){var i=r[n];i===this.track&&(i.enabled=!0)}},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(a.default);s.default.registerComponent("AudioTrackMenuItem",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../menu/menu-item.js":207,"../../utils/fn.js":243}],166:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../component.js")),s=(n((n((n((n((n((n((n((n((n((n((n((n((n((n((n((n((n((n(e("./play-toggle.js")),e("./time-controls/current-time-display.js"))),e("./time-controls/duration-display.js"))),e("./time-controls/time-divider.js"))),e("./time-controls/remaining-time-display.js"))),e("./live-display.js"))),e("./progress-control/progress-control.js"))),e("./fullscreen-toggle.js"))),e("./volume-control/volume-control.js"))),e("./volume-menu-button.js"))),e("./mute-toggle.js"))),e("./text-track-controls/chapters-button.js"))),e("./text-track-controls/descriptions-button.js"))),e("./text-track-controls/subtitles-button.js"))),e("./text-track-controls/captions-button.js"))),e("./audio-track-controls/audio-track-button.js"))),e("./playback-rate-menu/playback-rate-menu-button.js"))),e("./spacer-controls/custom-control-spacer.js"))),function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(a.default));s.prototype.options_={children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subtitlesButton","captionsButton","audioTrackButton","fullscreenToggle"]},a.default.registerComponent("ControlBar",s),r.default=s,t.exports=r.default},{"../component.js":163,"./audio-track-controls/audio-track-button.js":164,"./fullscreen-toggle.js":167,"./live-display.js":168,"./mute-toggle.js":169,"./play-toggle.js":170,"./playback-rate-menu/playback-rate-menu-button.js":171,"./progress-control/progress-control.js":176,"./spacer-controls/custom-control-spacer.js":180,"./text-track-controls/captions-button.js":183,"./text-track-controls/chapters-button.js":184,"./text-track-controls/descriptions-button.js":186,"./text-track-controls/subtitles-button.js":188,"./time-controls/current-time-display.js":191,"./time-controls/duration-display.js":192,"./time-controls/remaining-time-display.js":193,"./time-controls/time-divider.js":194,"./volume-control/volume-control.js":197,"./volume-menu-button.js":199}],167:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n((n(e("global/window")),e("../button.js"))),s=n(e("../component.js")),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(e("../utils/browser.js")),function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"fullscreenchange",this.handleFullscreenChange),this.on("keydown",this.handleKeyPress),this.on("mouseover",this.clearOtherMenus),this.on("focus",this.clearOtherMenus)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.controlText(this.player_.isFullscreen()?"Non-Fullscreen":"Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(a.default));l.prototype.controlText_="Fullscreen",s.default.registerComponent("FullscreenToggle",l),r.default=l,t.exports=r.default},{"../button.js":160,"../component.js":163,"../utils/browser.js":238,"global/window":80}],168:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../clickable-component.js")),s=n(e("../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/dom.js")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=l.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Stream Type"))+"</span>"+this.htmlEncode(this.localize("LIVE"))},{"aria-live":"off"}),t.appendChild(this.contentEl_),t.setAttribute("aria-label",this.htmlEncode(this.localize("LIVE"))),t},t.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},t.prototype.handleClick=function(){this.clickHandler&&this.clickHandler()},t.prototype.setClickHandler=function(e){this.clickHandler=e},t}(a.default);s.default.registerComponent("LiveDisplay",u),r.default=u,t.exports=r.default},{"../clickable-component.js":161,"../component.js":163,"../utils/dom.js":241}],169:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../button")),s=n(e("../component")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/dom.js")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"volumechange",this.update),r.tech_&&!1===r.tech_.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(r,"loadstart",function(){this.update(),!1===r.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.on("focus",this.clearOtherMenus)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},t.prototype.update=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:.33>e?t=1:.67>e&&(t=2);var r=this.htmlEncode(this.localize(this.player_.muted()?"Unmute":"Mute"));this.controlText()!==r&&this.controlText(r);for(var n=0;4>n;n++)l.removeElClass(this.el_,"vjs-vol-"+n);l.addElClass(this.el_,"vjs-vol-"+t)},t}(a.default);u.prototype.controlText_="Mute",s.default.registerComponent("MuteToggle",u),r.default=u,t.exports=r.default},{"../button":160,"../component":163,"../utils/dom.js":241}],170:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n((n(e("global/window")),e("../button.js"))),s=n(e("../component.js")),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(e("../utils/browser.js")),function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"play",this.handlePlay),this.on(r,"pause",this.handlePause),this.on("keydown",this.handleKeyPress),this.on("mouseover",this.clearOtherMenus),this.on("focus",this.clearOtherMenus)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText(this.htmlEncode(this.localize("Pause")))},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText(this.htmlEncode(this.localize("Play")))},t}(a.default));l.prototype.controlText_="Play",s.default.registerComponent("PlayToggle",l),r.default=l,t.exports=r.default},{"../button.js":160,"../component.js":163,"../utils/browser.js":238,"global/window":80}],171:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../menu/menu-button.js")),s=n(e("../../menu/menu.js")),l=n(e("./playback-rate-menu-item.js")),u=n(e("../../component.js")),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/dom.js")),d=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.updateVisibility(),this.updateLabel(),this.on(r,"loadstart",this.updateVisibility),this.on(r,"ratechange",this.updateLabel)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=c.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.createMenu=function(){var e=new s.default(this.player()),t=this.playbackRates();if(t)for(var r=t.length-1;r>=0;r--)e.addChild(new l.default(this.player(),{rate:t[r]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),r=t[0],n=0;n<t.length;n++)if(t[n]>e){r=t[n];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.htmlEncode(this.player().playbackRate())+"x")},t}(a.default);d.prototype.controlText_="Playback Rate",u.default.registerComponent("PlaybackRateMenuButton",d),r.default=d,t.exports=r.default},{"../../component.js":163,"../../menu/menu-button.js":206,"../../menu/menu.js":208,"../../utils/dom.js":241,"./playback-rate-menu-item.js":172}],172:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../menu/menu-item.js")),s=n(e("../../component.js")),l=function(e){function t(r,n){i(this,t);var o=n.rate,a=parseFloat(o,10);n.label=o,n.selected=1===a,e.call(this,r,n),this.label=o,this.rate=a,this.on(r,"ratechange",this.update)}return o(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(a.default);l.prototype.contentElType="button",s.default.registerComponent("PlaybackRateMenuItem",l),r.default=l,t.exports=r.default},{"../../component.js":163,"../../menu/menu-item.js":207}],173:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("../../component.js")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/dom.js")),s=function(e){function t(r,i){n(this,t),e.call(this,r,i),this.on(r,"progress",this.update)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress ",innerHTML:'<span class="vjs-control-text"><span>'+this.htmlEncode(this.localize("Loaded"))+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),r=this.player_.bufferedEnd(),n=this.el_.children,i=function(e,t){var r=e/t||0;return 100*(r>=1?1:r)+"%"};this.el_.style.width=i(r,t);for(u=0;u<e.length;u++){var o=e.start(u),s=e.end(u),l=n[u];l||(l=this.el_.appendChild(a.createEl())),l.style.left=i(o,r),l.style.width=i(s-o,r)}for(var u=n.length;u>e.length;u--)this.el_.removeChild(n[u-1])},t}(o.default);o.default.registerComponent("LoadProgressBar",s),r.default=s,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241}],174:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("global/window")),l=i(e("../../component.js")),u=n(e("../../utils/dom.js")),c=n(e("../../utils/fn.js")),d=i(e("../../utils/format-time.js")),p=i(e("lodash-compat/function/throttle")),h=function(e){function t(r,n){var i=this;o(this,t),e.call(this,r,n),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltip=u.createEl("div",{className:"vjs-time-tooltip"}),this.el().appendChild(this.tooltip),this.addClass("vjs-keep-tooltips-inside")),this.tooltipSpan=u.createEl("span",{className:"amp-time-tooltip"}),this.el().appendChild(this.tooltipSpan),this.update(0,0),r.on("ready",function(){i.on(r.controlBar.progressControl.el(),"mousemove",p.default(c.bind(i,i.handleMouseMove),25))})}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.handleMouseMove=function(e){var t=this.player_.duration(),r=this.calculateDistance(e)*t,n=e.pageX-u.findElPosition(this.el().parentNode).left;this.update(r,n)},t.prototype.update=function(e,t){var r=d.default(e,this.player_.duration());if(this.el().style.left=t+"px",this.tooltipSpan.innerHtml=this.tooltipSpan.innerText=r,this.clampAmpTooltipPosition_(t),this.keepTooltipsInside){var n=t-this.clampPosition_(t)+1,i=parseFloat(s.default.getComputedStyle(this.tooltip).width)/2;this.tooltip.innerHTML=r,this.tooltip.style.right="-"+(i-n)+"px"}},t.prototype.calculateDistance=function(e){return u.getPointerPosition(this.el().parentNode,e).x},t.prototype.clampPosition_=function(e){if(!this.keepTooltipsInside)return e;var t=parseFloat(s.default.getComputedStyle(this.player().el()).width),r=parseFloat(s.default.getComputedStyle(this.tooltip).width)/2,n=e;return r>e?n=Math.ceil(r):e>t-r&&(n=Math.floor(t-r)),n},t.prototype.clampAmpTooltipPosition_=function(e){var t=parseFloat(s.default.getComputedStyle(this.player().el()).width),r=this.tooltipSpan.offsetWidth/2,n=e;n=r>e?Math.ceil(this.tooltipSpan.offsetWidth-e):e>t-r?Math.floor(t-e):r,this.tooltipSpan.style.right=-n+"px"},t}(l.default);l.default.registerComponent("MouseTimeDisplay",h),r.default=h,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/fn.js":243,"../../utils/format-time.js":245,"global/window":80,"lodash-compat/function/throttle":29}],175:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../../component.js")),l=n(e("../../utils/fn.js")),u=i((n(e("../../utils/dom.js")),e("../../utils/format-time.js"))),c=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.updateDataAttr(),this.on(r,"timeupdate",this.updateDataAttr),r.ready(l.bind(this,this.updateDataAttr)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&this.addClass("vjs-keep-tooltips-inside")}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar ",innerHTML:'<span class="vjs-control-text"><span>'+this.htmlEncode(this.localize("Progress"))+"</span>: 0%</span>"})},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",u.default(e,this.player_.duration()))},t}(s.default);s.default.registerComponent("PlayProgressBar",c),r.default=c,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/fn.js":243,"../../utils/format-time.js":245}],176:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../component.js")),s=(n((n(e("./seek-bar.js")),e("./mouse-time-display.js"))),function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control",tabIndex:-1})},t}(a.default));s.prototype.options_={children:["seekBar"]},a.default.registerComponent("ProgressControl",s),r.default=s,t.exports=r.default},{"../../component.js":163,"./mouse-time-display.js":174,"./seek-bar.js":177}],177:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("global/window")),l=i(e("../../slider/slider.js")),u=i(e("../../component.js")),c=n((i((i((i((i(e("./load-progress-bar.js")),e("./play-progress-bar.js"))),e("./tooltip-progress-bar.js"))),e("./seek-handle.js"))),e("../../utils/fn.js"))),d=i(e("../../utils/format-time.js")),p=n((i(e("object.assign")),e("../../utils/browser.js"))),h=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.timeInterval=8e3,this.isIntervalEnabled=!0,this.timerFunction,this.videoWasPlaying=null,this.on(r,"timeupdate",this.updateProgress),this.on(r,"ended",this.playEnded),this.on(r,"play",this.enableAriaUpdate),this.on(r,"seeked",this.handleManualSeeked),this.on(r,"playing",this.handlePlaying),r.ready(c.bind(this,this.updateProgress)),n.playerOptions&&n.playerOptions.controlBar&&n.playerOptions.controlBar.progressControl&&n.playerOptions.controlBar.progressControl.keepTooltipsInside&&(this.keepTooltipsInside=n.playerOptions.controlBar.progressControl.keepTooltipsInside),this.keepTooltipsInside&&(this.tooltipProgressBar=this.addChild("TooltipProgressBar"))}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"progress bar"})},t.prototype.playEnded=function(){this.isIntervalEnabled=!1,clearTimeout(this.timerFunction),this.updateProgress()},t.prototype.handleManualSeeked=function(){null!==this.videoWasPlaying&&(this.videoWasPlaying?this.player_.play():this.videoWasPlaying=null)},t.prototype.handlePlaying=function(){this.videoWasPlaying=null},t.prototype.enableAriaUpdate=function(){var e=this;this.timerFunction=this.setTimeout(function(){e.isIntervalEnabled=!e.isIntervalEnabled,e.enableAriaUpdate()},this.timeInterval,this)},t.prototype.updateProgress=function(){if(this.updateAriaAttributes(this.el_),this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_),this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var e=parseFloat(s.default.getComputedStyle(this.player().el()).width),t=parseFloat(s.default.getComputedStyle(this.tooltipProgressBar.tooltip).width),r=this.tooltipProgressBar.el().style;r.maxWidth=Math.floor(e-t/2)+"px",r.minWidth=Math.ceil(t/2)+"px",r.right="-"+t/2+"px"}},t.prototype.updateAriaAttributes=function(e){if(this.isIntervalEnabled){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();if(e.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),0===t)e.setAttribute("aria-valuetext","0");else if(p.IS_SAFARI)e.setAttribute("aria-valuetext",d.default(t,this.player_.duration()));else{for(var r=d.default(t,this.player_.duration()),n=r.split(":"),i=0;i<n.length;i++)parseInt(n[i])<10&&(n[i]="0"+parseInt(n[i]));r=2===n.length?"00:"+n[0]+":"+n[1]:n[0]+":"+n[1]+":"+n[2],e.setAttribute("aria-valuetext",r)}this.isIntervalEnabled=!1}},t.prototype.getPercent=function(){var e=this.player_.currentTime()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),null===this.videoWasPlaying&&(this.videoWasPlaying=!this.player_.paused()),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1)},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},t}(l.default);h.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar","seekHandle"],barName:"playProgressBar",handleName:"seekHandle"},h.prototype.playerEvent="timeupdate",u.default.registerComponent("SeekBar",h),r.default=h,t.exports=r.default},{"../../component.js":163,"../../slider/slider.js":216,"../../utils/browser.js":238,"../../utils/fn.js":243,"../../utils/format-time.js":245,"./load-progress-bar.js":173,"./play-progress-bar.js":175,"./seek-handle.js":178,"./tooltip-progress-bar.js":179,"global/window":80,"object.assign":73}],178:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("../../component.js")),s=n(e("../../utils/fn.js")),l=(n(e("../../utils/dom.js")),function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"timeupdate",this.update),r.ready(s.bind(this,this.update))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-slider-handle ",innerHTML:'<span class="vjs-control-text">Seekbar Handle</span>'})},t.prototype.update=function(){this.player_.controlBar&&this.player_.controlBar.progressControl&&this.player_.controlBar.progressControl.seekBar&&this.player_.controlBar.progressControl.seekBar.playProgressBar&&(this.el().style.left=this.player_.controlBar.progressControl.seekBar.playProgressBar.el_.style.width)},t}(a.default));a.default.registerComponent("SeekHandle",l),r.default=l,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/fn.js":243}],179:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../../component.js")),l=n(e("../../utils/fn.js")),u=i((n(e("../../utils/dom.js")),e("../../utils/format-time.js"))),c=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.updateDataAttr(),this.on(r,"timeupdate",this.updateDataAttr),r.ready(l.bind(this,this.updateDataAttr))}return a(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-tooltip-progress-bar vjs-slider-bar",innerHTML:'<div class="vjs-time-tooltip"></div>\n        <span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"});return this.tooltip=t.querySelector(".vjs-time-tooltip"),t},t.prototype.updateDataAttr=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=u.default(e,this.player_.duration());this.el_.setAttribute("data-current-time",t),this.tooltip.innerHTML=t},t}(s.default);s.default.registerComponent("TooltipProgressBar",c),r.default=c,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/fn.js":243,"../../utils/format-time.js":245}],180:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./spacer.js")),s=n(e("../../component.js")),l=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(a.default);s.default.registerComponent("CustomControlSpacer",l),r.default=l,t.exports=r.default},{"../../component.js":163,"./spacer.js":181}],181:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("../../component.js")),a=function(e){function t(){n(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(o.default);o.default.registerComponent("Spacer",a),r.default=a,t.exports=r.default},{"../../component.js":163}],182:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./text-track-menu-item.js")),s=n(e("../../component.js")),l=function(e){function t(r,n){i(this,t),n.track={kind:n.kind,player:r,label:"Settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,e.call(this,r,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}return o(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show(),this.player().getChild("textTrackSettings").el_.focus()},t}(a.default);s.default.registerComponent("CaptionSettingsMenuItem",l),r.default=l,t.exports=r.default},{"../../component.js":163,"./text-track-menu-item.js":190}],183:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./text-track-button.js")),s=n(e("../../component.js")),l=n(e("./caption-settings-menu-item.js")),u=function(e){function t(r,n,o){i(this,t),e.call(this,r,n,o),this.el_.setAttribute("aria-label","Captions Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){var t=2;e.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(t=1),this.items&&this.items.length>t?this.show():this.hide()},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||t.push(new l.default(this.player_,{kind:this.kind_})),e.prototype.createItems.call(this,t)},t}(a.default);u.prototype.kind_="captions",u.prototype.controlText_="Captions",s.default.registerComponent("CaptionsButton",u),r.default=u,t.exports=r.default},{"../../component.js":163,"./caption-settings-menu-item.js":182,"./text-track-button.js":189}],184:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./text-track-button.js")),l=i(e("../../component.js")),u=i(e("./text-track-menu-item.js")),c=i(e("./chapters-track-menu-item.js")),d=i(e("../../menu/menu.js")),p=n(e("../../utils/dom.js")),h=i((n(e("../../utils/fn.js")),e("../../utils/to-title-case.js"))),f=(i(e("global/window")),function(e){function t(r,n,i){o(this,t),e.call(this,r,n,i),this.el_.setAttribute("aria-label","Chapters Menu")}return a(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.createItems=function(){var e=[],t=this.player_.textTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];n.kind===this.kind_&&e.push(new u.default(this.player_,{track:n}))}return e},t.prototype.createMenu=function(){for(var e=this,t=this.player_.textTracks()||[],r=void 0,n=this.items||[],i=t.length-1;i>=0;i--){var o=t[i];if(o.kind===this.kind_){r=o;break}}var a=new d.default(this.player_),s=p.createEl("li",{className:"vjs-menu-title",innerHTML:h.default(this.kind_),tabIndex:-1});if(a.children_.unshift(s),p.insertElFirst(s,a.contentEl()),r&&null==r.cues){r.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(r);l&&l.addEventListener("load",function(){return e.update()})}if(r&&r.cues&&r.cues.length>0)for(var u=r.cues,f=void 0,i=0,m=u.length;m>i;i++){f=u[i];var g=new c.default(this.player_,{track:r,cue:f});n.push(g),a.addChild(g)}return n.length>0&&this.show(),this.items=n,a},t}(s.default));f.prototype.kind_="chapters",f.prototype.controlText_="Chapters",l.default.registerComponent("ChaptersButton",f),r.default=f,t.exports=r.default},{"../../component.js":163,"../../menu/menu.js":208,"../../utils/dom.js":241,"../../utils/fn.js":243,"../../utils/to-title-case.js":254,"./chapters-track-menu-item.js":185,"./text-track-button.js":189,"./text-track-menu-item.js":190,"global/window":80}],185:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../menu/menu-item.js")),s=n(e("../../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/fn.js")),u=function(e){function t(r,n){i(this,t);var o=n.track,a=n.cue,s=r.currentTime();n.label=a.text,n.selected=a.startTime<=s&&s<a.endTime,e.call(this,r,n),this.track=o,this.cue=a,o.addEventListener("cuechange",l.bind(this,this.update))}return o(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(a.default);s.default.registerComponent("ChaptersTrackMenuItem",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../menu/menu-item.js":207,"../../utils/fn.js":243}],186:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./text-track-button.js")),s=n(e("../../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/fn.js")),u=function(e){function t(r,n,o){var a=this;i(this,t),e.call(this,r,n,o),this.el_.setAttribute("aria-label","Descriptions Menu");var s=r.textTracks();s&&function(){var e=l.bind(a,a.handleTracksChange);s.addEventListener("change",e),a.on("dispose",function(){s.removeEventListener("change",e)})}()}return o(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,r=0,n=e.length;n>r;r++){var i=e[r];if(i.kind!==this.kind_&&"showing"===i.mode){t=!0;break}}t?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t}(a.default);u.prototype.kind_="descriptions",u.prototype.controlText_="Descriptions",s.default.registerComponent("DescriptionsButton",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../utils/fn.js":243,"./text-track-button.js":189}],187:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./text-track-menu-item.js")),s=n(e("../../component.js")),l=n(e("../../utils/to-title-case.js")),u=function(e){function t(r,n){i(this,t),n.track={kind:n.kind,player:r,label:l.default(n.kind)+" Off",default:!1,mode:"disabled"},n.selectable=!0,e.call(this,r,n),this.selected(!0)}return o(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,r=0,n=e.length;n>r;r++){var i=e[r];if(i.kind===this.track.kind&&"showing"===i.mode){t=!1;break}}this.selected(t)},t}(a.default);s.default.registerComponent("OffTextTrackMenuItem",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../utils/to-title-case.js":254,"./text-track-menu-item.js":190}],188:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./text-track-button.js")),s=n(e("../../component.js")),l=function(e){function t(r,n,o){i(this,t),e.call(this,r,n,o),this.el_.setAttribute("aria-label","Subtitles Menu")}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.update=function(){e.prototype.update.call(this);this.items&&this.items.length>1?this.show():this.hide()},t}(a.default);l.prototype.kind_="subtitles",l.prototype.controlText_="Subtitles",s.default.registerComponent("SubtitlesButton",l),r.default=l,t.exports=r.default},{"../../component.js":163,"./text-track-button.js":189}],189:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../track-button.js")),s=n(e("../../component.js")),l=n((function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(e("../../utils/fn.js")),e("./text-track-menu-item.js"))),u=n(e("./off-text-track-menu-item.js")),c=function(e){function t(r){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),n.tracks=r.textTracks(),e.call(this,r,n)}return o(t,e),t.prototype.createItems=function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.push(new u.default(this.player_,{kind:this.kind_}));var t=this.player_.textTracks();if(!t)return e;for(var r=0;r<t.length;r++){var n=t[r];n.kind===this.kind_&&e.push(new l.default(this.player_,{selectable:!0,track:n}))}return e},t}(a.default);s.default.registerComponent("TextTrackButton",c),r.default=c,t.exports=r.default},{"../../component.js":163,"../../utils/fn.js":243,"../track-button.js":195,"./off-text-track-menu-item.js":187,"./text-track-menu-item.js":190}],190:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../menu/menu-item.js")),s=n(e("../../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/fn.js")),u=n(e("global/window")),c=n(e("global/document")),d=function(e){function t(r,n){var o=this;i(this,t);var a=n.track,s=r.textTracks();n.label=a.label||a.language||"Unknown",n.selected=a.default||"showing"===a.mode,e.call(this,r,n),this.track=a,s&&function(){var e=l.bind(o,o.handleTracksChange,o.id_);s.addEventListener("change",e),o.on("dispose",function(){s.removeEventListener("change",e)})}(),s&&void 0===s.onchange&&function(){var e=void 0;o.on(["tap","click"],function(){if("object"!=typeof u.default.Event)try{e=new u.default.Event("change")}catch(e){}e||(e=c.default.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(e)})}()}return o(t,e),t.prototype.handleClick=function(t){var r=this.track.kind,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var i=0;i<n.length;i++){var o=n[i];o.kind===r&&(o.mode=o===this.track?"showing":"disabled")}},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t}(a.default);s.default.registerComponent("TextTrackMenuItem",d),r.default=d,t.exports=r.default},{"../../component.js":163,"../../menu/menu-item.js":207,"../../utils/fn.js":243,"global/document":79,"global/window":80}],191:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../component.js")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/dom.js")),l=n(e("../../utils/format-time.js")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"timeupdate",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=s.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Current Time"))+" </span>0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=this.localize("Current Time"),r=l.default(e,this.player_.duration());r!==this.formattedTime_&&(this.formattedTime_=r,this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(t)+"</span> "+r)},t}(a.default);a.default.registerComponent("CurrentTimeDisplay",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/format-time.js":245}],192:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../component.js")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/dom.js")),l=n(e("../../utils/format-time.js")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"durationchange",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=s.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Duration Time"))+"</span> 0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){var e=this.player_.duration();if(e&&this.duration_!==e){this.duration_=e;var t=this.localize("Duration Time"),r=l.default(e);this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(t)+"</span> "+r}},t}(a.default);a.default.registerComponent("DurationDisplay",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/format-time.js":245}],193:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../component.js")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/dom.js")),l=n(e("../../utils/format-time.js")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"timeupdate",this.updateContent),this.on(r,"durationchange",this.updateContent)}return o(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=s.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.htmlEncode(this.localize("Remaining Time"))+"</span> -0:00"},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateContent=function(){if(this.player_.duration()){var e=this.localize("Remaining Time"),t=l.default(this.player_.remainingTime());t!==this.formattedTime_&&(this.formattedTime_=t,this.contentEl_.innerHTML='<span class="vjs-control-text">'+this.htmlEncode(e)+"</span> -"+t)}},t}(a.default);a.default.registerComponent("RemainingTimeDisplay",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../utils/dom.js":241,"../../utils/format-time.js":245}],194:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("../../component.js")),a=function(e){function t(){n(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t.prototype.blank=function(){this.el().innerHTML="<div><span></span></div>"},t.prototype.unblank=function(){this.el().innerHTML="<div><span>/</span></div>"},t}(o.default);o.default.registerComponent("TimeDivider",a),r.default=a,t.exports=r.default},{"../../component.js":163}],195:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../menu/menu-button.js")),s=n(e("../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/fn.js")),u=function(e){function t(r,n){i(this,t);var o=n.tracks;if(e.call(this,r,n),this.items.length<=1&&this.hide(),o){var a=l.bind(this,this.update);o.addEventListener("removetrack",a),o.addEventListener("addtrack",a),this.player_.on("dispose",function(){o.removeEventListener("removetrack",a),o.removeEventListener("addtrack",a)})}}return o(t,e),t}(a.default);s.default.registerComponent("TrackButton",u),r.default=u,t.exports=r.default},{"../component.js":163,"../menu/menu-button.js":206,"../utils/fn.js":243}],196:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../slider/slider.js")),s=n(e("../../component.js")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../../utils/fn.js")),u=(n(e("./volume-level.js")),function(e){function t(r,n){i(this,t),e.call(this,r,n),this.on(r,"volumechange",this.updateARIAAttributes),r.ready(l.bind(this,this.updateARIAAttributes))}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar "},{"aria-label":"volume level"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t}(a.default));u.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},u.prototype.playerEvent="volumechange",s.default.registerComponent("VolumeBar",u),r.default=u,t.exports=r.default},{"../../component.js":163,"../../slider/slider.js":216,"../../utils/fn.js":243,"./volume-level.js":198}],197:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../../component.js")),s=(n(e("./volume-bar.js")),function(e){function t(r,n){i(this,t),e.call(this,r,n),r.tech_&&!1===r.tech_.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(r,"loadstart",function(){!1===r.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return o(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},t}(a.default));s.prototype.options_={children:["volumeBar"]},a.default.registerComponent("VolumeControl",s),r.default=s,t.exports=r.default},{"../../component.js":163,"./volume-bar.js":196}],198:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("../../component.js")),a=function(e){function t(){n(this,t),e.apply(this,arguments)}return i(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(o.default);o.default.registerComponent("VolumeLevel",a),r.default=a,t.exports=r.default},{"../../component.js":163}],199:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/fn.js")),s=n(e("../component.js")),l=n(e("../popup/popup.js")),u=n(e("../popup/popup-button.js")),c=n(e("./mute-toggle.js")),d=n(e("./volume-control/volume-bar.js")),p=function(e){function t(r){function n(){r.tech_&&!1===r.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),void 0===o.inline&&(o.inline=!0),void 0===o.vertical&&(o.vertical=!o.inline),o.volumeBar=o.volumeBar||{},o.volumeBar.vertical=!!o.vertical,e.call(this,r,o),this.on(r,"volumechange",this.volumeUpdate),this.on(r,"loadstart",this.volumeUpdate),n.call(this),this.on(r,"loadstart",n)}return o(t,e),t.prototype.buildCSSClass=function(){var t="";return t=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+e.prototype.buildCSSClass.call(this)+" "+t},t.prototype.createPopup=function(){var e=new l.default(this.player_,{contentElType:"div"}),t=new d.default(this.player_,this.options_.volumeBar);return e.addChild(t),this.menuContent=e,this.volumeBar=t,this.attachVolumeBarEvents(),e},t.prototype.handleClick=function(){c.default.prototype.handleClick.call(this),this.buttonPressed_=!this.buttonPressed_,e.prototype.handleClick.call(this)},t.prototype.attachVolumeBarEvents=function(){this.menuContent.on(["mousedown","touchdown"],a.bind(this,this.handleMouseDown))},t.prototype.handleMouseDown=function(){this.on(["mousemove","touchmove"],a.bind(this.volumeBar,this.volumeBar.handleMouseMove)),this.on(this.el_.ownerDocument,["mouseup","touchend"],this.handleMouseUp)},t.prototype.handleMouseUp=function(){this.off(["mousemove","touchmove"],a.bind(this.volumeBar,this.volumeBar.handleMouseMove))},t}(u.default);p.prototype.volumeUpdate=c.default.prototype.update,p.prototype.controlText_="Volume",p.prototype.buttonPressed_=!1,p.prototype.unpressButton=function(){this.menuContent.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.buttonPressed_=!1},s.default.registerComponent("VolumeMenuButton",p),r.default=p,t.exports=r.default},{"../component.js":163,"../popup/popup-button.js":212,"../popup/popup.js":213,"../utils/fn.js":243,"./mute-toggle.js":169,"./volume-control/volume-bar.js":196}],200:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./component")),s=n(e("./modal-dialog")),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./utils/dom")),u=n(e("./utils/merge-options")),c=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.contentEl_.setAttribute("tabIndex",0),this.on(r,"error",this.open)}return o(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t.prototype.open=function(){e.prototype.open.call(this),this.opened_&&l.textContent(this.descEl_,this.content())},t}(s.default);c.prototype.options_=u.default(s.default.prototype.options_,{fillAlways:!0,temporary:!1,uncloseable:!0}),a.default.registerComponent("ErrorDisplay",c),r.default=c,t.exports=r.default},{"./component":163,"./modal-dialog":209,"./utils/dom":241,"./utils/merge-options":250}],201:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./utils/events.js")),i=function(){};i.prototype.allowedEvents_={},i.prototype.on=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},n.on(this,e,t),this.addEventListener=r},i.prototype.addEventListener=i.prototype.on,i.prototype.off=function(e,t){n.off(this,e,t)},i.prototype.removeEventListener=i.prototype.off,i.prototype.one=function(e,t){var r=this.addEventListener;this.addEventListener=function(){},n.one(this,e,t),this.addEventListener=r},i.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=n.fixEvent(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),n.trigger(this,e)},i.prototype.dispatchEvent=i.prototype.trigger,r.default=i,t.exports=r.default},{"./utils/events.js":242}],202:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("./utils/log")),i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)};r.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=function(){e.apply(this,arguments)},o={};"object"==typeof t?("function"==typeof t.init&&(n.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),t.constructor=t.init),t.constructor!==Object.prototype.constructor&&(r=t.constructor),o=t):"function"==typeof t&&(r=t),i(r,e);for(var a in o)o.hasOwnProperty(a)&&(r.prototype[a]=o[a]);return r},t.exports=r.default},{"./utils/log":249}],203:[function(e,t,r){"use strict";r.__esModule=!0;for(var n=function(e){return e&&e.__esModule?e:{default:e}}(e("global/document")),i={},o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],a=o[0],s=void 0,l=0;l<o.length;l++)if(o[l][1]in n.default){s=o[l];break}if(s)for(l=0;l<s.length;l++)i[a[l]]=s[l];r.default=i,t.exports=r.default},{"global/document":79}],204:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./component")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./utils/dom.js")),l=(n(e("global/document")),function(e){function t(r,n){i(this,t),e.call(this,r,n)}return o(t,e),t.prototype.createEl=function(){this.contentEl_=s.createEl("span",{});var t=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return t.appendChild(this.contentEl_),t},t}(a.default));a.default.registerComponent("LoadingSpinner",l),r.default=l,t.exports=r.default},{"./component":163,"./utils/dom.js":241,"global/document":79}],205:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("object.assign")),i=function e(t){"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:"object"==typeof t&&n.default(this,t),this.message||(this.message=e.defaultMessages[this.code]||"")};i.prototype.code=0,i.prototype.message="",i.prototype.status=null,i.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],i.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var o=0;o<i.errorTypes.length;o++)i[i.errorTypes[o]]=o,i.prototype[i.errorTypes[o]]=o;r.default=i,t.exports=r.default},{"object.assign":73}],206:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../clickable-component.js")),l=i(e("../component.js")),u=i(e("./menu.js")),c=n(e("../utils/dom.js")),d=n(e("../utils/fn.js")),p=i(e("../utils/to-title-case.js")),h=n(e("../utils/browser.js")),f=i((i(e("global/window")),e("../utils/close-other-menu.js"))),m=function(e){function t(r){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this,r,n),this.update(),this.enabled_=!0,this.el_.setAttribute("aria-haspopup","true"),this.el_.setAttribute("role","menuitem"),this.on("keydown",this.handleSubmenuKeyPress),this.on("mouseover",this.handleMouseOver),this.on("mouseleave",this.handleMouseLeave),this.on("focus",this.clearOtherMenus);var i=this;r.on("userinactive",function(){i.buttonPressed_&&i.unpressButton()})}return a(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.el_.setAttribute("aria-expanded","false"),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createMenu=function(){var e=new u.default(this.player_);if(this.options_.title){var t=c.createEl("li",{className:"vjs-menu-title",innerHTML:this.htmlEncode(p.default(this.options_.title)),tabIndex:-1});e.children_.unshift(t),c.insertElFirst(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},t.prototype.hasJustBeenClicked=function(){return!1},t.prototype.handleClick=function(){this.hasJustBeenClicked()||(this.clearOtherMenus(),this.one(this.menu.contentEl(),"mouseleave",d.bind(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton())},t.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&t.preventDefault()):38===t.which||40===t.which?this.buttonPressed_||(this.pressButton(),t.preventDefault()):e.prototype.handleKeyPress.call(this,t)},t.prototype.handleSubmenuKeyPress=function(e){(27===e.which||9===e.which)&&(this.buttonPressed_&&this.unpressButton(),9!==e.which&&e.preventDefault())},t.prototype.handleMouseOver=function(){this.clearOtherMenus(),this.buttonPressed_||this.pressButton()},t.prototype.handleMouseLeave=function(){this.unpressButton()},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){if(this.enabled_){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false");var e=this.player().getChild("textTrackSettings").el_.className;h.IS_ANDROID&&e.indexOf("vjs-hidden")>=0&&this.el_.focus()}},t.prototype.disable=function(){return this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.enabled_=!1,e.prototype.disable.call(this)},t.prototype.enable=function(){return this.enabled_=!0,e.prototype.enable.call(this)},t.prototype.clearOtherMenus=function(){f.default(this)},t}(s.default);l.default.registerComponent("MenuButton",m),r.default=m,t.exports=r.default},{"../clickable-component.js":161,"../component.js":163,"../utils/browser.js":238,"../utils/close-other-menu.js":240,"../utils/dom.js":241,"../utils/fn.js":243,"../utils/to-title-case.js":254,"./menu.js":208,"global/window":80}],207:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../clickable-component.js")),s=n(e("../component.js")),l=n(e("object.assign")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.selectable=n.selectable,this.selected(n.selected),this.selectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitem")}return o(t,e),t.prototype.createEl=function(t,r,n){return e.prototype.createEl.call(this,"li",l.default({className:"vjs-menu-item",innerHTML:this.htmlEncode(this.localize(this.options_.label)),tabIndex:-1},r),n=l.default({"aria-label":this.htmlEncode(this.localize(this.options_.label))},n))},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(a.default);s.default.registerComponent("MenuItem",u),r.default=u,t.exports=r.default},{"../clickable-component.js":161,"../component.js":163,"object.assign":73}],208:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("../component.js")),s=n(e("../utils/dom.js")),l=n(e("../utils/fn.js")),u=n(e("../utils/events.js")),c=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.focusedChild_=-1,this.on("keydown",this.handleKeyPress)}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",l.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=s.createEl(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.setAttribute("role","presentation"),r.appendChild(this.contentEl_),u.on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e,!0)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e,!1)},t.prototype.focus=function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1],r=this.children().slice();r.length&&r[0].className&&/vjs-menu-title/.test(r[0].className)&&r.shift(),r.length>0&&(0>e?e=0:e>=r.length&&(e=r.length-1),-1!==(e=this.getNextVisibleElement(e,r,t))&&(this.focusedChild_=e,r[e].el_.focus()))},t.prototype.getNextVisibleElement=function(e,t,r){for(;e>=0&&e<t.length;){if(s.isVisible(t[e].el_))return e;r?e+=1:e-=1}return-1},t}(a.default);a.default.registerComponent("Menu",c),r.default=c,t.exports=r.default},{"../component.js":163,"../utils/dom.js":241,"../utils/events.js":242,"../utils/fn.js":243}],209:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./utils/dom")),l=i(e("./utils/fn")),u=n((n(e("./utils/log")),e("./component"))),c=(n(e("./close-button")),"vjs-modal-dialog"),d=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=s.createEl("div",{className:c+"-content"},{role:"document"}),this.descEl_=s.createEl("p",{className:c+"-description vjs-offscreen",id:this.el().getAttribute("aria-describedby")}),s.textContent(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}return a(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return c+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){27===e.which&&this.closeable()&&this.close()},t.prototype.label=function(){return this.options_.label||this.localize("Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",l.bind(this,this.handleKeyPress)),this.playerControlsEnabled_=e.controls(),this.playerControlsEnabled_&&e.controls(!1),this.show(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}return this},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",l.bind(this,this.handleKeyPress)),this.playerControlsEnabled_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.options_.temporary&&this.dispose()}return this},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,r=this.getChild("closeButton");if(t&&!r){var n=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(r,"close",this.close)}!t&&r&&(this.off(r,"close",this.close),this.removeChild(r),r.dispose())}return this.closeable_},t.prototype.fill=function(){return this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),r=t.parentNode,n=t.nextSibling;return this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r&&r.removeChild(t),this.empty(),s.insertContent(t,e),this.trigger("modalfill"),r&&(n?r.insertBefore(t,n):r.appendChild(t)),this},t.prototype.empty=function(){return this.trigger("beforemodalempty"),s.emptyEl(this.contentEl()),this.trigger("modalempty"),this},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t}(u.default);d.prototype.options_={temporary:!0},u.default.registerComponent("ModalDialog",d),r.default=d,t.exports=r.default},{"./close-button":162,"./component":163,"./utils/dom":241,"./utils/fn":243,"./utils/log":249}],210:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./component.js")),l=i(e("global/document")),u=i(e("global/window")),c=n(e("./utils/events.js")),d=n(e("./utils/dom.js")),p=n(e("./utils/fn.js")),h=n(e("./utils/guid.js")),f=n(e("./utils/browser.js")),m=i(e("./utils/log.js")),g=i(e("./utils/to-camel-case.js")),y=i(e("./utils/to-title-case.js")),v=e("./utils/time-ranges.js"),_=e("./utils/buffer.js"),b=n(e("./utils/stylesheet.js")),S=i(e("./fullscreen-api.js")),T=i(e("./media-error.js")),k=i(e("safe-json-parse/tuple")),w=i(e("object.assign")),E=i(e("./utils/merge-options.js")),C=i(e("./tracks/text-track-list-converter.js")),P=i(e("./tracks/audio-track-list.js")),I=i(e("./tracks/video-track-list.js")),R=i((i((i((i((i((i((i((i((i((i((i(e("./tech/loader.js")),e("./FullscreenOutline.js"))),e("./poster-image.js"))),e("./tracks/text-track-display.js"))),e("./loading-spinner.js"))),e("./aria-alerts.js"))),e("./big-play-button.js"))),e("./control-bar/control-bar.js"))),e("./error-display.js"))),e("./tracks/text-track-settings.js"))),e("./modal-dialog"))),A=i(e("./utils/highContrastCheck.js")),M=i(e("./utils/font-checker.js")),O=i(e("./tech/tech.js")),j=(i(e("./tech/html5.js")),function(e){function t(r,n,i,a){var s=this;if(o(this,t),r.id=r.id||"vjs_video_"+h.newGUID(),n=w.default(t.getTagSettings(r),n),AMP.Logger.setLogConfig(n.traceConfig),n.initChildren=!1,n.createEl=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof r.closest){var l=r.closest("[lang]");l&&(n.language=l.getAttribute("lang"))}else for(var u=r;u&&1===u.nodeType;){if(d.getElAttributes(u).hasOwnProperty("lang")){n.language=u.getAttribute("lang");break}u=u.parentNode}if(e.call(this,null,n,i),this.multiPlayerContainerDiv=null,this.styleEl_=null,this.sharedStyleAndParentDiv=!1,this.mainPlayer=null,a&&(this.multiPlayerContainerDiv=a.multiPlayerContainerDiv,this.styleEl_=a.styleEl_,this.sharedStyleAndParentDiv=!0,this.mainPlayer=a),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=r,this.tagAttributes=r&&d.getElAttributes(r),this.language(this.options_.language),n.languages?function(){var e={};Object.getOwnPropertyNames(n.languages).forEach(function(t){e[t.toLowerCase()]=n.languages[t]}),s.languages_=e}():this.languages_=t.prototype.options_.languages,this.cache_={},n.muted&&(this.cache_.muted=!0),this.cache_.volume=1,this.poster_=n.poster||"",r.poster="",this.controls_=!!n.controls,this.adClickEnabled_=!!n.adClickEnabled,r.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var c=E.default(this.options_);this.options_.playerOptions=c,this.initChildren(),this.isAudio("audio"===r.nodeName.toLowerCase()),this.addClass(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),this.isAudio()?this.el_.setAttribute("aria-label",n.ariaLabel||"audio player"):this.el_.setAttribute("aria-label",n.ariaLabel||"video player"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),this.addClass("vjs-player"),f.IS_IOS||this.addClass("vjs-workinghover"),t.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_),this.addThrottledWindowResizeListener(function(){this.updateStyleEl_()},200,this),n.plugins&&function(){var e=n.plugins;Object.getOwnPropertyNames(e).forEach(function(t){if("function"==typeof this[t])try{this[t](e[t])}catch(e){m.default.error("plugin "+t+" failed:",e)}else m.default.error("Unable to find plugin:",t)},s)}(),this.on("keydown",this.handleKeyPress)}return a(t,e),t.prototype.dispose=function(){this.el_&&(this.trigger("disposing"),this.trigger("dispose"),this.off("dispose")),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this),this.sharedStyleAndParentDiv||(this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),this.multiPlayerContainerDiv&&this.multiPlayerContainerDiv.parentNode&&this.multiPlayerContainerDiv.parentNode.removeChild(this.multiPlayerContainerDiv),this.multiPlayerContainerDiv&&d.removeElData(this.multiPlayerContainerDiv),this.multiPlayerContainerDiv=null)},t.prototype.createEl=function(){var t=!1;this.multiPlayerContainerDiv||(this.multiPlayerContainerDiv=e.prototype.createEl.call(this,"div"),this.multiPlayerContainerDiv.playerId=this.tag.id,this.multiPlayerContainerDiv.player=this,t=!0);var r=this.el_=e.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var i=d.getElAttributes(n),o=this;if(Object.getOwnPropertyNames(i).forEach(function(e){t&&("class"===e?o.multiPlayerContainerDiv.className=i[e]:o.multiPlayerContainerDiv.setAttribute(e,i[e]))}),null===this.mainPlayer?(this.el_.setAttribute("tabIndex",this.multiPlayerContainerDiv.getAttribute("tabIndex")),this.multiPlayerContainerDiv.setAttribute("tabIndex","-1")):this.el_.setAttribute("tabIndex",this.mainPlayer.el_.getAttribute("tabIndex")),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=r.player=this,this.addClass("vjs-paused"),!0!==u.default.VIDEOJS_NO_DYNAMIC_STYLE&&null===this.styleEl_){this.styleEl_=b.createStyleElement("vjs-styles-dimensions");var a=d.$(".vjs-styles-defaults"),s=d.$("head");s.insertBefore(this.styleEl_,a?a.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=n.getElementsByTagName("a"),c=0;c<l.length;c++){var p=l.item(c);d.addElClass(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,t&&n.parentNode.insertBefore(this.multiPlayerContainerDiv,n),this.multiPlayerContainerDiv.appendChild(r),d.insertElFirst(n,r),this.children_.unshift(n),this.el_=r,A.default(),M.default(),r},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var r=e+"_";if(void 0===t)return-1!==(""+this[r]).indexOf("%")?parseInt(this.multiPlayerContainerDiv["offset"+y.default(e)],10):this[r]||0;if(""===t)this[r]=void 0;else if(-1!==(""+t).indexOf("%"))this.multiPlayerContainerDiv.style[e]=t,this[r]=t;else if("auto"===t)this._autoDimension=e;else{var n=parseFloat(t);if(isNaN(n))return m.default.error('Improper value "'+t+'" supplied for for '+e),this;this[r]=n}return this.updateStyleEl_(),this},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,void(e?d.addElClass(this.multiPlayerContainerDiv,"vjs-fluid"):d.removeElClass(this.multiPlayerContainerDiv,"vjs-fluid")))},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==u.default.VIDEOJS_NO_DYNAMIC_STYLE){var e=20,t=p.bind(this,function(){var r=void 0,n=void 0,i=void 0,o=void 0;void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?i=this.aspectRatio_:this.videoWidth()?(i=this.videoWidth()+":"+this.videoHeight(),1080===this.videoHeight()&&1920===this.videoWidth()&&e--&&this.setTimeout(t,100)):(i="16:9",e--&&this.setTimeout(t,100));var a=i.split(":"),s=a[1]/a[0];r=void 0!==this.width_?this.dimension("width"):void 0!==this.height_?this.height_/s:this.videoWidth()||300,n=void 0!==this.height_?this.dimension("height"):r*s;var l=d.getElAttributes(this.multiPlayerContainerDiv);o=/^[^a-zA-Z]/.test(l.id)?"dimensions-"+l.id:l.id+"-dimensions",null!==this.mainPlayer&&this.mainPlayer.sizeCal||(d.addElClass(this.multiPlayerContainerDiv,o),b.setTextContent(this.styleEl_,"\n                ."+o+" {\n                        width: "+r+"px;\n                        height: "+n+"px;\n                    }\n\n                ."+o+".vjs-fluid {\n                        padding-top: "+100*s+"%;\n                    }\n            "),this.sizeCal=!0)});t()}else{var r="number"==typeof this.width_?this.width_:this.options_.width,n="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();i&&(r>=0&&(i.width=r),n>=0&&(i.height=n))}},t.prototype.loadTech_=function(e,t){this.tech_&&this.unloadTech_(),"Html5"!==e&&"Html5FairPlayHLS"!==e&&this.tag&&(O.default.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=e,this.isReady_=!1;var r=this.id()+"_"+e+"_api_"+parseInt(1e4*Math.random()),n=w.default({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:t,playerId:this.id(),techId:r,videoTracks:this.videoTracks_,textTracks:this.textTracks_,audioTracks:this.audioTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"],staleDataTimeLimitInSec:this.options_.staleDataTimeLimitInSec},this.options_[g.default(e)]);n.playerOptions=w.default({},this.options_),this.tag&&(n.tag=this.tag),n.originalTagAttributes=this.tagAttributes,t&&(this.currentType_=t.type,t.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=t.src);var i=O.default.getTech(e);i||(i=s.default.getComponent(e)),this.tech_=new i(n),this.tech_.ready(p.bind(this,this.handleTechReady_),!0),C.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"sourceset",this.handleTechSourceSet_),this.on(this.tech_,"downloadbitratechanged",this.handleTechDownloadBitrateChanged_),this.on(this.tech_,"playbackbitratechanged",this.handleTechPlaybackBitrateChanged_),this.on(this.tech_,"splicewaiting",this.handleTechSpliceWaiting_),this.usingNativeControls(this.techGet_("controls")),(this.controls()&&!this.usingNativeControls()||!this.controls()&&this.adClickEnabled_)&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===e&&this.tag||d.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){this.videoTracks_=this.videoTracks(),this.textTracks_=this.textTracks(),this.audioTracks_=this.audioTracks(),this.textTracksJson_=C.default.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){if(e&&e.IWillNotUseThisInPlugins)return this.tech_;var t="\n      Please make sure that you are not using this inside of a plugin.\n      To disable this alert and error, please pass in an object with\n      `IWillNotUseThisInPlugins` to the `tech` method. See\n      https://github.com/videojs/video.js/issues/2617 for more info.\n    ";throw u.default.alert(t),new Error(t)},t.prototype.addTechControlsListeners_=function(){this.tech_&&(this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_))},t.prototype.removeTechControlsListeners_=function(){this.tech_&&(this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_))},t.prototype.handleTechSourceSet_=function(){this.trigger("sourceset")},t.prototype.handleTechDownloadBitrateChanged_=function(){this.trigger("downloadbitratechanged")},t.prototype.handleTechPlaybackBitrateChanged_=function(){this.trigger("playbackbitratechanged")},t.prototype.handleTechSpliceWaiting_=function(){this.trigger("splicewaiting")},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){m.default("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){return void 0!==e?(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.removeClass("vjs-waiting"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-waiting"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechProgress_=function(){this.trigger("progress")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(Math.round(this.techGet_("duration")));var e=function(e,t){null!=e&&(t?e.show():e.hide())},t=isFinite(this.duration());null!=this.controlBar&&(e(this.controlBar.progressControl,t),e(this.controlBar.currentTimeDisplay,t),e(this.controlBar.durationDisplay,t),e(this.controlBar.remainingTimeDisplay,t),t?this.controlBar.timeDivider.unblank():this.controlBar.timeDivider.blank())},t.prototype.handleTechClick_=function(e){0===e.button&&(this.controls()&&(this.paused()?this.play():this.pause()),this.trigger("tech-click"))},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?(d.addElClass(this.multiPlayerContainerDiv,"vjs-fullscreen"),d.removeElClass(this.multiPlayerContainerDiv,"vjs-fluid")):(this.fluid()&&d.addElClass(this.multiPlayerContainerDiv,"vjs-fluid"),d.removeElClass(this.multiPlayerContainerDiv,"vjs-fullscreen"),this.updateStyleEl_())},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechSuspend_=function(){this.trigger("suspend")},t.prototype.handleTechAbort_=function(){this.trigger("abort")},t.prototype.handleTechEmptied_=function(){this.trigger("emptied")},t.prototype.handleTechStalled_=function(){this.trigger("stalled")},t.prototype.handleTechLoadedMetaData_=function(){this.error(null),this.trigger("loadedmetadataInternal"),this.trigger("loadedmetadata")},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},t.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},t.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},t.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},t.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[e](t)},!0);else try{this.tech_&&this.tech_[e](t)}catch(e){throw m.default(e),e}},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[e]()}catch(t){throw void 0===this.tech_[e]?m.default("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(m.default("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):m.default(t),t}},t.prototype.play=function(){return this.src()||this.currentSrc()?this.techCall_("play"):this.tech_.one("loadstart",function(){this.play()}),this},t.prototype.pause=function(){return this.techCall_("pause"),this},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.scrubbing=function(e){return void 0!==e?(this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},t.prototype.currentTime=function(e){var t=this.techGet_("currentTime")||0;if(void 0!==e){this.trigger("currentTimeChanging",{time:e});var r=this.duration();return 0>=e?e=0:e>=r&&(e=r-.1),this.techCall_("setCurrentTime",e),t>e&&this.trigger("rewind"),this}return this.cache_.currentTime=t},t.prototype.duration=function(e){return void 0===e?this.cache_.duration||0:(0>(e=parseFloat(e)||0)&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=v.createTimeRange(0,0)),e},t.prototype.bufferedPercent=function(){return _.bufferedPercent(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),r=e.end(e.length-1);return r>t&&(r=t),r},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),this):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?(e?this.cache_.muted=!0:(this.cache_.muted=!1,void 0!==this.cache_.volume&&this.volume(this.cache_.volume)),this.techCall_("setMuted",e),this.trigger(e?"mute":"unmute"),this):this.techGet_("muted")||!1},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?(this.isFullscreen_=!!e,this):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=S.default;return this.isFullscreen(!0),e.requestFullscreen?(c.on(l.default,e.fullscreenchange,p.bind(this,function t(){this.isFullscreen(l.default[e.fullscreenElement]),!1===this.isFullscreen()&&c.off(l.default,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.multiPlayerContainerDiv[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.exitFullscreen=function(){var e=S.default;return this.isFullscreen(!1),e.requestFullscreen?l.default[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=l.default.documentElement.style.overflow,c.on(l.default,"keydown",p.bind(this,this.fullWindowOnEscKey)),l.default.documentElement.style.overflow="hidden",d.addElClass(l.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,c.off(l.default,"keydown",this.fullWindowOnEscKey),l.default.documentElement.style.overflow=this.docOrigOverflow,d.removeElClass(l.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,r=0,n=this.options_.techOrder;r<n.length;r++){var i=y.default(n[r]),o=O.default.getTech(i);if(o||(o=s.default.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else m.default.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,r=this.options_.techOrder.map(y.default).map(function(e){return[e,O.default.getTech(e)||s.default.getComponent(e)]}).filter(function(e){var t=e[0],r=e[1];return r?r.isSupported():(m.default.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),n=function(e,t,r){var n=void 0;return e.some(function(e){return t.some(function(t){return!!(n=r(e,t))||void 0})}),n},i=function(e,r){var n=e[0];return e[1].canPlaySource(r,t.options_[g.default(n)])?{source:r,tech:n}:void 0};return(this.options_.sourceOrder?n(e,r,function(e){return function(t,r){return e(r,t)}}(i)):n(r,e,i))||!1},t.prototype.src=function(e){if(void 0===e)return this.techGet_("src");var t=O.default.getTech(this.techName_);return t||(t=s.default.getComponent(this.techName_)),Array.isArray(e)?this.sourceList_(e):"string"==typeof e?this.src({src:e}):e instanceof Object&&(e.type&&!t.canPlaySource(e,this.options_[g.default(this.techName_)])?this.sourceList_([e]):(this.cache_.src=e.src,this.currentType_=e.type||"",this.ready(function(){t.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},t.prototype.sourceList_=function(e){var t=this.selectSource(e);t?t.tech===this.techName_?this.src(t.source):this.loadTech_(t.tech,t.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},t.prototype.load=function(){return this.techCall_("load"),this},t.prototype.reset=function(){return this.loadTech_(y.default(this.options_.techOrder[0]),null),this.techCall_("reset"),this},t.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},t.prototype.currentType=function(){return this.currentType_||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),this.options_.preload=e,this.techCall_("updatePlayerOptions",this.options_),this):this.techGet_("preload")},t.prototype.autoplay=function(e){return void 0!==e?(this.techCall_("setAutoplay",e),this.options_.autoplay=e,this.techCall_("updatePlayerOptions",this.options_),this):this.techGet_("autoplay",e)},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),this.options_.loop=e,this.techCall_("updatePlayerOptions",this.options_),this):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange"),this)},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return void 0!==e?(e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},t.prototype.usingNativeControls=function(e){return void 0!==e?(e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},t.prototype.error=function(e){if(void 0===e)return this.error_||null;var t=0;if(null!==e&&(t=e.code||0),null===e)return this.error_=e,this.removeClass("vjs-error"),this.controlBar&&this.controlBar.volumeControl&&this.controlBar.volumeControl.volumeBar&&this.controlBar.volumeControl.volumeBar.el_.setAttribute("tabIndex",0),this.errorDisplay&&this.errorDisplay.close(),this;if(!this.retryPlayerLoad(t)){this.error_=e instanceof T.default?e:new T.default(e),this.checkWidewineHttpErrorScenario(e),this.addClass("vjs-error"),this.controlBar&&this.controlBar.volumeControl&&this.controlBar.volumeControl.volumeBar&&this.controlBar.volumeControl.volumeBar.el_.setAttribute("tabIndex",-1),m.default.error((this.getFullAmpVersion?this.getFullAmpVersion():"")+" (CODE:"+this.error_.code+" "+T.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_);var r=this;setTimeout(function(){r.trigger("error")},50)}return this},t.prototype.ended=function(){return this.techGet_("ended")},t.prototype.seeking=function(){return this.techGet_("seeking")},t.prototype.seekable=function(){return this.techGet_("seekable")},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.userActive=function(e){var t=d.hasElClass(this.multiPlayerContainerDiv,"vjs-user-active");return void 0!==e?((e=!!e)!==t&&(e?(this.userActivity_=!0,d.removeElClass(this.multiPlayerContainerDiv,"vjs-user-inactive"),d.addElClass(this.multiPlayerContainerDiv,"vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),d.removeElClass(this.multiPlayerContainerDiv,"vjs-user-active"),d.addElClass(this.multiPlayerContainerDiv,"vjs-user-inactive"),this.trigger("userinactive"))),this):t},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,r=void 0,n=p.bind(this,this.reportUserActivity);this.on("mousedown",function(){n(),this.clearInterval(e),e=this.setInterval(n,250)}),this.on("mousemove",function(e){(e.screenX!==t||e.screenY!==r)&&(t=e.screenX,r=e.screenY,n())}),this.on("mouseup",function(){n(),this.clearInterval(e)}),this.on("keydown",n),this.on("keyup",n);var i=void 0;this.setInterval(function(){if(this.userActivity_&&this.isVisible()){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var e=this.options_.inactivityTimeout;e>0&&(i=this.setTimeout(function(){!this.userActivity_&&this.isVisible()&&this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?(this.techCall_("setPlaybackRate",e),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?(this.isAudio_=!!e,this):!!this.isAudio_},t.prototype.handleKeyPress=function(e){if(this.controls()&&this.isFullscreen()&&e.target===this.el_&&e.shiftKey&&9===e.which&&this.controls_){e.preventDefault();var t=this;setTimeout(function(){t.ariaAlerts.reverseFocus()},250)}},t.prototype.networkState=function(){return this.techGet_("networkState")},t.prototype.readyState=function(){return this.techGet_("readyState")},t.prototype.videoTracks=function(){return this.tech_?this.tech_.videoTracks():(this.videoTracks_=this.videoTracks_||new I.default,this.videoTracks_)},t.prototype.audioTracks=function(){return this.tech_?this.tech_.audioTracks():(this.audioTracks_=this.audioTracks_||new P.default,this.audioTracks_)},t.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},t.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},t.prototype.remoteTextTrackEls=function(){return this.tech_&&this.tech_.remoteTextTrackEls()},t.prototype.addTextTrack=function(e,t,r){return this.tech_&&this.tech_.addTextTrack(e,t,r)},t.prototype.addRemoteTextTrack=function(e){return this.tech_&&this.tech_.addRemoteTextTrack(e)},t.prototype.removeRemoteTextTrack=function(){var e=(arguments.length<=0||void 0===arguments[0]?{}:arguments[0]).track,t=void 0===e?arguments[0]:e;this.tech_&&this.tech_.removeRemoteTextTrack(t)},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:(this.language_=(""+e).toLowerCase(),this)},t.prototype.languages=function(){return t.prototype.options_.languagesMutated&&(t.prototype.options_.languagesMutated=!1,this.languages_=E.default(t.prototype.options_.languages,this.languages_)),this.languages_},t.prototype.toJSON=function(){var e=E.default(this.options_),t=e.tracks;e.tracks=[];for(var r=0;r<t.length;r++){var n=t[r];(n=E.default(n)).player=void 0,e.tracks[r]=n}return e},t.prototype.createModal=function(e,t){var r=this;(t=t||{}).content=e||"";var n=new R.default(r,t);return r.addChild(n),n.on("dispose",function(){r.removeChild(n)}),n.open()},t.getTagSettings=function(e){var t={sources:[],tracks:[]},r=d.getElAttributes(e),n=r["data-setup"];if(null!==n){var i=k.default(n||"{}"),o=i[0],a=i[1];o&&m.default.error(o),w.default(r,a)}if(w.default(t,r),e.hasChildNodes())for(var s=e.childNodes,l=0,u=s.length;u>l;l++){var c=s[l],p=c.nodeName.toLowerCase(),h=d.getElAttributes(c),f=h["data-setup"];if(null!==f){var g=k.default(f||"{}"),o=g[0],a=g[1];o&&m.default.error(o),w.default(h,a)}"source"===p?t.sources.push(h):"track"===p&&t.tracks.push(h)}return t},t}(s.default));j.players={};var D=u.default.navigator;j.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:5e3,playbackRates:[],children:["mediaLoader","fullscreenOutline","posterImage","textTrackDisplay","loadingSpinner","bigPauseButton","bigPlayButton","controlBar","errorDisplay","textTrackSettings","ariaAlerts"],language:D.languages&&D.languages[0]||D.userLanguage||D.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",plugins:{},manifestFetchAutoRetryForLive:!1,maxRetryCountForLive:5,retryIntervalForLiveInMSec:2e3,playerStartupTimeoutInMSec:1e4,playerStartupTimeoutTimer:!1},j.prototype.handleTechLoadStart_,j.prototype.handleLoadedMetaData_,j.prototype.handleTextData_,j.prototype.handleLoadedData_,j.prototype.handleUserActive_,j.prototype.handleUserInactive_,j.prototype.handleTimeUpdate_,j.prototype.handleTechEnded_,j.prototype.handleVolumeChange_,j.prototype.handleError_,j.prototype.flexNotSupported_=function(){var e=l.default.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},s.default.registerComponent("Player",j),r.default=j,t.exports=r.default},{"./FullscreenOutline.js":157,"./aria-alerts.js":158,"./big-play-button.js":159,"./component.js":163,"./control-bar/control-bar.js":166,"./error-display.js":200,"./fullscreen-api.js":203,"./loading-spinner.js":204,"./media-error.js":205,"./modal-dialog":209,"./poster-image.js":214,"./tech/html5.js":219,"./tech/loader.js":220,"./tech/tech.js":222,"./tracks/audio-track-list.js":223,"./tracks/text-track-display.js":228,"./tracks/text-track-list-converter.js":229,"./tracks/text-track-settings.js":231,"./tracks/video-track-list.js":236,"./utils/browser.js":238,"./utils/buffer.js":239,"./utils/dom.js":241,"./utils/events.js":242,"./utils/fn.js":243,"./utils/font-checker.js":244,"./utils/guid.js":246,"./utils/highContrastCheck.js":247,"./utils/log.js":249,"./utils/merge-options.js":250,"./utils/stylesheet.js":251,"./utils/time-ranges.js":252,"./utils/to-camel-case.js":253,"./utils/to-title-case.js":254,"global/document":79,"global/window":80,"object.assign":73,"safe-json-parse/tuple":76}],211:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("./player.js"));r.default=function(e,t){n.default.prototype[e]=t},t.exports=r.default},{"./player.js":210}],212:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../clickable-component.js")),l=i(e("../component.js")),u=(i((n((n((i(e("./popup.js")),e("../utils/dom.js"))),e("../utils/fn.js"))),e("../utils/to-title-case.js"))),function(e){function t(r){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];o(this,t),e.call(this,r,n),this.update()}return a(t,e),t.prototype.update=function(){var e=this.createPopup();this.popup&&this.removeChild(this.popup),this.popup=e,this.addChild(e),this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},t.prototype.createPopup=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+e.prototype.buildCSSClass.call(this)},t}(s.default));l.default.registerComponent("PopupButton",u),r.default=u,t.exports=r.default},{"../clickable-component.js":161,"../component.js":163,"../utils/dom.js":241,"../utils/fn.js":243,"../utils/to-title-case.js":254,"./popup.js":213}],213:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=function(e){return e&&e.__esModule?e:{default:e}}(e("../component.js")),s=n(e("../utils/dom.js")),l=n(e("../utils/fn.js")),u=n(e("../utils/events.js")),c=function(e){function t(){i(this,t),e.apply(this,arguments)}return o(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",l.bind(this,function(){this.unlockShowing()}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=s.createEl(t,{className:"vjs-menu-content"});var r=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),u.on(r,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),r},t}(a.default);a.default.registerComponent("Popup",c),r.default=c,t.exports=r.default},{"../component.js":163,"../utils/dom.js":241,"../utils/events.js":242,"../utils/fn.js":243}],214:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./clickable-component.js")),l=i(e("./component.js")),u=n(e("./utils/fn.js")),c=n(e("./utils/dom.js")),d=n((n(e("./utils/browser.js")),e("./utils/url.js"))),p=i(e("./utils/log.js")),h=function(e){function t(r,n){o(this,t),e.call(this,r,n),this.update(),r.on("posterchange",u.bind(this,this.update)),r.on("fullscreenchange",u.bind(this,this.updateCss)),r.addThrottledWindowResizeListener(u.bind(this,this.updateCss),50)}return a(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=c.createEl("div",{className:"vjs-poster",tabIndex:-1});return this.span=c.createEl("span",{className:"vjs-poster-span",tabIndex:-1}),e.appendChild(this.span),this.fallbackImg_=c.createEl("img"),e.appendChild(this.fallbackImg_),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(e&&-1===(e=d.getAbsoluteURL(e)).search(/^(https?:)?\/\//i)&&(p.default.warn("ignoring invalid poster URL"),e=""),this.fallbackImg_){var t=this;this.fallbackImg_.onload=function(){t.updateCss()},this.fallbackImg_.src=e,this.fallbackImg_.style.display="none",this.addCrossOriginPolicy(this.player().options().corsPolicy,this.fallbackImg_),setTimeout(function(){t.updateCss()},500)}else{var r="";e&&(r='url("'+e+'")'),this.el_.style.backgroundImage=r}},t.prototype.updateCss=function(){this.fallbackImg_.style.display="inline";var e="100%",t="auto";if(this.fallbackImg_.naturalHeight&&this.fallbackImg_.naturalWidth&&this.fallbackImg_.parentElement){var r=this.fallbackImg_.parentElement.clientWidth,n=this.fallbackImg_.parentElement.clientHeight;n&&r?r/n>this.fallbackImg_.naturalWidth/this.fallbackImg_.naturalHeight&&(t="100%",e="auto"):this.fallbackImg_.naturalHeight>this.fallbackImg_.naturalWidth&&(t="100%",e="auto")}c.setElAttributes(this.fallbackImg_,{width:e,height:t})},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t}(s.default);l.default.registerComponent("PosterImage",h),r.default=h,t.exports=r.default},{"./clickable-component.js":161,"./component.js":163,"./utils/browser.js":238,"./utils/dom.js":241,"./utils/fn.js":243,"./utils/log.js":249,"./utils/url.js":255}],215:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./utils/events.js")),o=n(e("global/document")),a=n(e("global/window")),s=!1,l=void 0,u=function(){var e=o.default.getElementsByTagName("video"),t=o.default.getElementsByTagName("audio"),r=[];if(e&&e.length>0)for(var n=0,i=e.length;i>n;n++)r.push(e[n]);if(t&&t.length>0)for(var n=0,i=t.length;i>n;n++)r.push(t[n]);if(r&&r.length>0)for(var n=0,i=r.length;i>n;n++){var a=r[n];if(!a||!a.getAttribute){c(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&l(a)}else s||c(1)},c=function(e,t){t&&(l=t),setTimeout(u,e)};"complete"===o.default.readyState?s=!0:i.one(a.default,"load",function(){s=!0});r.autoSetup=u,r.autoSetupTimeout=c,r.hasLoaded=function(){return s}},{"./utils/events.js":242,"global/document":79,"global/window":80}],216:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../component.js")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/dom.js")),l=n(e("object.assign")),u=function(e){function t(r,n){i(this,t),e.call(this,r,n),this.bar=this.getChild(this.options_.barName),this.seekHandle=this.getChild(this.options_.handleName),r.controls_&&this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(r,"controlsvisible",this.update),this.on(r,this.playerEvent,this.update)}return o(t,e),t.prototype.createEl=function(t){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return r.className=r.className+" vjs-slider",r=l.default({tabIndex:0},r),n=l.default({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),e.prototype.createEl.call(this,t,r,n)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),s.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;s.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||0>e||e===1/0)&&(e=0);var r=(100*e).toFixed(2)+"%";this.vertical()?t.el().style.height=r:t.el().style.width=r,this.seekHandle&&this.seekHandle.update()}}},t.prototype.calculateDistance=function(e){var t=s.getPointerPosition(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal"),this)},t}(a.default);a.default.registerComponent("Slider",u),r.default=u,t.exports=r.default},{"../component.js":163,"../utils/dom.js":241,"object.assign":73}],217:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){return e.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},e.streamFromParts=function(e,t){return e+"&"+t},e.streamToParts=function(e){var t={connection:"",stream:""};if(!e)return t;var r=e.search(/&(?!\w+=)/),n=void 0;return-1!==r?n=r+1:0===(r=n=e.lastIndexOf("/")+1)&&(r=n=e.length),t.connection=e.substring(0,r),t.stream=e.substring(n,e.length),t},e.isStreamingType=function(t){return t in e.streamingFormats},e.RTMP_RE=/^rtmp[set]?:\/\//i,e.isStreamingSrc=function(t){return e.RTMP_RE.test(t)},e.rtmpSourceHandler={},e.rtmpSourceHandler.canPlayType=function(t){return e.isStreamingType(t)?"maybe":""},e.rtmpSourceHandler.canHandleSource=function(t){var r=e.rtmpSourceHandler.canPlayType(t.type);return r||(e.isStreamingSrc(t.src)?"maybe":"")},e.rtmpSourceHandler.handleSource=function(t,r){var n=e.streamToParts(t.src);r.setRtmpConnection(n.connection),r.setRtmpStream(n.stream)},e.registerSourceHandler(e.rtmpSourceHandler),e},t.exports=r.default},{}],218:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){v[e]=function(){return this.el_.vjs_getProperty(e)}}r.__esModule=!0;for(var l=i(e("./tech")),u=n(e("../utils/dom.js")),c=n(e("../utils/url.js")),d=e("../utils/time-ranges.js"),p=e("./swfobject.js"),h=i(e("./flash-rtmp")),f=i(e("../component")),m=i(e("global/window")),g=i(e("object.assign")),y=(m.default.navigator,function(e){function t(r,n){o(this,t),e.call(this,r,n),r.source&&this.ready(function(){this.setSource(r.source)},!0),r.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(r.startTime)},!0),m.default.videojs=m.default.videojs||{},m.default.videojs.Flash=m.default.videojs.Flash||{},m.default.videojs.Flash.onReady=t.onReady,m.default.videojs.Flash.onEvent=t.onEvent,m.default.videojs.Flash.onError=t.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return a(t,e),t.prototype.createEl=function(){var e=this.options_,r=e.techId,n=g.default({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:e.autoplay,preload:e.preload,loop:e.loop,muted:e.muted},e.flashVars),i=g.default({wmode:"opaque",bgcolor:"#000000"},e.params),o=g.default({id:r,name:r,class:"vjs-tech"},e.attributes);return this.el_=t.embed(e.swf,n,i,o),this.el_.tech=this,this.el_},t.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},t.prototype.pause=function(){this.el_.vjs_pause()},t.prototype.src=function(e){return void 0===e?this.currentSrc():this.setSrc(e)},t.prototype.setSrc=function(e){if(e=c.getAbsoluteURL(e),this.el_.vjs_src(e),this.autoplay()){var t=this;this.setTimeout(function(){t.play()},0)}},t.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},t.prototype.setCurrentTime=function(t){var r=this.seekable();r.length&&(t=t>r.start(0)?t:r.start(0),t=t<r.end(r.length-1)?t:r.end(r.length-1),this.lastSeekTarget_=t,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",t),e.prototype.setCurrentTime.call(this))},t.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},t.prototype.duration=function(){if(0===this.readyState())return NaN;var e=this.el_.vjs_getProperty("duration");return e>=0?e:1/0},t.prototype.load=function(){this.el_.vjs_load()},t.prototype.poster=function(){this.el_.vjs_getProperty("poster")},t.prototype.setPoster=function(){},t.prototype.seekable=function(){var e=this.duration();return 0===e?d.createTimeRange():d.createTimeRange(0,e)},t.prototype.buffered=function(){var e=this.el_.vjs_getProperty("buffered");return 0===e.length?d.createTimeRange():d.createTimeRange(e[0][0],e[0][1])},t.prototype.supportsFullScreen=function(){return!1},t.prototype.enterFullScreen=function(){return!1},t}(l.default)),v=y.prototype,_="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),b="networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight".split(","),S=0;S<_.length;S++)s(_[S]),function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);v["set"+t]=function(t){return this.el_.vjs_setProperty(e,t)}}(_[S]);for(S=0;S<b.length;S++)s(b[S]);y.isSupported=function(){return p.swfobject.hasFlashPlayerVersion("11.4")},y.isVersionSupported=function(e){return p.swfobject.hasFlashPlayerVersion(e)},l.default.withSourceHandlers(y),y.nativeSourceHandler={},y.nativeSourceHandler.canPlayType=function(e){return e in y.formats?"maybe":""},y.nativeSourceHandler.canHandleSource=function(e){var t;return t=e.type?e.type.replace(/;.*/,"").toLowerCase():function(e){var t=c.getFileExtension(e);return t?"video/"+t:""}(e.src),y.nativeSourceHandler.canPlayType(t)},y.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},y.nativeSourceHandler.dispose=function(){},y.registerSourceHandler(y.nativeSourceHandler),y.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},y.onReady=function(e){var t=u.getEl(e),r=t&&t.tech;r&&r.el()&&y.checkReady(r)},y.checkReady=function(e){e.el()&&(e.el().vjs_getProperty?e.triggerReady():this.setTimeout(function(){y.checkReady(e)},50))},y.onEvent=function(e,t){u.getEl(e).tech.trigger(t,Array.prototype.slice.call(arguments,2))},y.onError=function(e,t){var r=u.getEl(e).tech;return"srcnotfound"===t?r.error(4):void r.error("FLASH: "+t)},y.embed=function(e,t,r,n){var i=y.getEmbedCode(e,t,r,n);return u.createEl("div",{innerHTML:i}).childNodes[0]},y.getEmbedCode=function(e,t,r,n){var i="",o="",a="";return t&&Object.getOwnPropertyNames(t).forEach(function(e){i+=encodeURIComponent(e)+"="+encodeURIComponent(t[e])+"&amp;"}),delete r.flashvars,r=g.default({movie:e,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},r),Object.getOwnPropertyNames(r).forEach(function(e){o+='<param name="'+encodeURIComponent(e)+'" value="'+("flashvars"!==e?encodeURI(r[e]):r[e])+'" />'}),n=g.default({data:e,width:"100%",height:"100%"},n),Object.getOwnPropertyNames(n).forEach(function(e){a+=encodeURIComponent(e)+'="'+encodeURI(n[e])+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},h.default(y),f.default.registerComponent("Flash",y),l.default.registerTech("Flash",y),r.default=y,t.exports=r.default},{"../component":163,"../utils/dom.js":241,"../utils/time-ranges.js":252,"../utils/url.js":255,"./flash-rtmp":217,"./swfobject.js":221,"./tech":222,"global/window":80,"object.assign":73}],219:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=function(e,t){return e.raw=t,e}(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used. \n            This may prevent text tracks from loading."]),l=i(e("./tech.js")),u=i(e("../component")),c=n(e("../utils/dom.js")),d=n(e("../utils/url.js")),p=n(e("../utils/fn.js")),h=i(e("../utils/log.js")),f=i(e("tsml")),m=n((i(e("../../../src/js/tracks/text-track.js")),e("../utils/browser.js"))),g=i(e("global/document")),y=i(e("global/window")),v=i(e("object.assign")),_=i(e("../utils/merge-options.js")),b=i(e("../utils/to-title-case.js")),S=n(e("../utils/guid.js")),T=function(e){function t(r,n){var i=this;o(this,t),e.call(this,r,n);var a=r.source,l=!1;if(a&&(this.el_.currentSrc!==a.src||r.tag&&3===r.tag.initNetworkState_)?this.setSource(a):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var u=this.el_.childNodes,g=u.length,y=[];g--;){var v=u[g];"track"===v.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(v),this.remoteTextTracks().addTrack_(v.track),l||this.el_.hasAttribute("crossorigin")||!d.isCrossOrigin(v.src)||(l=!0)):y.push(v))}for(var _=0;_<y.length;_++)this.el_.removeChild(y[_])}["audio","video"].forEach(function(e){var t=b.default(e);if(i["featuresNative"+t+"Tracks"]){var r=i.el()[e+"Tracks"];r&&r.addEventListener&&(r.addEventListener("change",p.bind(i,i["handle"+t+"TrackChange_"])),r.addEventListener("addtrack",p.bind(i,i["handle"+t+"TrackAdd_"])),r.addEventListener("removetrack",p.bind(i,i["handle"+t+"TrackRemove_"])),i.on("loadstart",i["removeOld"+t+"Tracks_"]))}}),this.featuresNativeTextTracks&&(l&&h.default.warn(f.default(s)),this.handleTextTrackChange_=p.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=p.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=p.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(m.TOUCH_ENABLED||m.IS_IPHONE||m.IS_NATIVE_ANDROID)&&!0===r.nativeControlsForTouch&&this.setControls(!0);var S="auto";"auto"!==c.getElAttributes(this.el_).preload&&(S="none"),c.setElAttributes(this.el_,{oncontextmenu:"return false;",preload:S,tabindex:"-1"}),this.setPoster(this.options_.playerOptions.poster||""),this.triggerReady()}return a(t,e),t.prototype.dispose=function(){var r=this;["audio","video","text"].forEach(function(e){var t=b.default(e),n=r.el_[e+"Tracks"];n&&n.removeEventListener&&(n.removeEventListener("change",r["handle"+t+"TrackChange_"]),n.removeEventListener("addtrack",r["handle"+t+"TrackAdd_"]),n.removeEventListener("removetrack",r["handle"+t+"TrackRemove_"])),n&&r.off("loadstart",r["removeOld"+t+"Tracks_"])}),t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!1===this.movingMediaElementInDOM)if(e){var r=e.cloneNode(!0);e.parentNode.insertBefore(r,e),t.disposeMediaElement(e),e=r}else{e=g.default.createElement("video");var n=this.options_.originalTagAttributes,i=_.default({},n);m.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete i.controls,c.setElAttributes(e,v.default(i,{id:this.options_.techId,class:"vjs-tech"}))}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var s=o[a],l={};void 0!==this.options_[s]&&(l[s]=this.options_[s]),c.setElAttributes(e,l)}return e},t.prototype.handleLateInit_=function(e){var t=this;if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var r=function(){var e=!1,r=function(){e=!0};t.on("loadstart",r);var n=function(){e||this.trigger("loadstart")};return t.on("loadedmetadata",n),t.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",n),e||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof r)return r.v}var n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(e){this.trigger(e)},this)})}},t.prototype.proxyNativeTextTracks_=function(){var e=this.el().textTracks;if(e){for(var t=0;t<e.length;t++)this.textTracks().addTrack_(e[t]);e.addEventListener&&(e.addEventListener("change",this.handleTextTrackChange_),e.addEventListener("addtrack",this.handleTextTrackAdd_),e.addEventListener("removetrack",this.handleTextTrackRemove_)),this.on("loadstart",this.removeOldTextTracks_)}},t.prototype.handleTextTrackChange=function(){var e=this.textTracks();this.textTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},t.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},t.prototype.handleVideoTrackChange_=function(){var e=this.videoTracks();this.videoTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleVideoTrackAdd_=function(e){this.videoTracks().addTrack_(e.track)},t.prototype.handleVideoTrackRemove_=function(e){this.videoTracks().removeTrack_(e.track)},t.prototype.handleAudioTrackChange_=function(){var e=this.audioTracks();this.audioTracks().trigger({type:"change",target:e,currentTarget:e,srcElement:e})},t.prototype.handleAudioTrackAdd_=function(e){this.audioTracks().addTrack_(e.track)},t.prototype.handleAudioTrackRemove_=function(e){this.audioTracks().removeTrack_(e.track)},t.prototype.removeOldTracks_=function(e,t){var r=[];if(t){for(a=0;a<e.length;a++){for(var n=e[a],i=!1,o=0;o<t.length;o++)if(t[o]===n){i=!0;break}i||r.push(n)}for(var a=0;a<r.length;a++){var s=r[a];e.removeTrack_(s)}}},t.prototype.removeOldTextTracks_=function(){var e=this.textTracks(),t=this.el().textTracks;this.removeOldTracks_(e,t)},t.prototype.removeOldAudioTracks_=function(){var e=this.audioTracks(),t=this.el().audioTracks;this.removeOldTracks_(e,t)},t.prototype.removeOldVideoTracks_=function(){var e=this.videoTracks(),t=this.el().videoTracks;this.removeOldTracks_(e,t)},t.prototype.play=function(){var e=this.el_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(){})},t.prototype.pause=function(){this.el_.pause()},t.prototype.paused=function(){return this.el_.paused},t.prototype.currentTime=function(){return this.el_.currentTime},t.prototype.currentAbsoluteTime=function(){},t.prototype.currentMediaTime=function(){},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){h.default(e,"Video is not ready. (Video.js)")}},t.prototype.currentVideoStreamList=function(){},t.prototype.currentAudioStreamList=function(){},t.prototype.videoBufferData=function(){},t.prototype.audioBufferData=function(){},t.prototype.currentDownloadBitrate=function(){},t.prototype.currentPlaybackBitrate=function(){},t.prototype.duration=function(){return this.el_.duration||0},t.prototype.buffered=function(){return this.el_.buffered},t.prototype.isLive=function(){return this.duration()===1/0||this.duration()===Number.MAX_VALUE},t.prototype.volume=function(){return this.el_.volume},t.prototype.setVolume=function(e){this.el_.volume=e},t.prototype.muted=function(){return this.el_.muted},t.prototype.setMuted=function(e){this.el_.muted=e},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=y.default.navigator.userAgent;if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;"webkitDisplayingFullscreen"in e&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.setSrc=function(e){this.addCrossOriginPolicy(this.options_.playerOptions.corsPolicy),this.setAutoplay(this.options_.playerOptions.autoplay),this.el_.src=e},t.prototype.load=function(){this.el_.load()},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.poster=function(){return this.el_.poster},t.prototype.setPoster=function(e){(void 0===e||""===e)&&this.el_.removeAttribute("poster"),this.trigger("posterchange")},t.prototype.preload=function(){return this.el_.preload},t.prototype.setPreload=function(e){this.el_.preload=e},t.prototype.autoplay=function(){return this.el_.autoplay},t.prototype.setAutoplay=function(e){this.el_.autoplay=e},t.prototype.controls=function(){return this.el_.controls},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.loop=function(){return this.el_.loop},t.prototype.setLoop=function(e){this.el_.loop=e},t.prototype.error=function(t){return void 0===t?this.error_||this.el_.error:void e.prototype.error.call(this,t)},t.prototype.seeking=function(){return this.el_.seeking},t.prototype.seekable=function(){return this.el_.seekable},t.prototype.ended=function(){return this.el_.ended},t.prototype.defaultMuted=function(){return this.el_.defaultMuted},t.prototype.playbackRate=function(){return this.el_.playbackRate},t.prototype.played=function(){return this.el_.played},t.prototype.setPlaybackRate=function(e){this.el_.playbackRate=e},t.prototype.networkState=function(){return this.el_.networkState},t.prototype.readyState=function(){return this.el_.readyState},t.prototype.videoWidth=function(){return this.el_.videoWidth},t.prototype.videoHeight=function(){return this.el_.videoHeight},t.prototype.textTracks=function(){return e.prototype.textTracks.call(this)},t.prototype.addTextTrack=function(t,r,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,n):e.prototype.addTextTrack.call(this,t,r,n)},t.prototype.addRemoteTextTrack=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return e.prototype.addRemoteTextTrack.call(this,t);var r=g.default.createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id||(t.id="vjs_track_"+S.newGUID()),t.id&&(r.id=t.id),t.src&&(r.src=t.src),this.el().appendChild(r),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack_(r.track),r},t.prototype.removeRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.removeRemoteTextTrack.call(this,t);var r=void 0,n=void 0,i=this.remoteTextTrackEls().getTrackElementByTrack_(t);for(this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack_(t),n=(r=this.$$("track")).length;n--;)(t===r[n]||t===r[n].track)&&this.el().removeChild(r[n])},t}(l.default);T.TEST_VID=g.default.createElement("video");var k=g.default.createElement("track");k.kind="captions",k.srclang="en",k.label="English",T.TEST_VID.appendChild(k),T.isSupported=function(){try{T.TEST_VID.volume=.5}catch(e){return!1}return!!T.TEST_VID.canPlayType},l.default.withSourceHandlers(T),T.nativeSourceHandler={},T.nativeSourceHandler.canPlayType=function(e){try{return T.TEST_VID.canPlayType(e)}catch(e){return""}},T.nativeSourceHandler.canHandleSource=function(e){var t;if(e.protectionInfo&&e.protectionInfo.length>0)for(var r=0;r<e.protectionInfo.length;r++)if("PlayReady"===e.protectionInfo[r].type||"Widevine"===e.protectionInfo[r].type||"FairPlay"===e.protectionInfo[r].type)return"";return e.type?T.nativeSourceHandler.canPlayType(e.type):e.src?(t=d.getFileExtension(e.src),T.nativeSourceHandler.canPlayType("video/"+t)):""},T.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},T.nativeSourceHandler.dispose=function(){},T.registerSourceHandler(T.nativeSourceHandler),T.canControlVolume=function(){try{var e=T.TEST_VID.volume;return T.TEST_VID.volume=e/2+.1,e!==T.TEST_VID.volume}catch(e){return!1}},T.canControlPlaybackRate=function(){try{var e=T.TEST_VID.playbackRate;return T.TEST_VID.playbackRate=e/2+.1,e!==T.TEST_VID.playbackRate}catch(e){return!1}},T.isPreloadSupported=function(){return!m.IS_IOS||!m.IS_SAFARI},T.supportsNativeTextTracks=function(){var e;return(e=!!T.TEST_VID.textTracks)&&T.TEST_VID.textTracks.length>0&&(e="number"!=typeof T.TEST_VID.textTracks[0].mode),e&&m.IS_FIREFOX&&(e=!1),!e||"onremovetrack"in T.TEST_VID.textTracks||(e=!1),e},T.supportsNativeVideoTracks=function(){return!!T.TEST_VID.videoTracks},T.supportsNativeAudioTracks=function(){return!!T.TEST_VID.audioTracks},T.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],T.prototype.featuresVolumeControl=T.canControlVolume(),T.prototype.featuresPlaybackRate=T.canControlPlaybackRate(),T.prototype.featuresPreload=T.isPreloadSupported(),T.prototype.movingMediaElementInDOM=!m.IS_IOS,T.prototype.featuresFullscreenResize=!0,T.prototype.featuresProgressEvents=!0,T.prototype.featuresNativeTextTracks=T.supportsNativeTextTracks(),T.prototype.featuresNativeVideoTracks=T.supportsNativeVideoTracks(),T.prototype.featuresNativeAudioTracks=T.supportsNativeAudioTracks();var w=void 0,E=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,C=/^video\/mp4/i;T.patchCanPlayType=function(){m.ANDROID_VERSION>=4&&(w||(w=T.TEST_VID.constructor.prototype.canPlayType),T.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&E.test(e)?"maybe":w.call(this,e)}),m.IS_OLD_ANDROID&&(w||(w=T.TEST_VID.constructor.prototype.canPlayType),T.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&C.test(e)?"maybe":w.call(this,e)})},T.unpatchCanPlayType=function(){var e=T.TEST_VID.constructor.prototype.canPlayType;return T.TEST_VID.constructor.prototype.canPlayType=w,w=null,e},T.patchCanPlayType(),T.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},T.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),r=t.length;r--;)e.removeChild(t[r]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},u.default.registerComponent("Html5",T),l.default.registerTech("Html5",T),r.default=T,t.exports=r.default},{"../../../src/js/tracks/text-track.js":232,"../component":163,"../utils/browser.js":238,"../utils/dom.js":241,"../utils/fn.js":243,"../utils/guid.js":246,"../utils/log.js":249,"../utils/merge-options.js":250,"../utils/to-title-case.js":254,"../utils/url.js":255,"./tech.js":222,"global/document":79,"global/window":80,"object.assign":73,tsml:77}],220:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../component.js")),s=n(e("./tech.js")),l=n((n(e("global/window")),e("../utils/to-title-case.js"))),u=function(e){function t(r,n,o){if(i(this,t),e.call(this,r,n,o),n.playerOptions.sources&&0!==n.playerOptions.sources.length)r.src(n.playerOptions.sources);else for(var u=0,c=n.playerOptions.techOrder;u<c.length;u++){var d=l.default(c[u]),p=s.default.getTech(d);if(d||(p=a.default.getComponent(d)),p&&p.isSupported()){r.loadTech_(d);break}}}return o(t,e),t}(a.default);a.default.registerComponent("MediaLoader",u),r.default=u,t.exports=r.default},{"../component.js":163,"../utils/to-title-case.js":254,"./tech.js":222,"global/window":80}],221:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=n(e("global/window")),o=n(e("global/document")),a=function(){function e(e){return parseInt(e,10)}var t="undefined",r="Shockwave Flash",n="application/x-shockwave-flash",a=i.default,s=o.default,l=i.default.navigator,u=!1,c=function(){var i=typeof s.getElementById!==t&&typeof s.getElementsByTagName!==t&&typeof s.createElement!==t,o=l.userAgent.toLowerCase(),c=l.platform.toLowerCase(),d=/win/.test(c||o),p=/mac/.test(c||o),h=!!/webkit/.test(o)&&parseFloat(o.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),f="Microsoft Internet Explorer"===l.appName,m=[0,0,0,145],g=null;if(typeof l.plugins!==t&&"object"==typeof l.plugins[r])if((g=l.plugins[r].version)&&typeof l.mimeTypes!==t&&l.mimeTypes[n]&&l.mimeTypes[n].enabledPlugin){u=!0,f=!1;var y=g.split(".");m[0]=e(y[0]),m[1]=e(y[1]),m[2]=e(y[2]),m[3]=e(y[3])}else(g=l.plugins[r].description)&&typeof l.mimeTypes!==t&&l.mimeTypes[n]&&l.mimeTypes[n].enabledPlugin&&(u=!0,f=!1,g=g.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),m[0]=e(g.replace(/^(.*)\..*$/,"$1")),m[1]=e(g.replace(/^.*\.(.*)\s.*$/,"$1")),m[2]=/[a-zA-Z]/.test(g)?e(g.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof a.ActiveXObject!==t)try{var v=new a.ActiveXObject("ShockwaveFlash.ShockwaveFlash");v&&(g=v.GetVariable("$version"))&&(f=!0,g=g.split(" ")[1].split(","),m=[e(g[0]),e(g[1]),e(g[2])])}catch(e){}return{w3:i,pv:m,wk:h,ie:f,win:d,mac:p}}();return{ua:c,hasFlashPlayerVersion:function(t){t+="";var r=c.pv,n=t.split(".");return n[0]=e(n[0]),n[1]=e(n[1])||0,n[2]=e(n[2])||0,n[3]=e(n[3])||0,r[0]>n[0]||r[0]===n[0]&&r[1]>n[1]||r[0]===n[0]&&r[1]===n[1]&&r[2]>n[2]||r[0]===n[0]&&r[1]===n[1]&&r[2]===n[2]&&r[3]>=n[3]}}}();r.swfobject=a},{"global/document":79,"global/window":80}],222:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("../component")),s=n(e("../tracks/html-track-element")),l=n(e("../tracks/html-track-element-list")),u=n(e("../utils/merge-options.js")),c=n(e("../tracks/text-track")),d=n(e("../tracks/text-track-list")),p=n((n(e("../tracks/video-track")),e("../tracks/video-track-list"))),h=n(e("../tracks/audio-track-list")),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}((n(e("../tracks/audio-track")),e("../utils/fn.js"))),m=n(e("../utils/log.js")),g=e("../utils/time-ranges.js"),y=e("../utils/buffer.js"),v=n(e("../media-error.js")),_=n(e("global/window")),b=n(e("global/document")),S=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];i(this,t),r.reportTouchActivity=!1,e.call(this,null,r,n),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=r.textTracks,this.videoTracks_=r.videoTracks,this.audioTracks_=r.audioTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(!1===r.nativeCaptions||!1===r.nativeTextTracks)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.initTrackListeners(),this.emitTapEvents()}return o(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(f.bind(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return g.createTimeRange(0,0)},t.prototype.bufferedPercent=function(){return y.bufferedPercent(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime),this.one("timeupdate",function(e){e.manuallyTriggered||(this.featuresTimeupdateEvents=!0,this.manualTimeUpdatesOff())})},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(["audio","video","text"]),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var r=t[e+"Tracks"]()||[],n=r.length;n--;){var i=r[n];"text"===e&&t.removeRemoteTextTrack(i),r.removeTrack_(i)}})},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=e instanceof v.default?e:new v.default(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?g.createTimeRange(0,0):g.createTimeRange()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTextTrackListeners=function(){var e=f.bind(this,function(){this.trigger("texttrackchange")}),t=this.textTracks();t&&(t.addEventListener("removetrack",e),t.addEventListener("addtrack",e),this.on("dispose",f.bind(this,function(){t.removeEventListener("removetrack",e),t.removeEventListener("addtrack",e)})))},t.prototype.initTrackListeners=function(){var e=this;["video","audio"].forEach(function(t){var r=function(){e.trigger(t+"trackchange")},n=e[t+"Tracks"]();n.addEventListener("removetrack",r),n.addEventListener("addtrack",r),e.on("dispose",function(){n.removeEventListener("removetrack",r),n.removeEventListener("addtrack",r)})})},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks();if(t){_.default.WebVTT||null==this.el().parentNode||function(){var t=b.default.createElement("script");t.src=e.options_["vtt.js"]||"../node_modules/videojs-vtt.js/dist/vtt.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},e.on("dispose",function(){t.onload=null,t.onerror=null}),_.default.WebVTT=!0,e.el().parentNode.appendChild(t)}();var r=function(){return e.trigger("texttrackchange")},n=function(){r();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};n(),t.addEventListener("change",n),this.on("dispose",function(){t.removeEventListener("change",n)})}},t.prototype.videoTracks=function(){return this.videoTracks_=this.videoTracks_||new p.default,this.videoTracks_},t.prototype.audioTracks=function(){return this.audioTracks_=this.audioTracks_||new h.default,this.audioTracks_},t.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new d.default,this.textTracks_},t.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new d.default,this.remoteTextTracks_},t.prototype.remoteTextTrackEls=function(){return this.remoteTextTrackEls_=this.remoteTextTrackEls_||new l.default,this.remoteTextTrackEls_},t.prototype.addTextTrack=function(e,t,r){if(!e)throw new Error("TextTrack kind is required but was not provided");return T(this,e,t,r)},t.prototype.addRemoteTextTrack=function(e){var t=u.default(e,{tech:this}),r=new s.default(t);return this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack_(r.track),this.textTracks().addTrack_(r.track),r},t.prototype.removeRemoteTextTrack=function(e){this.textTracks().removeTrack_(e);var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack_(e)},t.prototype.setPoster=function(){},t.prototype.canPlayType=function(){return""},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,r){if(t.techs_||(t.techs_={}),!t.isTech(r))throw new Error("Tech "+e+" must be a Tech");return t.techs_[e]=r,r},t.getTech=function(e){return t.techs_&&t.techs_[e]?t.techs_[e]:_.default&&_.default.videojs&&_.default.videojs[e]?(m.default.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),_.default.videojs[e]):void 0},t}(a.default);S.prototype.textTracks_,S.prototype.audioTracks_,S.prototype.videoTracks_;var T=function(e,t,r,n){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],o=e.textTracks();i.kind=t,r&&(i.label=r),n&&(i.language=n),i.tech=e;var a=new c.default(i);return o.addTrack_(a),a};S.prototype.featuresVolumeControl=!0,S.prototype.featuresFullscreenResize=!1,S.prototype.featuresPlaybackRate=!1,S.prototype.featuresPreload=!0,S.prototype.featuresProgressEvents=!1,S.prototype.featuresTimeupdateEvents=!1,S.prototype.featuresNativeTextTracks=!1,S.withSourceHandlers=function(e){e.registerSourceHandler=function(t,r){var n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===r&&(r=n.length),n.splice(r,0,t)},e.canPlayType=function(t){for(var r=e.sourceHandlers||[],n=void 0,i=0;i<r.length;i++)if(n=r[i].canPlayType(t))return n;return""},e.selectSourceHandler=function(t,r){for(var n=e.sourceHandlers||[],i=0;i<n.length;i++)if(n[i].canHandleSource(t,r))return n[i];return null},e.canPlaySource=function(t,r){var n=e.selectSourceHandler(t,r);return n?n.canHandleSource(t,r):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var r=e.selectSourceHandler(t,this.options_);return r||(e.nativeSourceHandler?r=e.nativeSourceHandler:m.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),r!==e.nativeSourceHandler&&(this.currentSource_=t,this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.one(this.el_,"loadstart",e.prototype.firstLoadStartListener_)),this.sourceHandler_=r.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler),this},e.prototype.firstLoadStartListener_=function(){this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.successiveLoadStartListener_=function(){this.currentSource_=null,this.disposeSourceHandler(),this.one(this.el_,"loadstart",e.prototype.successiveLoadStartListener_)},e.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&(this.off(this.el_,"loadstart",e.prototype.firstLoadStartListener_),this.off(this.el_,"loadstart",e.prototype.successiveLoadStartListener_),this.sourceHandler_.dispose(),this.sourceHandler_=null)}},a.default.registerComponent("Tech",S),a.default.registerComponent("MediaTechController",S),S.registerTech("Tech",S),r.default=S,t.exports=r.default},{"../component":163,"../media-error.js":205,"../tracks/audio-track":224,"../tracks/audio-track-list":223,"../tracks/html-track-element":226,"../tracks/html-track-element-list":225,"../tracks/text-track":232,"../tracks/text-track-list":230,"../tracks/video-track":237,"../tracks/video-track-list":236,"../utils/buffer.js":239,"../utils/fn.js":243,"../utils/log.js":249,"../utils/merge-options.js":250,"../utils/time-ranges.js":252,"global/document":79,"global/window":80}],223:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./track-list")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),l=n(e("global/document")),u=function(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].enabled=!1)},c=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,t);for(var n=void 0,o=r.length-1;o>=0;o--)if(r[o].enabled){u(r,r[o]);break}if(s.IS_IE8){n=l.default.createElement("custom");for(var c in a.default.prototype)"constructor"!==c&&(n[c]=a.default.prototype[c]);for(var c in t.prototype)"constructor"!==c&&(n[c]=t.prototype[c])}return n=e.call(this,r,n),n.changing_=!1,n}return o(t,e),t.prototype.addTrack_=function(t){var r=this;t.enabled&&u(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){r.changing_||(r.changing_=!0,u(r,t),r.changing_=!1,r.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(a.default);r.default=c,t.exports=r.default},{"../utils/browser.js":238,"./track-list":234,"global/document":79}],224:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=e("./track-enums"),s=n(e("./track")),l=n(e("../utils/merge-options")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),c=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var n=l.default(r,{kind:a.AudioTrackKind[r.kind]||""}),o=e.call(this,n),s=!1;if(u.IS_IE8)for(var c in t.prototype)"constructor"!==c&&(o[c]=t.prototype[c]);return Object.defineProperty(o,"enabled",{get:function(){return s},set:function(e){"boolean"==typeof e&&e!==s&&(s=e,this.trigger("enabledchange"))}}),n.enabled&&(o.enabled=n.enabled),o.loaded_=!0,o}return o(t,e),t}(s.default);r.default=c,t.exports=r.default},{"../utils/browser.js":238,"../utils/merge-options":250,"./track":235,"./track-enums":233}],225:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),o=function(e){return e&&e.__esModule?e:{default:e}}(e("global/document")),a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];n(this,e);var r=this;if(i.IS_IE8){r=o.default.createElement("custom");for(var a in e.prototype)"constructor"!==a&&(r[a]=e.prototype[a])}r.trackElements_=[],Object.defineProperty(r,"length",{get:function(){return this.trackElements_.length}});for(var s=0,l=t.length;l>s;s++)r.addTrackElement_(t[s]);return i.IS_IE8?r:void 0}return e.prototype.addTrackElement_=function(e){this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,r=0,n=this.trackElements_.length;n>r;r++)if(e===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,r=this.trackElements_.length;r>t;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}();r.default=a,t.exports=r.default},{"../utils/browser.js":238,"global/document":79}],226:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),s=n(e("global/document")),l=n(e("../event-target")),u=n(e("../tracks/text-track")),c=0,d=2,p=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t),e.call(this);var n=void 0,o=this;if(a.IS_IE8){o=s.default.createElement("custom");for(var l in t.prototype)"constructor"!==l&&(o[l]=t.prototype[l])}var p=new u.default(r);return o.kind=p.kind,o.src=p.src,o.srclang=p.language,o.label=p.label,o.default=p.default,Object.defineProperty(o,"readyState",{get:function(){return n}}),Object.defineProperty(o,"track",{get:function(){return p}}),n=c,p.addEventListener("loadeddata",function(){n=d,o.trigger({type:"load",target:o})}),a.IS_IE8?o:void 0}return o(t,e),t}(l.default);p.prototype.allowedEvents_={load:"load"},p.NONE=c,p.LOADING=1,p.LOADED=d,p.ERROR=3,r.default=p,t.exports=r.default},{"../event-target":201,"../tracks/text-track":232,"../utils/browser.js":238,"global/document":79}],227:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.__esModule=!0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),o=function(e){return e&&e.__esModule?e:{default:e}}(e("global/document")),a=function(){function e(t){n(this,e);var r=this;if(i.IS_IE8){r=o.default.createElement("custom");for(var a in e.prototype)"constructor"!==a&&(r[a]=e.prototype[a])}return e.prototype.setCues_.call(r,t),Object.defineProperty(r,"length",{get:function(){return this.length_}}),i.IS_IE8?r:void 0}return e.prototype.setCues_=function(e){var t=this.length||0,r=0,n=e.length;this.cues_=e,this.length_=e.length;if(n>t)for(r=t;n>r;r++)(function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})}).call(this,r)},e.prototype.getCueById=function(e){for(var t=null,r=0,n=this.length;n>r;r++){var i=this[r];if(i.id===e){t=i;break}}return t},e}();r.default=a,t.exports=r.default},{"../utils/browser.js":238,"global/document":79}],228:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){var r=[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];return t?"rgba("+r.join(",")+","+t+")":"rgb("+r.join(",")+")"}function s(e,t,r){try{e.style[t]=r}catch(e){}}function l(e,t,r,n){try{for(var i=0;i<e.length;i++){var o=e[i];(!n||n(o))&&o.style.setProperty(t,r,"important")}}catch(e){}}function u(e,t,r,n){for(var i=0;i<e.length;i++){var o=e[i];if(!n||n(o)){var a=function(e){return m.default.getComputedStyle?m.default.getComputedStyle(e,""):e.currentStyle}(o)[t];a.indexOf("rgb")<0&&(a=function(e){return"rgb("+[parseInt(e[1]+e[2],16),parseInt(e[3]+e[4],16),parseInt(e[5]+e[6],16)].join(",")+")"}(a));var s=c(a);if(!s)return;s[3]=r;var l="rgba("+s.join(",")+")";try{o.style.setProperty(t,l,"important")}catch(e){}}}}function c(e){var t=/,\s*/,r=/rgba?\((\d+,\s*\d+,\s*\d+(?:,\s*[\d\.]+)?)\)/.exec(e);return!r||r.length<2?null:r[1].split(t)}function d(e,t){for(var r=c(e),n=c(t),i=0;3>i;i++)if(r[i]!==n[i])return!1;return!0}function p(e){return e&&e.className&&e.className.indexOf("bg_")>=0}r.__esModule=!0;var h=n(e("../component")),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}((n((n((n(e("../menu/menu.js")),e("../menu/menu-item.js"))),e("../menu/menu-button.js"))),e("../utils/fn.js"))),m=n((n(e("global/document")),e("global/window"))),g="#222",y={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},v=function(e){function t(r,n,o){i(this,t),e.call(this,r,n,o),r.on("loadstart",f.bind(this,this.toggleDisplay)),r.on("texttrackchange",f.bind(this,this.updateDisplay)),r.ready(f.bind(this,function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)this.hide();else{r.on("fullscreenchange",f.bind(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++){var n=e[t];this.player_.addRemoteTextTrack(n)}var i={captions:1,subtitles:1},o=this.player_.textTracks(),a=void 0,s=void 0;if(o){for(t=0;t<o.length;t++)(n=o[t]).default&&("descriptions"!==n.kind||a?n.kind in i&&!s&&(s=n):a=n);s?s.mode="showing":a&&(a.mode="showing")}}}))}return o(t,e),t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"assertive","aria-atomic":"true",role:"description"})},t.prototype.clearDisplay=function(){"function"==typeof m.default.WebVTT&&m.default.WebVTT.processCues(m.default,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();if(this.clearDisplay(),e){for(var t=null,r=null,n=e.length;n--;){var i=e[n];"showing"===i.mode&&("descriptions"===i.kind?t=i:r=i)}r?this.updateForTrack(r):t&&this.updateForTrack(t)}},t.prototype.updateForTrack=function(e){if("function"==typeof m.default.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),r=[],n=0;n<e.activeCues.length;n++)r.push(e.activeCues[n]);m.default.WebVTT.processCues(m.default,r,this.el_);for(var i=r.length;i--;){var o=r[i];if(o){var c=o.displayState,h=this.changedByUser?c.firstChild.querySelectorAll("span"):[];if(t.color){var f=c.firstChild.style.color;c.firstChild.style.color=t.color,this.changedByUser&&!d(a(t.color),f)&&l(h,"color",t.color)}t.textOpacity&&(s(c.firstChild,"color",a(t.color||"#fff",t.textOpacity)),this.changedByUser&&u(h,"color",t.textOpacity));var v=c.firstChild.style.backgroundColor;if(t.backgroundColor&&(c.firstChild.style.backgroundColor=t.backgroundColor,this.changedByUser&&!d(a(t.backgroundColor),v)&&l(h,"background-color",t.backgroundColor,p)),t.backgroundOpacity){var _=a(t.backgroundColor||"#000",t.backgroundOpacity);s(c.firstChild,"backgroundColor",_),this.changedByUser&&u(h,"background-color",!d(a(t.backgroundColor),v)?0:t.backgroundOpacity,p)}if(t.windowColor&&(t.windowOpacity?s(c,"backgroundColor",a(t.windowColor,t.windowOpacity)):c.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?c.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+g:"raised"===t.edgeStyle?c.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+g:"depressed"===t.edgeStyle?c.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+g:"uniform"===t.edgeStyle&&(c.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+g)),t.fontPercent&&1!==t.fontPercent){var b=m.default.parseFloat(c.style.fontSize);c.style.fontSize=b*t.fontPercent+"px",c.style.height="auto",c.style.top="auto",c.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?c.firstChild.style.fontVariant="small-caps":c.firstChild.style.fontFamily=y[t.fontFamily]),t.justification&&(c.style.textAlign=t.justification)}}}},t.prototype.setAsChangedByUser=function(){this.changedByUser=!0},t}(h.default);h.default.registerComponent("TextTrackDisplay",v),r.default=v,t.exports=r.default},{"../component":163,"../menu/menu-button.js":206,"../menu/menu-item.js":207,"../menu/menu.js":208,"../utils/fn.js":243,"global/document":79,"global/window":80}],229:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,r){return e[r]&&(t[r]=e[r]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})};r.default={textTracksToJson:function(e){var t=e.$$("track"),r=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=n(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===r.indexOf(e)}).map(n))},jsonToTextTracks:function(e,t){return e.forEach(function(e){var r=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return r.addCue(e)})}),t.textTracks()},trackToJson_:n},t.exports=r.default},{}],230:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./track-list")),l=n(e("../utils/fn.js")),u=n(e("../utils/browser.js")),c=i(e("global/document")),d=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];o(this,t);var n=void 0;if(u.IS_IE8){n=c.default.createElement("custom");for(var i in s.default.prototype)"constructor"!==i&&(n[i]=s.default.prototype[i]);for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}return n=e.call(this,r,n)}return a(t,e),t.prototype.addTrack_=function(t){e.prototype.addTrack_.call(this,t),t.addEventListener("modechange",l.bind(this,function(){this.trigger("change")}))},t.prototype.removeTrack_=function(e){for(var t=void 0,r=0,n=this.length;n>r;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,r=0,n=this.length;n>r;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(s.default);r.default=d,t.exports=r.default},{"../utils/browser.js":238,"../utils/fn.js":243,"./track-list":234,"global/document":79}],231:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=void 0;return e.selectedOptions?t=e.selectedOptions[0]:e.options&&(t=e.options[e.options.selectedIndex]),t.value}function s(e,t){if(t){var r=void 0;for(r=0;r<e.options.length&&e.options[r].value!==t;r++);e.selectedIndex=r}}function l(e,t,r){return'\n    <div role="document">\n      <div role="heading" aria-level="1" id="'+t+'" class="vjs-control-text">Captions Settings Dialog</div>\n      <div id="'+r+'" class="vjs-control-text">Beginning of dialog window. Escape will cancel and close the window.</div>\n      <div class="vjs-tracksettings">\n        <div class="vjs-tracksettings-colors">\n          <fieldset class="vjs-fg-color vjs-tracksetting">\n            <legend>'+this.htmlEncode(this.localize("Text"))+'</legend>\n            <label class="vjs-label" for="captions-foreground-color-'+e+'">'+this.htmlEncode(this.localize("Text color"))+'</label>\n            <select id="captions-foreground-color-'+e+'">\n              <option value="#FFF" selected>'+this.htmlEncode(this.localize("White"))+'</option>\n              <option value="#000">'+this.htmlEncode(this.localize("Black"))+'</option>\n              <option value="#F00">'+this.htmlEncode(this.localize("Red"))+'</option>\n              <option value="#0F0">'+this.htmlEncode(this.localize("Green"))+'</option>\n              <option value="#00F">'+this.htmlEncode(this.localize("Blue"))+'</option>\n              <option value="#FF0">'+this.htmlEncode(this.localize("Yellow"))+'</option>\n              <option value="#F0F">'+this.htmlEncode(this.localize("Magenta"))+'</option>\n              <option value="#0FF">'+this.htmlEncode(this.localize("Cyan"))+'</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n             <label class="vjs-label" for="captions-foreground-opacity-'+e+'">'+this.htmlEncode(this.localize("Text opacity"))+'</label>\n              <select id="captions-foreground-opacity-'+e+'">\n                <option value="1" selected>'+this.htmlEncode(this.localize("Opaque"))+'</option>\n                <option value="0.5">'+this.htmlEncode(this.localize("Semi-Opaque"))+'</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="vjs-bg-color vjs-tracksetting">\n            <legend>'+this.htmlEncode(this.localize("Background"))+'</legend>\n            <label class="vjs-label" for="captions-background-color-'+e+'">'+this.htmlEncode(this.localize("Background Color"))+'</label>\n            <select id="captions-background-color-'+e+'">\n              <option value="#000" selected>'+this.htmlEncode(this.localize("Black"))+'</option>\n              <option value="#FFF">'+this.htmlEncode(this.localize("White"))+'</option>\n              <option value="#F00">'+this.htmlEncode(this.localize("Red"))+'</option>\n              <option value="#0F0">'+this.htmlEncode(this.localize("Green"))+'</option>\n              <option value="#00F">'+this.htmlEncode(this.localize("Blue"))+'</option>\n              <option value="#FF0">'+this.htmlEncode(this.localize("Yellow"))+'</option>\n              <option value="#F0F">'+this.htmlEncode(this.localize("Magenta"))+'</option>\n              <option value="#0FF">'+this.htmlEncode(this.localize("Cyan"))+'</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-background-opacity-'+e+'">'+this.htmlEncode(this.localize("Background opacity"))+'</label>\n              <select id="captions-background-opacity-'+e+'">\n                <option value="1" selected>'+this.htmlEncode(this.localize("Opaque"))+'</option>\n                <option value="0.5">'+this.htmlEncode(this.localize("Semi-Transparent"))+'</option>\n                <option value="0">'+this.htmlEncode(this.localize("Transparent"))+'</option>\n              </select>\n            </span>\n          </fieldset>\n          <fieldset class="window-color vjs-tracksetting">\n            <legend>'+this.htmlEncode(this.localize("Window"))+'</legend>\n            <label class="vjs-label" for="captions-window-color-'+e+'">'+this.htmlEncode(this.localize("Window Color"))+'</label>\n            <select id="captions-window-color-'+e+'">\n              <option value="#000" selected>'+this.htmlEncode(this.localize("Black"))+'</option>\n              <option value="#FFF">'+this.htmlEncode(this.localize("White"))+'</option>\n              <option value="#F00">'+this.htmlEncode(this.localize("Red"))+'</option>\n              <option value="#0F0">'+this.htmlEncode(this.localize("Green"))+'</option>\n              <option value="#00F">'+this.htmlEncode(this.localize("Blue"))+'</option>\n              <option value="#FF0">'+this.htmlEncode(this.localize("Yellow"))+'</option>\n              <option value="#F0F">'+this.htmlEncode(this.localize("Magenta"))+'</option>\n              <option value="#0FF">'+this.htmlEncode(this.localize("Cyan"))+'</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n              <label class="vjs-label" for="captions-window-opacity-'+e+'">'+this.htmlEncode(this.localize("Transparency"))+'</label>\n              <select id="captions-window-opacity-'+e+'">\n                <option value="0" selected>'+this.htmlEncode(this.localize("Transparent"))+'</option>\n                <option value="0.5">'+this.htmlEncode(this.localize("Semi-Transparent"))+'</option>\n                <option value="1">'+this.htmlEncode(this.localize("Opaque"))+'</option>\n              </select>\n            </span>\n          </fieldset>\n        </div> \x3c!-- vjs-tracksettings-colors --\x3e\n        <div class="vjs-tracksettings-font">\n          <div class="vjs-font-percent vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-size-'+e+'">'+this.htmlEncode(this.localize("Font Size"))+'</label>\n            <select id="captions-font-size-'+e+'">\n              <option value="0.50">50%</option>\n              <option value="0.75">75%</option>\n              <option value="1.00" selected>100%</option>\n              <option value="1.25">125%</option>\n              <option value="1.50">150%</option>\n              <option value="1.75">175%</option>\n              <option value="2.00">200%</option>\n              <option value="3.00">300%</option>\n              <option value="4.00">400%</option>\n            </select>\n          </div>\n          <div class="vjs-edge-style vjs-tracksetting">\n            <label class="vjs-label" for="captions-edge-style-'+e+'">'+this.htmlEncode(this.localize("Text Edge Style"))+'</label>\n            <select id="captions-edge-style-'+e+'">\n              <option value="none" selected>'+this.htmlEncode(this.localize("None"))+'</option>\n              <option value="raised">'+this.htmlEncode(this.localize("Raised"))+'</option>\n              <option value="depressed">'+this.htmlEncode(this.localize("Depressed"))+'</option>\n              <option value="uniform">'+this.htmlEncode(this.localize("Uniform"))+'</option>\n              <option value="dropshadow">'+this.htmlEncode(this.localize("Dropshadow"))+'</option>\n            </select>\n          </div>\n          <div class="vjs-font-family vjs-tracksetting">\n            <label class="vjs-label" for="captions-font-family-'+e+'">'+this.htmlEncode(this.localize("Font Family"))+'</label>\n            <select id="captions-font-family-'+e+'">\n              <option value="proportionalSansSerif" selected>'+this.htmlEncode(this.localize("Proportional Sans-Serif"))+'</option>\n              <option value="monospaceSansSerif">'+this.htmlEncode(this.localize("Monospace Sans-Serif"))+'</option>\n              <option value="proportionalSerif">'+this.htmlEncode(this.localize("Proportional Serif"))+'</option>\n              <option value="monospaceSerif">'+this.htmlEncode(this.localize("Monospace Serif"))+'</option>\n              <option value="casual">'+this.htmlEncode(this.localize("Casual"))+'</option>\n              <option value="script">'+this.htmlEncode(this.localize("Script"))+'</option>\n              <option value="small-caps">'+this.htmlEncode(this.localize("Small Caps"))+'</option>\n            </select>\n          </div>\n        </div> \x3c!-- vjs-tracksettings-font --\x3e\n        <div class="vjs-tracksettings-controls">\n          <button class="vjs-default-button">'+this.htmlEncode(this.localize("Defaults"))+'</button>\n          <button class="vjs-done-button">'+this.htmlEncode(this.localize("Done"))+'</button>\n        </div>\n      </div> \x3c!-- vjs-tracksettings --\x3e\n    </div> \x3c!--  role="document" --\x3e'}r.__esModule=!0;var u=n(e("../component")),c=n((function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}(e("../utils/fn.js")),e("../utils/log.js"))),d=n(e("safe-json-parse/tuple")),p=n(e("global/window")),h=function(e){function t(r,n){var o=this;i(this,t),e.call(this,r,n),this.hide(),void 0===n.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings);this.hiddenSettings={justification:"center"},this.on(this.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.hide()}),this.on(this.$(".vjs-default-button"),"click",function(){o.$(".vjs-fg-color > select").selectedIndex=0,o.$(".vjs-bg-color > select").selectedIndex=0,o.$(".window-color > select").selectedIndex=0,o.$(".vjs-text-opacity > select").selectedIndex=0,o.$(".vjs-bg-opacity > select").selectedIndex=0,o.$(".vjs-window-opacity > select").selectedIndex=0,o.$(".vjs-edge-style select").selectedIndex=0,o.$(".vjs-font-family select").selectedIndex=0,o.$(".vjs-font-percent select").selectedIndex=2,o.updateDisplay()}),this.on(this.$(".vjs-fg-color > select"),"change",this.updateDisplay),this.on(this.$(".vjs-bg-color > select"),"change",this.updateDisplay),this.on(this.$(".window-color > select"),"change",this.updateDisplay),this.on(this.$(".vjs-text-opacity > select"),"change",this.updateDisplay),this.on(this.$(".vjs-bg-opacity > select"),"change",this.updateDisplay),this.on(this.$(".vjs-window-opacity > select"),"change",this.updateDisplay),this.on(this.$(".vjs-font-percent select"),"change",this.updateDisplay),this.on(this.$(".vjs-edge-style select"),"change",this.updateDisplay),this.on(this.$(".vjs-font-family select"),"change",this.updateDisplay),this.options_.persistTextTrackSettings&&this.restoreSettings()}return o(t,e),t.prototype.createEl=function(){var t=this.id_,r="TTsettingsDialogLabel-"+t,n="TTsettingsDialogDescription-"+t;return e.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:l.call(this,t,r,n),tabIndex:-1},{role:"dialog","aria-labelledby":r,"aria-describedby":n})},t.prototype.getValues=function(){var e=a(this.$(".vjs-edge-style select")),t=a(this.$(".vjs-font-family select")),r=a(this.$(".vjs-fg-color > select")),n=a(this.$(".vjs-text-opacity > select")),i=a(this.$(".vjs-bg-color > select")),o=a(this.$(".vjs-bg-opacity > select")),s=a(this.$(".window-color > select")),l={backgroundOpacity:o,textOpacity:n,windowOpacity:a(this.$(".vjs-window-opacity > select")),edgeStyle:e,fontFamily:t,color:r,backgroundColor:i,windowColor:s,fontPercent:p.default.parseFloat(a(this.$(".vjs-font-percent > select"))),justification:this.hiddenSettings.justification};for(var u in l)(""===l[u]||"none"===l[u]||"fontPercent"===u&&1===l[u])&&delete l[u];return l},t.prototype.setValues=function(e){s(this.$(".vjs-edge-style select"),e.edgeStyle),s(this.$(".vjs-font-family select"),e.fontFamily),s(this.$(".vjs-fg-color > select"),e.color),s(this.$(".vjs-text-opacity > select"),e.textOpacity),s(this.$(".vjs-bg-color > select"),e.backgroundColor),s(this.$(".vjs-bg-opacity > select"),e.backgroundOpacity),s(this.$(".window-color > select"),e.windowColor),s(this.$(".vjs-window-opacity > select"),e.windowOpacity);var t=e.fontPercent;t&&(t=t.toFixed(2)),s(this.$(".vjs-font-percent > select"),t),e.justification&&(this.hiddenSettings.justification=e.justification)},t.prototype.restoreSettings=function(){var e=void 0,t=void 0;try{var r=d.default(p.default.localStorage.getItem("vjs-text-track-settings"));e=r[0],t=r[1],e&&c.default.error(e)}catch(e){c.default.warn(e)}t&&this.setValues(t)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.getOwnPropertyNames(e).length>0?p.default.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):p.default.localStorage.removeItem("vjs-text-track-settings")}catch(e){c.default.warn(e)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&(e.updateDisplay(),e.setAsChangedByUser())},t}(u.default);u.default.registerComponent("TextTrackSettings",h),r.default=h,t.exports=r.default},{"../component":163,"../utils/fn.js":243,"../utils/log.js":249,"global/window":80,"safe-json-parse/tuple":76}],232:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("./text-track-cue-list")),l=n(e("../utils/fn.js")),u=e("./track-enums"),c=i(e("../utils/log.js")),d=i((i(e("global/document")),e("global/window"))),p=i(e("./track.js")),h=e("../utils/url.js"),f=i(e("xhr")),m=i(e("../utils/merge-options")),g=n(e("../utils/browser.js")),y=function(e,t){var r=new d.default.WebVTT.Parser(d.default,d.default.vttjs,d.default.WebVTT.StringDecoder()),n=[];r.oncue=function(e){t.addCue(e)},r.onparsingerror=function(e){n.push(e)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(e),n.length>0&&(console.groupCollapsed,n.forEach(function(e){return c.default.error(e)}),console.groupEnd),r.flush()},v=function(e,t,r){var n={uri:e};h.isCrossOrigin(e)&&(n.withCredentials=r),f.default(n,l.bind(this,function(e,r,n){return e?c.default.error(e,r):(t.loaded_=!0,void("function"!=typeof d.default.WebVTT?t.tech_&&function(){var e=function(){return y(n,t)};t.tech_.on("vttjsloaded",e),t.tech_.on("vttjserror",function(){c.default.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",e)})}():y(n,t)))}))},_=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(o(this,t),!r.tech)throw new Error("A tech was not provided.");var n=m.default(r,{kind:u.TextTrackKind[r.kind]||"subtitles",language:r.language||r.srclang||""}),i=u.TextTrackMode[n.mode]||"disabled",a=n.default;("metadata"===n.kind||"chapters"===n.kind)&&(i="hidden");var c=e.call(this,n);if(c.tech_=n.tech,g.IS_IE8)for(var p in t.prototype)"constructor"!==p&&(c[p]=t.prototype[p]);c.cues_=[],c.activeCues_=[];var h=new s.default(c.cues_),f=new s.default(c.activeCues_),y=!1,_=l.bind(c,function(){this.activeCues,y&&(this.trigger("cuechange"),y=!1)});return"disabled"!==i&&c.tech_.on("timeupdate",_),Object.defineProperty(c,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(c,"mode",{get:function(){return i},set:function(e){u.TextTrackMode[e]&&("showing"===(i=e)&&this.tech_.on("timeupdate",_),this.trigger("modechange"))}}),Object.defineProperty(c,"cues",{get:function(){return this.loaded_?h:null},set:function(){}}),Object.defineProperty(c,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var e=this.tech_.currentAbsoluteTime()||this.tech_.currentTime(),t=[],r=0,n=this.cues.length;n>r;r++){var i=this.cues[r];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(y=!1,t.length!==this.activeCues_.length)y=!0;else for(r=0;r<t.length;r++)-1===this.activeCues_.indexOf(t[r])&&(y=!0);return this.activeCues_=t,f.setCues_(this.activeCues_),f},set:function(){}}),n.src?(c.src=n.src,v(n.src,c,n.tech.options_.playerOptions.corsPolicy===d.default.videojs.CorsConfig.UseCredentials)):c.loaded_=!0,c}return a(t,e),t.prototype.addCue=function(e){var t=this.tech_.textTracks();if(t)for(var r=0;r<t.length;r++)t[r]!==this&&t[r].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=!1,r=0,n=this.cues_.length;n>r;r++)this.cues_[r]===e&&(this.cues_.splice(r,1),t=!0);t&&this.cues.setCues_(this.cues_)},t}(p.default);_.prototype.allowedEvents_={cuechange:"cuechange"},r.default=_,t.exports=r.default},{"../utils/browser.js":238,"../utils/fn.js":243,"../utils/log.js":249,"../utils/merge-options":250,"../utils/url.js":255,"./text-track-cue-list":227,"./track-enums":233,"./track.js":235,"global/document":79,"global/window":80,xhr:85}],233:[function(e,t,r){"use strict";r.__esModule=!0;var n={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},i={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},o={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},a={disabled:"disabled",hidden:"hidden",showing:"showing"};r.default={VideoTrackKind:n,AudioTrackKind:i,TextTrackKind:o,TextTrackMode:a},t.exports=r.default},{}],234:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../event-target")),l=n((n(e("../utils/fn.js")),e("../utils/browser.js"))),u=i(e("global/document")),c=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(o(this,t),e.call(this),!n&&(n=this,l.IS_IE8)){n=u.default.createElement("custom");for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}n.tracks_=[],Object.defineProperty(n,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<r.length;a++)n.addTrack_(r[a]);return n}return a(t,e),t.prototype.addTrack_=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack_=function(e){for(var t=void 0,r=0,n=this.length;n>r;r++)if(this[r]===e){(t=this[r]).off&&t.off(),this.tracks_.splice(r,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,r=0,n=this.length;n>r;r++){var i=this[r];if(i.id===e){t=i;break}}return t},t}(s.default);c.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var d in c.prototype.allowedEvents_)c.prototype["on"+d]=null;r.default=c,t.exports=r.default},{"../event-target":201,"../utils/browser.js":238,"../utils/fn.js":243,"global/document":79}],235:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var s=i(e("../utils/browser.js")),l=n(e("global/document")),u=i(e("../utils/guid.js")),c=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),e.call(this);var n=this;if(s.IS_IE8){n=l.default.createElement("custom");for(var i in t.prototype)"constructor"!==i&&(n[i]=t.prototype[i])}var a={id:r.id||"vjs_track_"+u.newGUID(),kind:r.kind||"",label:r.label||"",language:r.language||""};for(var c in a)!function(e){Object.defineProperty(n,e,{get:function(){return a[e]},set:function(){}})}(c);return n}return a(t,e),t}(n(e("../event-target")).default);r.default=c,t.exports=r.default},{"../event-target":201,"../utils/browser.js":238,"../utils/guid.js":246,"global/document":79}],236:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=n(e("./track-list")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),l=n(e("global/document")),u=function(e,t){for(var r=0;r<e.length;r++)t.id!==e[r].id&&(e[r].selected=!1)},c=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];i(this,t);for(var n=void 0,o=r.length-1;o>=0;o--)if(r[o].selected){u(r,r[o]);break}if(s.IS_IE8){n=l.default.createElement("custom");for(var c in a.default.prototype)"constructor"!==c&&(n[c]=a.default.prototype[c]);for(var c in t.prototype)"constructor"!==c&&(n[c]=t.prototype[c])}return n=e.call(this,r,n),n.changing_=!1,Object.defineProperty(n,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),n}return o(t,e),t.prototype.addTrack_=function(t){var r=this;t.selected&&u(this,t),e.prototype.addTrack_.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){r.changing_||(r.changing_=!0,u(r,t),r.changing_=!1,r.trigger("change"))})},t.prototype.addTrack=function(e){this.addTrack_(e)},t.prototype.removeTrack=function(t){e.prototype.removeTrack_.call(this,t)},t}(a.default);r.default=c,t.exports=r.default},{"../utils/browser.js":238,"./track-list":234,"global/document":79}],237:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}r.__esModule=!0;var a=e("./track-enums"),s=n(e("./track")),l=n(e("../utils/merge-options")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("../utils/browser.js")),c=function(e){function t(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];i(this,t);var n=l.default(r,{kind:a.VideoTrackKind[r.kind]||""}),o=e.call(this,n),s=!1;if(u.IS_IE8)for(var c in t.prototype)"constructor"!==c&&(o[c]=t.prototype[c]);return Object.defineProperty(o,"selected",{get:function(){return s},set:function(e){"boolean"==typeof e&&e!==s&&(s=e,this.trigger("selectedchange"))}}),n.selected&&(o.selected=n.selected),o}return o(t,e),t}(s.default);r.default=c,t.exports=r.default},{"../utils/browser.js":238,"../utils/merge-options":250,"./track":235,"./track-enums":233}],238:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=n(e("global/document")),o=n(e("global/window")),a=o.default.navigator.userAgent,s=/AppleWebKit\/([\d.]+)/i.exec(a),l=s?parseFloat(s.pop()):null,u=/iPad/i.test(a);r.IS_IPAD=u;var c=/iPhone/i.test(a)&&!u;r.IS_IPHONE=c;var d=/iPod/i.test(a);r.IS_IPOD=d;var p=c||u||d;r.IS_IOS=p;var h=function(){var e=a.match(/OS (\d+)_/i);return e&&e[1]?e[1]:void 0}();r.IOS_VERSION=h;var f=/Android/i.test(a);r.IS_ANDROID=f;var m=function(){var e,t,r=a.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return r?(e=r[1]&&parseFloat(r[1]),t=r[2]&&parseFloat(r[2]),e&&t?parseFloat(r[1]+"."+r[2]):e||null):null}();r.ANDROID_VERSION=m;var g=f&&/webkit/i.test(a)&&2.3>m;r.IS_OLD_ANDROID=g;var y=f&&5>m&&537>l;r.IS_NATIVE_ANDROID=y;var v=/Edge/i.test(a);r.IS_EDGE=v;var _=!!i.default.documentMode;r.IS_IE=_;var b=/MSIE\s8\.0/.test(a);r.IS_IE8=b;var S=/MSIE\s9\.0/.test(a);r.IS_IE9=S;var T=!!o.default.MSInputMethodContext&&!!i.default.documentMode;r.IS_IE11=T;var k=/IEMobile\/([0-9.]*)/.test(a);r.IS_IEMOBILE=k;var w=function(e){return e&&parseFloat(e[1])}(/MSIE\s(\d+)\.\d/.exec(a));r.IE_VERSION=w;var E=/Firefox/i.test(a);r.IS_FIREFOX=E;var C=function(){var e=a.match(/Firefox\/([0-9.]*)/i);return e&&e[1]?e[1]:void 0}();r.FIREFOX_VERSION=C;var P=!v&&/Chrome/i.test(a);r.IS_CHROME=P;var I=/Safari/i.test(a)&&!P&&!v&&!k;r.IS_SAFARI=I;var R=/Macintosh/i.test(a)&&/AppleWebKit/i.test(a)&&!I&&!E&&!P;r.IS_MACWEBVIEW=R;var A=!!("ontouchstart"in o.default||o.default.DocumentTouch&&i.default instanceof o.default.DocumentTouch);r.TOUCH_ENABLED=A;var M="backgroundSize"in i.default.createElement("video").style;r.BACKGROUND_SIZE_SUPPORTED=M;var O=/android|webos|windows phone|iphone|ipad|ipod|blackBerry|iemobile|opera mini/i.test(a.toLowerCase());r.IS_MOBILE=O;var j=/MSAppHost/.test(a);r.IS_MSAPPHOST=j},{"global/document":79,"global/window":80}],239:[function(e,t,r){"use strict";r.__esModule=!0,r.bufferedPercent=function(e,t){var r,i,o=0;if(!t)return 0;e&&e.length||(e=n.createTimeRange(0,0));for(var a=0;a<e.length;a++)r=e.start(a),(i=e.end(a))>t&&(i=t),o+=i-r;return o/t};var n=e("./time-ranges.js")},{"./time-ranges.js":252}],240:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=e,r=e.player_.controlBar;r&&Object.getOwnPropertyNames(r).forEach(function(e){r[e]!==t&&r[e].el_&&r[e].el_.className&&(-1!==r[e].el_.className.indexOf("vjs-menu-button")||-1!==r[e].el_.className.indexOf("vjs-volume-control"))&&r[e].buttonPressed_&&r[e].unpressButton()})},t.exports=r.default},{}],241:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return"string"==typeof e&&/\S/.test(e)}function o(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function a(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function s(e){return function(t,r){return i(t)?(i(r)&&(r=v.default.querySelector(r)),(p(r)?r:v.default)[e](t)):v.default[e](null)}}function l(e,t){return e.classList?e.classList.contains(t):(o(t),a(t).test(e.className))}function u(e,t){return void 0!==t&&null!==t&&t.length>0&&(e.classList?e.classList.add(t):l(e,t)||(e.className=(e.className+" "+t).trim())),e}function c(e,t){return e.classList?e.classList.remove(t):(o(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function d(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var r=v.default.documentElement,n=v.default.body,i=r.clientLeft||n.clientLeft||0,o=_.default.pageXOffset||n.scrollLeft,a=t.left+o-i,s=r.clientTop||n.clientTop||0,l=_.default.pageYOffset||n.scrollTop,u=t.top+l-s;return{left:Math.round(a),top:Math.round(u)}}function p(e){return!!e&&"object"==typeof e&&1===e.nodeType}function h(e){return!!e&&"object"==typeof e&&3===e.nodeType}function f(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function m(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),p(e)||h(e)?e:"string"==typeof e&&/\S/.test(e)?v.default.createTextNode(e):void 0}).filter(function(e){return e})}function g(e,t){return m(t).forEach(function(t){return e.appendChild(t)}),e}r.__esModule=!0,r.isVisible=function(e){return"hidden"!==_.default.getComputedStyle(e).visibility&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},r.getEl=function(e){return 0===e.indexOf("#")&&(e=e.slice(1)),v.default.getElementById(e)},r.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=v.default.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(S.default.warn(T.default(y,e,r)),n.setAttribute(e,r)):n[e]=r}),Object.getOwnPropertyNames(r).forEach(function(e){r[e],n.setAttribute(e,r[e])}),n},r.textContent=function(e,t){void 0===e.textContent?e.innerText=t:e.textContent=t},r.insertElFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},r.getElData=function(e){var t=e[w];return t||(t=e[w]=b.newGUID()),k[t]||(k[t]={}),k[t]},r.hasElData=function(e){var t=e[w];return!!t&&!!Object.getOwnPropertyNames(k[t]).length},r.removeElData=function(e){var t=e[w];if(t){delete k[t];try{delete e[w]}catch(t){e.removeAttribute?e.removeAttribute(w):e[w]=null}}},r.hasElClass=l,r.addElClass=u,r.removeElClass=c,r.toggleElClass=function(e,t,r){var n=l(e,t);return"function"==typeof r&&(r=r(e,t)),"boolean"!=typeof r&&(r=!n),r!==n?(r?u(e,t):c(e,t),e):void 0},r.setElAttributes=function(e,t){Object.getOwnPropertyNames(t).forEach(function(r){var n=t[r];null===n||void 0===n||!1===n?e.removeAttribute(r):e.setAttribute(r,!0===n?"":n)})},r.getElAttributes=function(e){var t,r,n,i,o;if(t={},r=",autoplay,controls,loop,muted,default,",e&&e.attributes&&e.attributes.length>0)for(var a=(n=e.attributes).length-1;a>=0;a--)i=n[a].name,o=n[a].value,("boolean"==typeof e[i]||-1!==r.indexOf(","+i+","))&&(o=null!==o),t[i]=o;return t},r.blockTextSelection=function(){v.default.body.focus(),v.default.onselectstart=function(){return!1}},r.unblockTextSelection=function(){v.default.onselectstart=function(){return!0}},r.findElPosition=d,r.getPointerPosition=function(e,t){var r={},n=d(e),i=e.offsetWidth,o=e.offsetHeight,a=n.top,s=n.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),r.y=Math.max(0,Math.min(1,(a-l+o)/o)),r.x=Math.max(0,Math.min(1,(u-s)/i)),r},r.isEl=p,r.isTextNode=h,r.emptyEl=f,r.normalizeContent=m,r.appendContent=g,r.insertContent=function(e,t){return g(f(e),t)};var y=function(e,t){return e.raw=t,e}(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),v=n(e("global/document")),_=n(e("global/window")),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(e("./guid.js")),S=n(e("./log.js")),T=n(e("tsml")),k={},w="vdata"+(new Date).getTime(),E=s("querySelector");r.$=E;var C=s("querySelectorAll");r.$$=C},{"./guid.js":246,"./log.js":249,"global/document":79,"global/window":80,tsml:77}],242:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e,t,r){if(Array.isArray(t))return d(o,e,t,r);var n=p.getElData(e);n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),r.guid||(r.guid=h.newGUID()),n.handlers[t].push(r),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,r){if(!n.disabled){t=u(t);var i=n.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;s>a&&!t.isImmediatePropagationStopped();a++)o[a].call(e,t,r)}}),1===n.handlers[t].length&&(e.addEventListener?e.addEventListener(t,n.dispatcher):e.attachEvent&&e.attachEvent("on"+t,n.dispatcher))}function a(e,t,r){if(p.hasElData(e)){var n=p.getElData(e);if(n.handlers){if(Array.isArray(t))return d(a,e,t,r);var i=function(t){n.handlers[t]=[],c(e,t)};if(t){var o=n.handlers[t];if(o){if(!r)return void i(t);if(r.guid)for(var s=0;s<o.length;s++)o[s].guid===r.guid&&o.splice(s--,1);c(e,t)}}else for(var l in n.handlers)i(l)}}}function s(e,t,r,n,i){var o=p.hasElData(e)?p.getElData(e):{},a=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e,clip:n,time:i}),t=u(t),o.dispatcher&&o.dispatcher.call(e,t,r),a&&!t.isPropagationStopped()&&!0===t.bubbles)s.call(null,a,t,r);else if(!a&&!t.defaultPrevented){var l=p.getElData(t.target);t.target[t.type]&&(l.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),l.disabled=!1)}return!t.defaultPrevented}function l(e,t,r){if(Array.isArray(t))return d(l,e,t,r);var n=function n(){a(e,t,n),r.apply(this,arguments)};n.guid=r.guid=r.guid||h.newGUID(),o(e,t,n)}function u(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var n=e||f.default.event;e={};for(var i in n)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&n.preventDefault||(e[i]=n[i]));if(e.target||(e.target=e.srcElement||m.default),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!=e.clientX){var o=m.default.documentElement,a=m.default.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function c(e,t){var r=p.getElData(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),0===Object.getOwnPropertyNames(r).length&&p.removeElData(e)}function d(e,t,r,n){r.forEach(function(r){e(t,r,n)})}r.__esModule=!0,r.on=o,r.off=a,r.trigger=s,r.one=l,r.fixEvent=u;var p=i(e("./dom.js")),h=i(e("./guid.js")),f=n(e("global/window")),m=n(e("global/document"))},{"./dom.js":241,"./guid.js":246,"global/document":79,"global/window":80}],243:[function(e,t,r){"use strict";r.__esModule=!0;var n=e("./guid.js");r.bind=function(e,t,r){t.guid||(t.guid=n.newGUID());var i=function(){return t.apply(e,arguments)};return i.guid=r?r+"_"+t.guid:t.guid,i}},{"./guid.js":246}],244:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=n(e("global/window")),o=n(e("../player.js"));r.default=function(){var e=["monospace","sans-serif","serif"],t=i.default.document.getElementsByTagName("body")[0],r=i.default.document.createElement("span");r.style.fontSize="72px",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",r.innerHTML="mmmmmmmmmmlli";var n={},a={};for(var s in e)r.style.fontFamily=e[s],t.appendChild(r),n[e[s]]=r.offsetWidth,a[e[s]]=r.offsetHeight,t.removeChild(r);var l=!1;for(var s in e){r.style.fontFamily="Segoe UI,"+e[s],t.appendChild(r);var u=r.offsetWidth!==n[e[s]]||r.offsetHeight!==a[e[s]];t.removeChild(r),l=l||u}if(!l){var c=i.default.document.createElement("style"),d=i.default.document.getElementsByTagName("head")[0],p="/skins/amp-default/assets/fonts/segoeui/",h=o.default.getScriptRootURL();c.appendChild(i.default.document.createTextNode('@font-face{font-family:"Segoe UI";src: url("'+h+p+'segoeui.eot");src: url("'+h+p+'segoeui.eot?#iefix") format("embedded-opentype"),url("'+h+p+'segoeui.woff") format("woff"), url("'+h+p+'segoeui.ttf") format("truetype"), url("'+h+p+'segoeui.svg#Segoe") format("svg");font-weight: normal;font-style: normal;}')),d.appendChild(c)}},t.exports=r.default},{"../player.js":210,"global/window":80}],245:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?e:arguments[1];return function(){e=0>e?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=n=r="-"),i=i>0||a>0?i+":":"",n=((i||o>=10)&&10>n?"0"+n:n)+":",r=10>r?"0"+r:r,i+n+r}()},t.exports=r.default},{}],246:[function(e,t,r){"use strict";r.__esModule=!0,r.newGUID=function(){return n++};var n=1},{}],247:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("global/window"));r.default=function(){var e=void 0,t=void 0;(e=n.default.document.createElement("div")).style.color="rgb(31, 41, 59)",n.default.document.body.appendChild(e),t=(t=n.default.document.defaultView?n.default.document.defaultView.getComputedStyle(e,null).color:e.currentStyle.color).replace(/ /g,""),n.default.document.body.removeChild(e),String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)});var r="rgb(31,41,59)"!==t;r&&!n.default.document.body.className.includes("high-contrast-enabled")?n.default.document.body.className=n.default.document.body.className+" high-contrast-enabled ":r||(n.default.document.body.className=n.default.document.body.className.replace("high-contrast-enabled",""))},t.exports=r.default},{"global/window":80}],248:[function(e,t,r){"use strict";r.__esModule=!0,r.getIsoLangs=function(){return{ab:{name:"Abkhaz",nativeName:""},aa:{name:"Afar",nativeName:"Afaraf"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},sq:{name:"Albanian",nativeName:"Shqip"},am:{name:"Amharic",nativeName:""},ar:{name:"Arabic",nativeName:""},an:{name:"Aragonese",nativeName:"Aragons"},hy:{name:"Armenian",nativeName:""},as:{name:"Assamese",nativeName:""},av:{name:"Avaric",nativeName:" ,  "},ae:{name:"Avestan",nativeName:"avesta"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azrbaycan dili"},bm:{name:"Bambara",nativeName:"bamanankan"},ba:{name:"Bashkir",nativeName:" "},eu:{name:"Basque",nativeName:"euskara, euskera"},be:{name:"Belarusian",nativeName:""},bn:{name:"Bangla",nativeName:""},bh:{name:"Bihari",nativeName:""},bi:{name:"Bislama",nativeName:"Bislama"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},br:{name:"Breton",nativeName:"brezhoneg"},bg:{name:"Bulgarian",nativeName:" "},my:{name:"Burmese",nativeName:""},ca:{name:"Catalan; Valencian",nativeName:"Catal"},ch:{name:"Chamorro",nativeName:"Chamoru"},ce:{name:"Chechen",nativeName:" "},ny:{name:"Chichewa; Chewa; Nyanja",nativeName:"chiChea, chinyanja"},zh:{name:"Chinese",nativeName:" (Zhngwn), , "},cv:{name:"Chuvash",nativeName:" "},kw:{name:"Cornish",nativeName:"Kernewek"},co:{name:"Corsican",nativeName:"corsu, lingua corsa"},cr:{name:"Cree",nativeName:""},hr:{name:"Croatian",nativeName:"hrvatski"},cs:{name:"Czech",nativeName:"etina"},da:{name:"Danish",nativeName:"dansk"},dv:{name:"Divehi; Dhivehi; Maldivian;",nativeName:""},nl:{name:"Dutch",nativeName:"Nederlands"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},et:{name:"Estonian",nativeName:"eesti"},ee:{name:"Ewe",nativeName:"Eegbe"},fo:{name:"Faroese",nativeName:"froyskt"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fi:{name:"Finnish",nativeName:"suomi"},fr:{name:"French",nativeName:"franais"},ff:{name:"Fula; Fulah; Pulaar; Pular",nativeName:"Fulfulde, Pulaar, Pular"},gl:{name:"Galician",nativeName:"Galego"},ka:{name:"Georgian",nativeName:""},de:{name:"German",nativeName:"Deutsch"},el:{name:"Greek, Modern",nativeName:""},gn:{name:"Guaran",nativeName:"Avae"},gu:{name:"Gujarati",nativeName:""},ht:{name:"Haitian; Haitian Creole",nativeName:"Kreyl ayisyen"},ha:{name:"Hausa",nativeName:"Hausa, "},he:{name:"Hebrew (modern)",nativeName:""},hz:{name:"Herero",nativeName:"Otjiherero"},hi:{name:"Hindi",nativeName:", "},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hu:{name:"Hungarian",nativeName:"Magyar"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ga:{name:"Irish",nativeName:"Gaeilge"},ig:{name:"Igbo",nativeName:"Ass Igbo"},ik:{name:"Inupiaq",nativeName:"Iupiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"slenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:""},ja:{name:"Japanese",nativeName:""},jv:{name:"Javanese",nativeName:"basa Jawa"},kl:{name:"Kalaallisut, Greenlandic",nativeName:"kalaallisut, kalaallit oqaasii"},kn:{name:"Kannada",nativeName:""},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:", "},kk:{name:"Kazakh",nativeName:" "},km:{name:"Khmer",nativeName:""},ki:{name:"Kikuyu, Gikuyu",nativeName:"Gky"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},ky:{name:"Kirghiz, Kyrgyz",nativeName:" "},kv:{name:"Komi",nativeName:" "},kg:{name:"Kongo",nativeName:"KiKongo"},ko:{name:"Korean",nativeName:" (),  ()"},ku:{name:"Kurdish",nativeName:""},kj:{name:"Kwanyama, Kuanyama",nativeName:"Kuanyama"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish, Letzeburgesch",nativeName:"Ltzebuergesch"},lg:{name:"Luganda",nativeName:"Luganda"},li:{name:"Limburgish, Limburgan, Limburger",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Lingla"},lo:{name:"Lao",nativeName:""},lt:{name:"Lithuanian",nativeName:"lietuvi kalba"},lu:{name:"Luba-Katanga",nativeName:""},lv:{name:"Latvian",nativeName:"latvieu valoda"},gv:{name:"Manx",nativeName:"Gaelg, Gailck"},mk:{name:"Macedonian",nativeName:" "},mg:{name:"Malagasy",nativeName:"Malagasy fiteny"},ms:{name:"Malay",nativeName:"bahasa Melayu,  "},ml:{name:"Malayalam",nativeName:""},mt:{name:"Maltese",nativeName:"Malti"},mi:{name:"Mori",nativeName:"te reo Mori"},mr:{name:"Marathi (Marh)",nativeName:""},mh:{name:"Marshallese",nativeName:"Kajin Maje"},mn:{name:"Mongolian",nativeName:""},na:{name:"Nauru",nativeName:"Ekakair Naoero"},nv:{name:"Navajo, Navaho",nativeName:"Din bizaad, Dinkeh"},nb:{name:"Norwegian Bokml",nativeName:"Norsk bokml"},nd:{name:"North Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:""},ng:{name:"Ndonga",nativeName:"Owambo"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},ii:{name:"Nuosu",nativeName:" Nuosuhxop"},nr:{name:"South Ndebele",nativeName:"isiNdebele"},oc:{name:"Occitan",nativeName:"Occitan"},oj:{name:"Ojibwe, Ojibwa",nativeName:""},cu:{name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic",nativeName:" "},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Odia",nativeName:""},os:{name:"Ossetian, Ossetic",nativeName:" "},pa:{name:"Panjabi, Punjabi",nativeName:", "},pi:{name:"Pli",nativeName:""},fa:{name:"Persian",nativeName:""},pl:{name:"Polish",nativeName:"polski"},ps:{name:"Pashto, Pushto",nativeName:""},pt:{name:"Portuguese",nativeName:"Portugus"},qu:{name:"Quechua",nativeName:"Runa Simi, Kichwa"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"kiRundi"},ro:{name:"Romanian, Moldovans, Moldovan",nativeName:"romn"},ru:{name:"Russian",nativeName:""},sa:{name:"Sanskrit (Saskta)",nativeName:""},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:",  "},se:{name:"Northern Sami",nativeName:"Davvismegiella"},sm:{name:"Samoan",nativeName:"gagana faa Samoa"},sg:{name:"Sango",nativeName:"yng t sng"},sr:{name:"Serbian",nativeName:" "},gd:{name:"Scottish Gaelic; Gaelic",nativeName:"Gidhlig"},sn:{name:"Shona",nativeName:"chiShona"},si:{name:"Sinhala, Sinhalese",nativeName:""},sk:{name:"Slovak",nativeName:"slovenina"},sl:{name:"Slovene",nativeName:"slovenina"},so:{name:"Somali",nativeName:"Soomaaliga, af Soomaali"},st:{name:"Southern Sotho",nativeName:"Sesotho"},es:{name:"Spanish",nativeName:"espaol"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sw:{name:"Swahili",nativeName:"Kiswahili"},ss:{name:"Swati",nativeName:"SiSwati"},sv:{name:"Swedish",nativeName:"svenska"},ta:{name:"Tamil",nativeName:""},te:{name:"Telugu",nativeName:""},tg:{name:"Tajik",nativeName:""},th:{name:"Thai",nativeName:""},ti:{name:"Tigrinya",nativeName:""},bo:{name:"Tibetan Standard, Tibetan, Central",nativeName:""},tk:{name:"Turkmen",nativeName:"Trkmen"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga (Tonga Islands)",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"Trke"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:""},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uighur, Uyghur",nativeName:""},uk:{name:"Ukrainian",nativeName:""},ur:{name:"Urdu",nativeName:""},uz:{name:"Uzbek",nativeName:"zbek, , "},ve:{name:"Venda",nativeName:"Tshivena"},vi:{name:"Vietnamese",nativeName:"Ting Vit"},vo:{name:"Volapk",nativeName:"Volapk"},wa:{name:"Walloon",nativeName:"Walon"},cy:{name:"Welsh",nativeName:"Cymraeg"},wo:{name:"Wolof",nativeName:"Wollof"},fy:{name:"Western Frisian",nativeName:"Frysk"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:""},yo:{name:"Yoruba",nativeName:"Yorb"},za:{name:"Zhuang, Chuang",nativeName:"Sa cue, Saw cuengh"},mis:{name:"uncoded languages",nativeName:"uncoded languages"},mul:{name:"multiple languages",nativeName:"multiple languages"},und:{name:"undetermined",nativeName:"undetermined"},zxx:{name:"no linguistic content/not applicable",nativeName:"no linguistic content/not applicable"}}},r.get2LetterLangCode=function(e){return{aar:"aa",abk:"ab",ave:"ae",afr:"af",aka:"ak",amh:"am",ara:"ar",asm:"as",ava:"av",aym:"ay",aze:"az",bak:"ba",bel:"be",bul:"bg",bih:"bh",bis:"bi",bam:"bm",ben:"bn",bod:"bo",tib:"bo",bre:"br",bos:"bs",cat:"ca",che:"ce",cha:"ch",cos:"co",cre:"cr",ces:"cs",cze:"cs",chu:"cu",chv:"cv",cym:"cy",wel:"cy",dan:"da",deu:"de",ger:"de",div:"dv",dzo:"dz",ewe:"ee",ell:"el",gre:"el",eng:"en",epo:"eo",spa:"es",est:"et",baq:"eu",eus:"eu",fas:"fa",per:"fa",ful:"ff",fin:"fi",fij:"fj",fao:"fo",fre:"fr",fra:"fr",fry:"fy",gle:"ga",gla:"gd",glg:"gl",grn:"gn",glv:"gv",guj:"gu",hau:"ha",heb:"he",hin:"hi",hmo:"ho",hrv:"hr",hat:"ht",hun:"hu",arm:"hy",hye:"hy",her:"hz",ina:"ia",ind:"id",ile:"ie",ibo:"ig",iii:"ii",ipk:"ik",ido:"io",ice:"is",isl:"is",ita:"it",iku:"iu",jpn:"ja",jav:"jv",geo:"ka",kat:"ka",kon:"kg",kik:"ki",kua:"kj",kaz:"kk",kal:"kl",khm:"km",kan:"kn",kor:"ko",kau:"kr",kas:"ks",kur:"ku",kom:"kv",cor:"kw",kir:"ky",lat:"la",ltz:"lb",lug:"lg",lim:"li",lin:"ln",lao:"lo",lit:"lt",lub:"lu",lav:"lv",mlg:"mg",mah:"mh",mao:"mi",mri:"mi",mac:"mk",mkd:"mk",mal:"ml",mon:"mn",mar:"mr",may:"ms",msa:"ms",mlt:"mt",bur:"my",mya:"my",nau:"na",nob:"nb",nde:"nd",nep:"ne",ndo:"ng",dut:"nl",nld:"nl",nno:"nn",nor:"no",nbl:"nr",nav:"nv",nya:"ny",oci:"oc",oji:"oj",orm:"om",ori:"or",oss:"os",pan:"pa",pli:"pi",pol:"pl",pus:"ps",por:"pt",que:"qu",roh:"rm",run:"rn",ron:"ro",rum:"ro",rus:"ru",kin:"rw",san:"sa",srd:"sc",snd:"sd",sme:"se",sag:"sg",sin:"si",slk:"sk",slo:"sk",slv:"sl",smo:"sm",sna:"sn",som:"so",alb:"sq",sqi:"sq",srp:"sr",ssw:"ss",sot:"st",sun:"su",swe:"sv",swa:"sw",tam:"ta",tel:"te",tgk:"tg",tha:"th",tir:"ti",tuk:"tk",tgl:"tl",tsn:"tn",ton:"to",tur:"tr",tso:"ts",tat:"tt",twi:"tw",tah:"ty",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",chi:"zh",zho:"zh",zul:"zu"}[e]}},{}],249:[function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];a.logByType("log",t)}r.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(e("global/window")),o=e("./browser"),a={};r.Log=a,a.logByType=function(e,t){var r=arguments.length<=2||void 0===arguments[2]?!!o.IE_VERSION&&o.IE_VERSION<11:arguments[2],a=i.default.console,s=a&&a[e]||function(){};"log"!==e&&t.unshift(e.toUpperCase()+":"),n.history.push(t),t.unshift("VIDEOJS:"),r&&(t=t.map(function(e){if(e&&"object"==typeof e||Array.isArray(e))try{return JSON.stringify(e)}catch(e){}return String(e)}).join(" ")),s.apply?s[Array.isArray(t)?"apply":"call"](a,t):s(t)},n.history=[],n.error=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return a.logByType("error",t)},n.warn=function(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return a.logByType("warn",t)},r.default=n},{"./browser":238,"global/window":80}],250:[function(e,t,r){"use strict";function n(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object}function i(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),e.push(a),o.default.apply(null,e),e[0]}r.__esModule=!0,r.default=i;var o=function(e){return e&&e.__esModule?e:{default:e}}(e("lodash-compat/object/merge")),a=function(e,t){return n(t)?n(e)?void 0:i(t):t};t.exports=r.default},{"lodash-compat/object/merge":62}],251:[function(e,t,r){"use strict";r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("global/document"));r.createStyleElement=function(e){var t=n.default.createElement("style");return t.className=e,t};r.setTextContent=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t}},{"global/document":79}],252:[function(e,t,r){"use strict";function n(e,t){return Array.isArray(e)?i(e):void 0===e||void 0===t?i():i([[e,t]])}function i(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:o.bind(null,"start",0,e),end:o.bind(null,"end",1,e)}}function o(e,t,r,n){return void 0===n&&(s.default.warn("DEPRECATED: Function '"+e+"' on 'TimeRanges' called without an index argument."),n=0),a(e,n,r.length-1),r[n][t]}function a(e,t,r){if(0>t||t>r)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is greater than or equal to the maximum bound ("+r+").")}r.__esModule=!0,r.createTimeRanges=n;var s=function(e){return e&&e.__esModule?e:{default:e}}(e("./log.js"));r.createTimeRange=n},{"./log.js":249}],253:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.exports=r.default},{}],254:[function(e,t,r){"use strict";r.__esModule=!0,r.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.exports=r.default},{}],255:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}r.__esModule=!0;var i=n(e("global/document")),o=n(e("global/window")),a=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"];e=encodeURI(e);var r=i.default.createElement("a");r.href=e;var n=""===r.host&&"file:"!==r.protocol,o=void 0;n&&(o=i.default.createElement("div"),o.innerHTML='<a href="'+e+'"></a>',r=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),i.default.body.appendChild(o));for(var a={},s=0;s<t.length;s++)a[t[s]]=r[t[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),n&&i.default.body.removeChild(o),a};r.parseUrl=a;var s=/^[=&;\/]{1}/,l=/([=&;\/]{1})/,u=function(e){var t=e.indexOf("?"),r={hierarchical:decodeURI(e),query:[]};if(-1!==t){r.hierarchical=decodeURI(e.slice(0,t));for(var n=e.slice(t+1).split(l),i=0;i<n.length;i++)r.query.push(n[i].match(s)?n[i]:decodeURIComponent(n[i]))}return r};r.decodeURL=u;var c=function(e){var t="";if(e.query&&e.query.length){t="?";for(var r=0;r<e.query.length;r++)t+=e.query[r].match(s)?e.query[r]:encodeURIComponent(e.query[r])}return encodeURI(e.hierarchical)+t};r.encodeURL=c;r.getAbsoluteURL=function(e){var t=u(e);if(t.hierarchical.match(/^(https?:)?\/\//i))e=c(t);else{var r=i.default.createElement("div");r.innerHTML='<a href="'+c(t)+'">x</a>',e=r.firstChild.href}return e};r.getFileExtension=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""};r.isCrossOrigin=function(e){var t=o.default.location,r=a(e);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host}},{"global/document":79,"global/window":80}],256:[function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r){var n=void 0;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),o.getPlayers()[e])return t&&T.default.warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&o.getPlayers()[e].ready(r),o.getPlayers()[e];n=k.getEl(e)}else n=e;if(!n||!n.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return n.player||h.default.players[n.playerId]||new h.default(n,t,r)}r.__esModule=!0;var a=i(e("global/window")),s=i(e("global/document")),l=n(e("./setup")),u=n(e("./utils/stylesheet.js")),c=i(e("./component")),d=i(e("./event-target")),p=n(e("./utils/events.js")),h=i(e("./player")),f=i(e("./plugins.js")),m=i(e("../../src/js/utils/merge-options.js")),g=n(e("./utils/fn.js")),y=i(e("./tracks/text-track.js")),v=i(e("./tracks/audio-track.js")),_=i(e("./tracks/video-track.js")),b=e("./utils/time-ranges.js"),S=i(e("./utils/format-time.js")),T=i(e("./utils/log.js")),k=n(e("./utils/dom.js")),w=n(e("./utils/browser.js")),E=n(e("./utils/url.js")),C=i(e("./extend.js")),P=i(e("lodash-compat/object/merge")),I=i(e("xhr")),R=i(e("./tech/tech.js"));if(i((i(e("./tech/html5.js")),e("./tech/flash.js"))),"undefined"==typeof HTMLVideoElement&&(s.default.createElement("video"),s.default.createElement("audio"),s.default.createElement("track")),!0!==a.default.VIDEOJS_NO_DYNAMIC_STYLE){var A=k.$(".vjs-styles-defaults");if(!A){A=u.createStyleElement("vjs-styles-defaults");var M=k.$("head");M.insertBefore(A,M.firstChild),u.setTextContent(A,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}l.autoSetupTimeout(1,o),o.VERSION="2.1.8.0",o.options=h.default.prototype.options_,o.getPlayers=function(){return h.default.players},o.players=h.default.players,o.getComponent=c.default.getComponent,o.registerComponent=function(e,t){R.default.isTech(t)&&T.default.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),c.default.registerComponent.call(c.default,e,t)},o.getTech=R.default.getTech,o.registerTech=R.default.registerTech,o.browser=w,o.TOUCH_ENABLED=w.TOUCH_ENABLED,o.extend=C.default,o.mergeOptions=m.default,o.bind=g.bind,o.plugin=f.default,o.addLanguage=function(e,t){var r;return e=(""+e).toLowerCase(),h.default.prototype.options_.languagesMutated=!0,P.default(o.options.languages,(r={},r[e]=t,r))[e]},o.log=T.default,o.createTimeRange=o.createTimeRanges=b.createTimeRanges,o.formatTime=S.default,o.parseUrl=E.parseUrl,o.isCrossOrigin=E.isCrossOrigin,o.EventTarget=d.default,o.on=p.on,o.one=p.one,o.off=p.off,o.trigger=p.trigger,o.xhr=I.default,o.TextTrack=y.default,o.AudioTrack=v.default,o.VideoTrack=_.default,o.isEl=k.isEl,o.isTextNode=k.isTextNode,o.createEl=k.createEl,o.hasClass=k.hasElClass,o.addClass=k.addElClass,o.removeClass=k.removeElClass,o.toggleClass=k.toggleElClass,o.setAttributes=k.setElAttributes,o.getAttributes=k.getElAttributes,o.emptyEl=k.emptyEl,o.appendContent=k.appendContent,o.insertContent=k.insertContent,"object"==typeof r&&"object"==typeof t&&(t.exports=o),r.default=o,t.exports=r.default},{"../../src/js/utils/merge-options.js":250,"./component":163,"./event-target":201,"./extend.js":202,"./player":210,"./plugins.js":211,"./setup":215,"./tech/flash.js":218,"./tech/html5.js":219,"./tech/tech.js":222,"./tracks/audio-track.js":224,"./tracks/text-track.js":232,"./tracks/video-track.js":237,"./utils/browser.js":238,"./utils/dom.js":241,"./utils/events.js":242,"./utils/fn.js":243,"./utils/format-time.js":245,"./utils/log.js":249,"./utils/stylesheet.js":251,"./utils/time-ranges.js":252,"./utils/url.js":255,"global/document":79,"global/window":80,"lodash-compat/object/merge":62,xhr:85}]},{},[96]),amp.utils=amp.utils||{},amp.utils.getBitrateByUnit=function(e){var t=e+"bps";return e>=1e6?(e=amp.utils.roundToOneDecimal(e/1e6),t=e+"Mbps"):e>=1e3&&(e=amp.utils.roundToOneDecimal(e/1e3),t=e+"Kbps"),t},amp.utils.getSizeByUnit=function(e){var t=e;return e>=1048576?(e=amp.utils.roundToOneDecimal(e/1048576),t=e+"MB"):e>=1024&&(e=amp.utils.roundToOneDecimal(e/1024),t=e+"KB"),t},amp.utils.roundToOneDecimal=function(e){return+(Math.round(e+"e+1")+"e-1")},function(e){"use strict";var t=amp.getComponent("MenuButton"),r=t.prototype.addChild;t.prototype.addChild=function(t){r.call(this,t),t.hasClass("vjs-menu")&&this.trigger(e.internalEventName.menuadded)}}(window.amp),function(e){"use strict";e.plugin("responsive",function(t){function r(e){return"number"==typeof e?e:"string"==typeof e&&!isNaN(parseInt(e,10))&&parseInt(e,10)}function n(e){e.playerContainer().style.fontSize=e.playerContainer().offsetWidth+"px"}function i(){var e=this.getCurrentTextTrack();e&&this.textTrackDisplay.updateForTrack(e)}function o(){for(var e=this.playerContainer().offsetWidth,t=[],r=0;r<p.length;r++){var i=p[r],o=d[i].from,a=d[i].to;void 0!==o&&void 0!==a?e>=o&&a>=e&&t.push(i):void 0!==o&&e>=o?t.push(i):void 0!==a&&a>=e&&t.push(i)}t.length>0&&(t=t.join(" "),s!==t&&(this.removeElClass(this.playerContainer(),s),this.addElClass(this.playerContainer(),t),s=t)),n(this)}function a(){for(var e=l.el().offsetHeight-l.controlBar.el().offsetHeight-20,t=0;t<u.length;t++)u[t].style.maxHeight=e+"px"}var s,l=this,u=[],c={"amp-size-es":{from:189,to:229},"amp-size-s":{from:230,to:399},"amp-size-m":{from:400,to:799},"amp-size-l":{from:800}},d=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=e[o],s=r(a);if(!1!==s)t[o]={from:s,to:s};else if(a.from||a.to){var l=r(a.from),u=r(a.to);(!1!==l||!1!==u)&&(t[o]={}),!1!==l&&(t[o].from=l),!1!==u&&(t[o].to=u)}}return t}(e.mergeOptions(t.sizeClasses,c)),p=Object.keys(d);n(l),l.addThrottledWindowResizeListener(e.bind(l,o),200),l.one(e.eventName.loadstart,function(){e.TOUCH_ENABLED&&l.addClass("amp-touch-enabled")}),l.ready(e.bind(l,function(){this.addThrottledWindowResizeListener(e.bind(this,i),200),o.call(this);var t=this;this.addThrottledWindowResizeListener(a,200),l.on("fullscreenchange",function(){o.call(t)}),this.on(e.internalEventName.menuadded,function(){u=this.controlBar.el().querySelectorAll(".vjs-menu-content"),a()})}))})}(window.amp),function(e){"use strict";e.plugin("ampAudioTracks",function(t){function r(e){var t=f.controlBar.audioTracksButton,r=y,n=t.items.indexOf(e),i=f.currentAudioStreamList();!i||0>n||(i.switchIndex(n),r!==n&&(r<t.items.length&&t.items[r].selected(!1),e.selected(!0),y=n))}function n(e){var t=e.currentAudioStreamList();if(!t)return[];i(e);for(var r,n=[],o=0;o<t.streams.length;o++)r=t.streams[o],d(r.codec)==_&&n.push({text:r.title?r.title:r.name});return n}function i(t){var r=t.currentAudioStreamList();if(S)for(s=0;s<r.streams.length;s++)r.streams[s].title=r.streams[s].name;else{var n=h(r.streams,function(e){var t=l(e.language);return t||(t=e.language),t}),i=h(r.streams,function(t){return e.utils.getBitrateByUnit(t.bitrate)}),o=[];if(c(n))o=n;else{var a=[];i.forEach(function(e,t){var r=n[t]?n[t]:"Track"+t;a.push(r+" - "+i[t])}),o=a.slice(),a.forEach(function(e,t){var r=a.indexOf(e);t>r&&(o[r]=a[r]+" ("+r+")",o[t]=a[t]+" ("+t+")")})}for(var s=0;s<r.streams.length;s++)r.streams[s].title=o[s]}}function o(){var t=this.player_.currentAudioStreamList();t&&t.addEventListener(e.streamListEventName.streamselected,e.bind(this,a)),this.refresh(),y=void 0,s(this.player_)}function a(){var e=this.player_.currentAudioStreamList(),t=this.player_.controlBar.audioTracksButton,r=y;r!==e.enabledIndices[0]&&(r<t.items.length&&t.items[r].selected(!1),(y=e.enabledIndices[0])<t.items.length&&t.items[y].selected(!0))}function s(e){var t=e.currentAudioStreamList();if(t){var n=e.controlBar.audioTracksButton;y!=t.enabledIndices[0]&&r(n.items[t.enabledIndices[0]])}}function l(e){if(!e)return null;var t=null;return 3==e.length&&(t=amp.get2LetterLangCode(e)),m&&t&&m[t]?m[t].nativeName:m&&e&&m[e]?m[e].nativeName:null}function u(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function c(e){return u(e).length==e.length}function d(e){var t=["aac","mp4a"],r=["dtse","ac-3","ec-3"];return null==e?_:(e=e.toLowerCase(),p(r,e)?v:p(t,e)?_:void 0)}function p(e,t){for(var r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return!0;return!1}function h(e,t){var r=[];return e.forEach(function(e,n){r.push(t(e,n))}),r}var f=this,m=e.getIsoLangs(),g=t&&t.menuTitle?t.menuTitle:"Audio Tracks",y=t&&t.selectedItem?t.selectedItem:0,v=this.htmlEncode(this.localize("Dolby Digital")),_=this.htmlEncode(this.localize("Stereo")),b=!0,S=!1;f.options_.skinConfig&&f.options_.skinConfig.audioTracksMenu&&(void 0!==f.options_.skinConfig.audioTracksMenu.enabled&&(b=f.options_.skinConfig.audioTracksMenu.enabled),S=f.options_.skinConfig.audioTracksMenu.useManifestForLabel||!1);var T=e.getComponent("MenuItem");e.AudioTrackskMenuItem=e.extend(T,{init:function(e,t){var r={label:t.text,selected:t.selected,selectable:!0};T.call(this,e,r),this.addClass("amp-menu-item")}}),e.AudioTrackskMenuItem.prototype.handleClick=function(){r(this)},e.registerComponent("AudioTrackskMenuItem",e.AudioTrackskMenuItem);var k=e.getComponent("MenuButton");e.AudioTracksButton=e.extend(k,{init:function(t,r){b&&(r=r||{},r.name="audioTracksButton",k.call(this,t,r),t.addEventListener(AzureHtml5JS.Common.isSafari?e.eventName.loadeddata:e.eventName.loadedmetadata,e.bind(this,o)))}}),e.AudioTracksButton.prototype.refresh=function(){if(this.removeChild(this.menu),null!=this.menu&&this.menu.dispose(),this.menu=this.createMenu(),!this.items||this.items.length<=1)this.hide();else{this.addChild(this.menu);var t=new(e.getComponent("Component"))(f,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(g)),tabindex:-1})});this.menu.prependItem(t),this.show()}},e.AudioTracksButton.prototype.buttonText=g,e.AudioTracksButton.prototype.createItems=function(){for(var t=n(this.player_)||[],r=[],i=0;i<t.length;i++){var o=new e.AudioTrackskMenuItem(this.player_,t[i]);r.push(o)}return r},e.AudioTracksButton.prototype.buildCSSClass=function(){return"amp-audiotracks-control "+k.prototype.buildCSSClass.call(this)},e.registerComponent("AudioTracksButton",e.AudioTracksButton),f.ready(function(){var t=new e.AudioTracksButton(f,{selectedItemIndex:y});f.controlBar.audioTracksButton=f.controlBar.addChild(t),b&&f.controlBar.audioTracksButton.el_.setAttribute("aria-label","Audio Tracks Menu")})})}(window.amp),function(e){"use strict";var t=e.getComponent("CaptionSettingsMenuItem"),r=t.prototype.onClick,n=e.getComponent("TextTrackSettings"),i=n.prototype.saveSettings;e.plugin("closedCaption",function(o){var a=this,s=o&&o.menuTitle?o.menuTitle:"Closed Captioning";a.addEventListener(e.eventName.loadedmetadata,function(){a.controlBar.captionsButton.el().className+=" amp-closedcaption-control",a.controlBar.captionsButton.buttonText=s;var t=new(e.getComponent("Component"))(a,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(s)),tabindex:-1})});a.controlBar.captionsButton.menu.prependItem(t)}),t.prototype.onClick=function(){r.apply(this),this.player().addClass("amp-showing-texttrack-settings")},n.prototype.saveSettings=function(){i.apply(this),this.player().removeClass("amp-showing-texttrack-settings")},a.on("dispose",function(){t.prototype.onClick=r,n.prototype.saveSettings=i})})}(window.amp),function(e){"use strict";e.plugin("contentTitle",function(t){function r(e,t,r){var n="amp-logo";if(i&&null!==r.currentClip()&&r.currentClip().isAd){var o="",a=r.currentClip().clickThrough||"",s=parseInt(r.duration()-r.currentTime());s>=0&&r.currentTime()>0&&(o=AMP.Misc.formatString(r.localize("AD_TIMING_INFO"),s),a.length>0&&(o=r.htmlEncode(o)+' | <a onclick=" return true" class="aboutLink">'+r.htmlEncode(a)+"</a>"),t=o),n="amp-logo-ad"}else t=r.htmlEncode(t);var l=null;l=e?['<div class="logo-title-row">','<div class="title"><h4>'+r.htmlEncode(e)+"</h4></div>",'<div class="'+n+'"></div>',"</div>"]:['<div class="logo-title-row">','<div class="title"></div>','<div class="'+n+'"></div>',"</div>"];var u=null;t&&(u='<div class="description">'+t+"</div>");var c=l.join("");return null!=u&&(c+=u),c}var n=this,i=n.options_.isAdPlayer||!1,o=e.bind(n,function(){var t=r(this.title_||this.options_.title,this.options_.description,this);if(void 0!==n.contentTitleElement){n.contentTitleElement.innerHTML=t;var o=!n.options().logo||!!n.options().logo.enabled,a=i?"amp-logo-ad":"amp-logo";if(o&&n.el().getElementsByClassName(a).length>0){var s=new e.Logo(n);n.el().getElementsByClassName(a)[0].appendChild(s.el()),n.on("dispose",function(){s.dispose()})}}});n.ready(function(){var o=r(t.title,t.description,n),a="";a=i?e.createEl("div",{className:"amp-content-title-ad",innerHTML:o}):e.createEl("div",{className:"amp-content-title",innerHTML:o}),n.contentTitleElement=n.el().appendChild(a),i&&(n.contentTitleElement.onclick=function(){n.trigger("tech-click")})}),n.on("firstplay",o),n.on("presentationUpdate",o),i&&n.on("timeupdate",o),n.on("dispose",function(){n.contentTitleElement&&(n.contentTitleElement.parentElement&&n.contentTitleElement.parentElement.removeChild(n.contentTitleElement),n.contentTitleElement=null)})})}(window.amp),function(e){"use strict";e.plugin("controlBarIcons",function(t){function r(e){for(var t=0;t<u.length;t++)if(e===u[t].name())return u[t];return null}function n(t,n){var o=n.replace("amp-controlbaricons-","");o="controlBarIcons"+(o[0].toUpperCase()+o.slice(1));for(var a=new(e.getComponent("Component"))(i,{name:o,el:e.createEl("div",{className:n})}),s=0;s<t.length;s++){var l=r(t[s]);l&&(a.addChild(l),i.controlBar.removeChild(l))}i.controlBar.addChild(a)}var i=this,o=t&&t.leftIcons?t.leftIcons:[],a=t&&t.middleIcons?t.middleIcons:[],s=t&&t.rightIcons?t.rightIcons:[],l=!!t&&!!t.removeOtherIcons,u=[];i.ready(function(){if(u=i.controlBar.children().slice(),l)for(var e=0;e<u.length;e++)i.controlBar.removeChild(u[e]);n(o,"amp-controlbaricons-left"),n(a,"amp-controlbaricons-middle"),n(s,"amp-controlbaricons-right")}),i.on("dispose",function(){setTimeout(function(){for(var e=0;e<u.length;e++)u[e]&&u[e].dispose&&(u[e].dispose(),u[e]=null)},0)})})}(window.amp);var AMP;!function(e){!function(){"use strict";var t=function(){return function(e,t){this.languageCode=e,this.languageName=t,this.files=[]}}(),r=function(){function r(e,t,r){this.mediaPlayer=e,this.player=t,this.playerElement=r,this.visible=!1,this.languagesInFiles={},this.languageCount=0,this.selectedFile=null}return r.prototype.options=function(r){var n,i,o,a=this.mediaPlayer.getIsoLangs(),s=this.visible;if(this.removeDialogElement(),r&&r instanceof Array){for(this.languagesInFiles={},this.languageCount=0,n=0;n<r.length;n++){var l=r[n];l.lang&&"string"==typeof l.lang&&(i=null,o=null,a[l.lang]?(i=l.lang,o=a[l.lang]):(i=l.lang.split("-")[0])&&a[i]&&(o=a[i]),i&&o&&(this.languagesInFiles[i]?this.languagesInFiles[i].files.push(l):(this.languagesInFiles[i]=new t(i,o),this.languagesInFiles[i].files.push(l),this.languageCount++)))}s&&this.languageCount>0&&this.show(),s&&0===this.languageCount&&this.closeCallback&&this.closeCallback()}else e.Logger.error(5,"Download plugin: downloadable media options are invalid.")},r.prototype.show=function(){this.visible||(this.dialogElement||this.createDialogElement(),this.dialogElement.style.display="block",this.visible=!0,this.dialogElement.focus())},r.prototype.createDialogElement=function(){var t,r,n,i,o,a=this,s=this.playerElement.id,l=s+"_dlclose",u=s+"_dl",c=s+"_sel",d=s+"_dlglbl",p=s+"_dlgdesc";this.dialogElement=document.createElement("div"),this.dialogElement.style.display="none",this.dialogElement.className="amp-download-dialog",this.dialogElement.tabIndex=-1,this.dialogElement.setAttribute("role","dialog"),this.dialogElement.setAttribute("aria-labelledby",d),this.dialogElement.setAttribute("aria-describedby",p),this.dialogElement.onkeydown=function(e){27==e.keyCode&&a.hide()},(r=this.dialogElement.appendChild(document.createElement("div"))).setAttribute("role","document"),(n=r.appendChild(document.createElement("div"))).id=d,n.className="vjs-control-text",n.setAttribute("role","heading"),n.setAttribute("aria-level","1"),n.innerText=this.player.localize("Media Download Dialog"),(i=r.appendChild(document.createElement("div"))).id=p,i.className="vjs-control-text",i.innerText=this.player.localize("Media Download Description"),(o=r.appendChild(document.createElement("div"))).className="outline-enabled",o.innerHTML="<div id='"+l+"' class='amp-download-close vjs-control outline-enabled-control' role='button' tabindex=0><span class='vjs-control-text'>"+this.player.localize("Close")+"</span></div><div class='amp-download-container'><div class='amp-download-header'><div class='amp-download-header-title'>"+this.player.localize("Download")+"</div></div><div class='amp-download-body'><div class='amp-download-left-col'><form></form></div><div class='amp-download-right-col'><label class='amp-download-label' for='"+c+"' >"+this.player.localize("Language")+"</label><select id='"+c+"'></select></div><div class='amp-clear'></div></div><div class='amp-download-footer'><a id='"+u+"' class='amp-download-button amp-download-disabled' download>"+this.player.localize("Download")+"</a></div></div>";var h=this.dialogElement.getElementsByTagName("form")[0],f=this.dialogElement.getElementsByTagName("select")[0];for(t in this.languagesInFiles)if(this.languagesInFiles.hasOwnProperty(t)){var m=this.languagesInFiles[t],g=document.createElement("option");g.value=t,g.innerText=m.languageName.nativeName,f.add(g)}f.selectedIndex=0,f.onchange=function(){a.refreshMediaList(h,f)},this.refreshMediaList(h,f),this.playerElement.appendChild(this.dialogElement),document.getElementById(l).onclick=function(){a.hide()},this.downloadButton=document.getElementById(u),this.downloadButton.onclick=function(){a.selectedFile&&e.Logger.verbose(5,"Download plugin: Starting download file: "+a.selectedFile.uri)}},r.prototype.removeDialogElement=function(){this.dialogElement&&(this.playerElement.removeChild(this.dialogElement),this.dialogElement=null),this.visible=!1},r.prototype.refreshMediaList=function(e,t){var r,n,i,o=this;for(this.unselectFile();e.firstChild;)e.removeChild(e.firstChild);if(t.selectedIndex>=0&&t[t.selectedIndex]&&(n=t[t.selectedIndex],i=this.languagesInFiles[n.value]))for(r=0;r<i.files.length;r++)!function(t){var r=document.createElement("input");r.type="radio",r.name="fileselect",r.onchange=function(){o.selectFile(i.files[t])};var n=document.createElement("label");n.className="amp-download-label",n.appendChild(r),n.appendChild(document.createTextNode(o.getLabel(i.files[t]))),e.appendChild(n)}(r)},r.prototype.hide=function(){this.visible&&(this.dialogElement.style.display="none",this.visible=!1,this.closeCallback&&this.closeCallback())},r.prototype.onClose=function(e){this.closeCallback=e},r.prototype.selectFile=function(e){this.selectedFile=e,this.downloadButton&&(this.downloadButton.className="amp-download-button",this.downloadButton.href=e.uri)},r.prototype.unselectFile=function(){this.selectedFile=null,this.downloadButton&&(this.downloadButton.className="amp-download-button amp-download-disabled",this.downloadButton.removeAttribute("href"))},r.prototype.getLabel=function(t){var n="";switch(t.type){case amp.downloadableMediaType.video:n=r.videoWithoutCCLabel;break;case amp.downloadableMediaType.videoWithCC:n=r.videoWithCCLabel;break;case amp.downloadableMediaType.audio:n=r.audioLabel;break;case amp.downloadableMediaType.transcript:n=r.transciptLabel;break;default:e.Logger.error(5,"Download plugin: Unrecognized media type: "+t.type),n=t.type}return n=this.player.localize(n),t.bitrate&&(n=n+", "+amp.utils.getBitrateByUnit(t.bitrate)),t.size&&(n=n+", "+amp.utils.getSizeByUnit(t.size)),n},r.videoWithCCLabel="Video with Closed Caption",r.videoWithoutCCLabel="Video without Closed Caption",r.audioLabel="Audio",r.transciptLabel="Transcript",r}(),n=function(){return function(e,t){this.mediaPlayer=e,this.player=t;var n="Download",i=e.getComponent("Button");e.DownloadButton=e.extend(i,{init:function(e,t){(t=t||{}).name="downloadButton",i.call(this,e,t),this.controlText(n),this.buttonText=n,this.dialogVisible=!1,this.dialog=null,this.pused=!1}}),e.DownloadButton.prototype.buildCSSClass=function(){return"amp-download-control "+i.prototype.buildCSSClass.call(this).trim()},e.DownloadButton.prototype.handleClick=function(){var t=this;this.dialog||(this.dialog=new r(e,this.player_,this.player_.el()),this.dialog.onClose(function(){t.dialogVisible=!1,t.paused&&(t.player_.play(),t.paused=!1)}),this.dialog.options(this.player_.downloadableMedia())),this.dialogVisible?(this.dialog.hide(),this.dialogVisible=!1):(this.dialog.show(),this.dialogVisible=!0,this.player_.paused()||(this.player_.pause(),this.paused=!0))},e.registerComponent("DownloadButton",e.DownloadButton),t.ready(function(){var r=new e.DownloadButton(t),n=t.downloadableMedia();t.controlBar.downloadButton=t.controlBar.addChild(r),n&&n instanceof Array&&0!==n.length||(t.controlBar.downloadButton.el().style.display="none"),t.addEventListener("play",function(){t.controlBar.downloadButton.dialogVisible&&t.pause()});var i=function(){var e=t.downloadableMedia(),r=!!e&&e instanceof Array&&e.length>0;t.controlBar.downloadButton.dialog&&t.controlBar.downloadButton.dialog.options(e),r?t.addClass("amp-showing-download-control"):t.removeClass("amp-showing-download-control")};t.addEventListener("downloadableMediaChanged",i),i()})}}();!function(e,t){amp.plugin("download",function(){new n(t,this)})}(window,window.amp)}(e.Plugins||(e.Plugins={})),e.Plugins}(AMP||(AMP={})),function(e){"use strict";e.plugin("live",function(t){function r(){o(),T.currentTime(T.duration()),M=!1}function n(){T.isLive()?((O="LowLatency"==T.currentHeuristicProfile())&&(R=0,M=!1,P=I,T.addEventListener(amp.internalEventName.currentTimeChanging,c)),T.addEventListener(e.eventName.seeked,d),T.addEventListener(e.eventName.seeking,d),T.addEventListener(e.eventName.timeupdate,u),b(),f()):(T.removeEventListener(e.eventName.seeked,d),T.removeEventListener(e.eventName.seeking,d),T.removeEventListener(e.eventName.timeupdate,u),_(),S()),O||(P=C,T.removeEventListener(amp.internalEventName.currentTimeChanging,c))}function i(){"Html5"==T.currentTechName()&&T.isLive()&&(b(),f())}function o(){T.canControlPlaybackRate()&&T.playbackRate()>1&&s()}function a(){T.canControlPlaybackRate()&&T.playbackRate()<1&&s()}function s(){T.playbackRate(1),j=!0,D=1,N=!1,L=!1,B=!1,T.one(e.eventName.timeupdate,d)}function l(){T.canControlPlaybackRate()&&D!==T.playbackRate()&&(j=!1,M=!0)}function u(){T.isLive()?p()?(_(),g(),O&&setTimeout(function(){!T.paused()&&!M&&Date.now()-R>A&&(AMP.Logger.warning(AMP.Logger.Area.plugin,"amplive plugin: player drifted from live edge. Attempting to move to live edge.."),R=0,r())},50),!j&&h()&&a()):(O&&0==R&&(R=Date.now()),j||o()):(T.removeEventListener(e.eventName.seeked,d),T.removeEventListener(e.eventName.seeking,d),T.removeEventListener(e.eventName.timeupdate,u),_(),S())}function c(e,t){t.time<T.duration()&&(M=!0,R=0)}function d(){T.isLive()&&(p()?(_(),g()):(f(),m()))}function p(){var e=T.currentPlayerSettingValue("livePlaybackOffsetInWallClockSec");return T.currentTime()<T.duration()-P-e}function h(){return T.currentTime()<x}function f(){T.addClass(E)}function m(){N||(N=!0,L=!1,B=!1,T.trigger(e.internalEventName.playingAtLiveDVREdge))}function g(){h()?y():v()}function y(){B||(N=!1,L=!1,B=!0,T.trigger(e.internalEventName.playingAtStartDVREdge))}function v(){L||(N=!1,L=!0,B=!1,T.trigger(e.internalEventName.playingInDVR))}function _(){T.removeClass(E)}function b(){T.controlBar.liveDisplay.addClass(w),T.controlBar.liveDisplay.show()}function S(){T.controlBar.liveDisplay.removeClass(w),T.controlBar.liveDisplay.hide()}var T=this,k=t&&t.controlText?t.controlText:"LIVE",w="amp-live-control",E="amp-live-on",C=5,P=C,I=2,R=0,A=3e4,M=!1,O=!1,j=!1,D=1,x=5,N=!1,L=!1,B=!1,F=e.getComponent("Component");e.LiveEdgeProgressBar=e.extend(F,{init:function(e,t){F.call(this,e,t)}}),e.LiveEdgeProgressBar.prototype.createEl=function(){return e.createEl("div",{className:"amp-live-edge-progress",tabIndex:0})},e.registerComponent("LiveEdgeProgressBar",e.LiveEdgeProgressBar);var U=function(){p()&&r()};T.ready(function(){T.addEventListener(e.eventName.ratechange,l),T.addEventListener(e.eventName.loadedmetadata,n),T.addEventListener(e.eventName.durationchange,i),T.controlBar.liveDisplay.off(T,"durationchange",T.controlBar.liveDisplay.updateShowing),T.controlBar.liveDisplay.setClickHandler(U);var t=e.createEl("div",{className:"amp-livetimeindicator",innerHTML:this.htmlEncode(this.localize(k))});T.controlBar.currentTimeDisplay.el().appendChild(t)})})}(window.amp),function(e){"use strict";e.plugin("logo",function(t){var r=t.enabled,n=t.opacity,i=t.targetUrl,o="amp-logo",a=e.getComponent("Component");e.Logo=e.extend(a,{init:function(e,t){a.call(this,e,t)}}),e.Logo.prototype.createEl=function(){var t,r="/skins/amp-default/assets/icons/amslogo.svg",o=e.getComponent("Player"),a=window.document.body.className.includes("high-contrast-enabled");if(i){var s,l=e.decodeURL(i);s=l.hierarchical.match(/^((ftp:\/\/)|(javascript:))/i)?"https://microsoft.com":l.hierarchical.match(/^(https?:)?\/\//i)?e.encodeURL(l):e.createEl("div",{innerHTML:'<a href="'+e.encodeURL(l)+'"></a>'}).firstChild.href,t=(amp.browser.IS_FIREFOX||amp.browser.IS_IE11||amp.browser.IS_EDGE)&&a?e.createEl("span",{innerHTML:'<img src="'+o.getScriptRootURL()+r+'"><a target="_blank" href="'+s+'"></a>'}):e.createEl("span",{innerHTML:'<a target="_blank" href="'+s+'"></a>'})}else t=(amp.browser.IS_FIREFOX||amp.browser.IS_IE11||amp.browser.IS_EDGE)&&a?e.createEl("div",{innerHTML:'<img src="'+o.getScriptRootURL()+r+'">'}):e.createEl("div");return t.style.opacity=n,this.container=t,t},e.registerComponent("Logo",e.Logo),this.ready(function(){var t=this;if(r&&t.el().getElementsByClassName(o).length>0){var n=new e.Logo(t);t.el().getElementsByClassName(o)[0].appendChild(n.el()),t.on("dispose",function(){n.dispose()})}})})}(window.amp),function(e){"use strict";e.plugin("moreOptions",function(t){function r(e,t){if(v=t,t){for(r=0;r<h.length;r++)h[r].control.el().tabIndex=-1,h[r].control.addClass("amp-control-disabled");e.controlBar.moreOptionsButton.el().tabIndex=0,e.controlBar.moreOptionsButton.removeClass("amp-control-disabled"),e.controlBar.moreOptionsButton.el().setAttribute("aria-hidden","false")}else{for(var r=0;r<h.length;r++)h[r].control.el().tabIndex=0,h[r].control.removeClass("amp-control-disabled"),h[r].control.menu&&(h[r].control.el().style.position="",h[r].control.el().style.left="");e.controlBar.moreOptionsButton.el().tabIndex=-1,e.controlBar.moreOptionsButton.addClass("amp-control-disabled"),e.controlBar.moreOptionsButton.el().setAttribute("aria-hidden","true")}e.toggleClass("amp-showing-more-options-button",t)}function n(e){e.controlBar.moreOptionsButton.menu.el().style.display="";for(var t=0;t<h.length;t++)h[t].control.menu&&(h[t].control.menu.el().style.display="")}function i(e){var t=function(t,r){for(var n=0;n<t.length;n++){var i=e.controlBar[t[n]];i&&i.el()&&r.push({control:i,text:i.buttonText,className:i.el().className})}};return h=[],t(d,h),t(e.options_.plugins.moreOptions.controls,h),h}function o(e){var t=e.controlBar.el();y={left:t.querySelector(".amp-controlbaricons-left"),middle:t.querySelector(".amp-controlbaricons-middle"),right:t.querySelector(".amp-controlbaricons-right")},s=y.right.offsetWidth;var n=window.getComputedStyle(y.middle);c=parseInt(n.minWidth,10),isNaN(c)&&(c=0),y.middle.style.minWidth="0",f=[];for(var i=0;i<h.length;i++)h[i].control.hasClass("vjs-hidden")||f.push(h[i]);f.length>1?(e.addThrottledWindowResizeListener(function(){a(e)},g),a(e)):r(e,!1)}function a(e){if(0==e.controlBar.width())r(e,e.width()<c);else if(null!==y){var t=y.middle.offsetWidth;v&&(t=y.middle.offsetWidth-(s-y.right.offsetWidth)),r(e,c+1>t)}}var s,l=e.getComponent("Component"),u=this,c=0,d=t&&t.controls?t.controls:[],p=t&&t.menuTitle?t.menuTitle:"More Options",h=[],f=[],m=Date.now(),g=200,y=null,v=!1,_=e.getComponent("MenuItem");e.MoreOptionsMenuItem=e.extend(_,{init:function(e,t){var r={label:t.text,value:t.value,selected:t.selected};_.call(this,e,r),this.control=t.control,this.addClass("amp-menu-item"),t.className.split(" ").forEach(function(e){this.addClass(e)},this),this.control.menu&&this.control.menu.on("mouseleave",function(){this.el().style.display=""})}}),e.MoreOptionsMenuItem.prototype.handleClick=function(){this.control.handleClick(),m=Date.now()},e.registerComponent("MoreOptionsMenuItem",e.MoreOptionsMenuItem);var b=e.getComponent("MenuButton");e.MoreOptionsButton=e.extend(b,{init:function(t,r){if(r=r||{},r.name="moreOptionsButton",b.call(this,t,r),t.addEventListener(amp.eventName.loadedmetadata,e.bind(this,function(){this.refresh()})),this.on("mouseover",function(){n(t)}),this.items.length>0){var i=new l(t,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(p)),tabindex:-1})});this.menu.prependItem(i)}this.el().tabIndex=-1,this.addClass("amp-control-disabled"),this.el().setAttribute("aria-hidden","true"),this.el().setAttribute("aria-label","More Options")}}),e.MoreOptionsButton.prototype.buttonText=p,e.MoreOptionsButton.prototype.createItems=function(){for(var t=i(this.player_)||[],r=[],n=0;n<t.length;n++){var o=new e.MoreOptionsMenuItem(this.player_,t[n]);r.push(o)}return r},e.MoreOptionsButton.prototype.buildCSSClass=function(){return"amp-moreoptions-control "+b.prototype.buildCSSClass.call(this)},e.MoreOptionsButton.prototype.refresh=function(){if(this.removeChild(this.menu),null!=this.menu&&this.menu.dispose(),this.menu=this.createMenu(),this.addChild(this.menu),this.items.length>0){var t=new l(this.player_,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(p)),tabindex:-1})});this.menu.prependItem(t)}},e.MoreOptionsButton.prototype.hasJustBeenClicked=function(){return Date.now()-m<500},e.MoreOptionsButton.prototype.onClick=function(e){this.hasJustBeenClicked()||b.prototype.onClick.call(this,e)},e.MoreOptionsButton.prototype.isSubMenuVisible=function(){var e=this,t=this.player_.controlBar;if(t)for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++)if(t[r[n]]!==e&&t[r[n]].el_&&t[r[n]].el_.className&&-1!==t[r[n]].el_.className.indexOf("vjs-menu-button")&&t[r[n]].buttonPressed_)return!0;return!1},e.MoreOptionsButton.prototype.vjsHandleMouseLeave=e.MoreOptionsButton.prototype.handleMouseLeave,e.MoreOptionsButton.prototype.handleMouseLeave=function(){this.isSubMenuVisible()||this.vjsHandleMouseLeave()},e.registerComponent("MoreOptionsButton",e.MoreOptionsButton),u.ready(function(){var n=new e.MoreOptionsButton(u,t);u.controlBar.moreOptionsButton=u.controlBar.addChild(n),u.addEventListener(amp.eventName.loadedmetadata,function(){o(u)}),u.on("fullscreenchange",function(){r(u,u.controlBar.width()<c)}),u.on("visibilityChange",function(){a(u)}),u.on("dispose",function(){y=null})})})}(window.amp),function(e){"use strict";e.plugin("quality",function(t){function r(e){var t=e.player_.controlBar.qualityButton,r=c,n=t.items.indexOf(e);if(r!==n){t.items[r].selected(!1),e.selected(!0),c=n,i(t,n);var o=e.player_.currentVideoStreamList(),a=o.selectedIndex,s=o.streams[a].tracks;o.streams[a].selectTrackByIndex(0==c?-1:s.length-c)}}function n(t){var r=t.currentVideoStreamList();if(r){var n=r.selectedIndex,i=r.streams[n].tracks,o=[];o[0]={text:d,selectable:!0};for(var a=1;a<=i.length;a++){var s=i[i.length-a].bitrate;o[a]={text:i[i.length-a].height+"p-"+e.utils.getBitrateByUnit(s),selectable:i[i.length-a].selectable}}return c>=0&&c<o.length&&(o[c].selected=!0),o}}function i(e,t){if(0==t)n=4;else{var r=e.items[t].options_.label.split("-")[0].replace("p",""),n=4;n=r>720?4:720>=r&&r>480?3:480>=r&&r>360?2:1}var i=e.el().className.match(/quality-\d/);e.el().className=e.el().className.replace(i,"quality-"+n)}function o(){this.refresh(),a(this.player_)}function a(t){var r=t.currentVideoStreamList();if(r&&r.streams)for(var n=0;n<r.streams.length;n++)r.streams[n].addEventListener(amp.streamEventName.trackselected,e.bind(t,s))}function s(){var e=this.controlBar.qualityButton,t=this.currentVideoStreamList();if(t){for(var r=t.selectedIndex,n=t.streams[r].tracks,o=-1,a=0,s=0;s<n.length;s++)n[s].selectable&&(o=s,a++);var l=-1;(l=a>1?0:n.length-o)!==c&&(c<e.items.length&&e.items[c].selected(!1),c=l,e.items[c].selected(!0),i(e,c))}}var l=this,u=t&&t.menuTitle?t.menuTitle:"Quality",c=t&&t.selectedItem?t.selectedItem:0,d=t&&t.autoMenuItemLabel?t.autoMenuItemLabel:"Auto",p=e.getComponent("MenuItem");e.QualityMenuItem=e.extend(p,{init:function(e,t){var r={label:t.text,value:t.value,selected:t.selected,selectable:t.selectable};p.call(this,e,r),this.addClass("amp-menu-item")}}),e.QualityMenuItem.prototype.handleClick=function(){r(this)},e.registerComponent("QualityMenuItem",e.QualityMenuItem);var h=e.getComponent("MenuButton");e.QualityButton=e.extend(h,{init:function(t,r){if(r=r||{},r.name="qualityButton",h.call(this,t,r),t.addEventListener("loadedmetadataInternal",e.bind(this,o)),void 0!=this.items&&this.items.length>0){var n=new(e.getComponent("Component"))(t,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.prependItem(n),this.el().className+=" quality-"+(4-c)}else this.hide()}}),e.QualityButton.prototype.buttonText=u,e.QualityButton.prototype.createItems=function(){for(var t=n(this.player_)||[],r=[],i=0;i<t.length;i++){var o=new e.QualityMenuItem(this.player_,t[i]);r.push(o)}return r},e.QualityButton.prototype.buildCSSClass=function(){return"amp-quality-control "+h.prototype.buildCSSClass.call(this)},e.registerComponent("QualityButton",e.QualityButton),l.ready(function(){var t=new e.QualityButton(l,{selectedItemIndex:c});l.controlBar.qualityButton=l.controlBar.addChild(t),l.controlBar.qualityButton.el_.setAttribute("aria-label","Video Quality Menu")}),e.QualityButton.prototype.refresh=function(){if(this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=this.createMenu(),this.addChild(this.menu),void 0!=this.items&&this.items.length>0){var t=new(e.getComponent("Component"))(l,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(u)),tabindex:-1})});this.menu.prependItem(t),null==this.el().className.match(/quality-\d/)&&(this.el().className+=" quality-"+(4-c)),this.show()}else this.hide()}})}(window.amp),function(e){"use strict";e.plugin("subtitles",function(t){var r=this,n=t&&t.menuTitle?t.menuTitle:"Subtitles",i=t&&t.offMenuItemLabel?t.offMenuItemLabel:"Off";r.addEventListener(amp.eventName.loadedmetadata,function(){r.controlBar.subtitlesButton.el().className+=" amp-subtitles-control",r.controlBar.subtitlesButton.menu.children()[0].el().innerHTML=this.htmlEncode(this.localize(i)),r.controlBar.subtitlesButton.buttonText=n;var t=new(e.getComponent("Component"))(r,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(n)),tabindex:-1})});r.controlBar.subtitlesButton.menu.prependItem(t)})})}(window.amp),function(e){"use strict";window.amp.plugin("outline",function(e){function t(e){e.clientX&&0!==e.clientX&&e.clientY&&0!==e.clientY&&l.removeClass(h)}function r(e){e.classList.add(f),e.removeEventListener("click",t),e.addEventListener("click",t),l.on("dispose",function(){e.removeEventListener("click",t)})}function n(){for(var e=l.el().querySelectorAll(c),t=0;t<e.length;t++)r(e[t]);if(u)for(var n=l.controlBar.el().querySelectorAll(p),t=0;t<n.length;t++)r(n[t]);i()}function i(){var e=l.el().querySelector(d);null!==e&&(e.classList.add(f),e.removeEventListener("mousedown",a),e.addEventListener("mousedown",a),l.on("dispose",function(){var e=l.el().querySelector(d);e&&e.removeEventListener("mousedown",a)}))}function o(){l.addClass(h),n()}function a(){t(),l.controls()&&(l.paused()?l.play():l.pause())}function s(){l.addClass(h),m&&(m=!1,n())}var l=this,u=!!e&&!!e.displayOnMenuItems,c=".vjs-control",d=".vjs-fullscreen-outline",p=".vjs-menu-item",h="outline-enabled",f="outline-enabled-control",m=!0;l.ready(function(){o(),l.controlBar.on("keydown",s)}),l.on("sourceset",function(){m=!0})})}(),function(e){"use strict";e.plugin("ampV2timelineMarkers",function(t){function r(){!o.isDisposed()&&o.duration()>0&&(s=o.duration(),n(),i(),o.isLive()&&a&&a.length>0&&setTimeout(r,1e3))}function n(){for(var e=0;e<l.length;e++)o.controlBar.progressControl.seekBar.removeChild(l[e]);l=[]}function i(){for(var t=0;t<a.length;t++){var r=new e.Marker(o,a[t]);r.el().tabIndex=0,l.push(r),o.controlBar.progressControl.seekBar.addChild(r)}}var o=this,a=t&&t.markers?t.markers:[],s=0,l=[],u=e.getComponent("Button"),c=e.getComponent("Component");e.Marker=e.extend(u,{init:function(e,t){var r=e.duration(),n=t.time>0?t.time:0,i=t.color?t.color:"#ffd800";u.call(this,e,videojs.mergeOptions({el:c.prototype.createEl.call(this,"div",{innerHTML:" ",className:"amp-timeline-marker"})},t));var o=(n=e.currentTime()+n-e.currentMediaTime())/r*100;o>0&&100>o&&(this.el_.style.left=n/r*100+"%",this.el_.style.backgroundColor=i,this.on("click",this.onClick))}}),e.Marker.prototype.onClick=function(){this.player().currentTime(this.options().time)},o.ready(function(){a&&(r(),o.on("sourceset",function(){a=[],n()}),o.on("midrollAdded",function(){if(this.scheduler){var e=this.scheduler.getMidRolls();if(e){a=[];for(var t=0;t<e.length;t++)a.push({time:e[t].splice.startOffset});r()}}}))})})}(window.amp),function(e){"use strict";e.plugin("ampVolumeMenuButton",function(t){var r=this,n=NaN,i=t.hideVolumeBarOnInActivity;void 0===i&&(i=!0);var o=e.getComponent("MuteToggle");e.AmpVolumeMenuButton=e.extend(o,{init:function(e,t){(t=t||{}).name="ampVolumeMenuButton",o.call(this,e,t),this.buttonTouched=!1}}),e.AmpVolumeMenuButton.prototype.clearOtherMenus=function(){this.volumeControl.buttonPressed_&&this.volumeControl.unpressButton(),o.prototype.clearOtherMenus.call(this)},e.AmpVolumeMenuButton.prototype.setVolumeControl=function(e){this.volumeControl=e},e.AmpVolumeMenuButton.prototype.handleClick=function(){this.clearOtherMenus(),this.buttonTouched=!this.buttonTouched,this.buttonTouched&&this.volumeControl.trigger("mouseover"),o.prototype.handleClick.call(this)};var a=e.getComponent("Component");e.VolumeControl=e.extend(a,{init:function(t,r){(r=r||{}).name="volumeControl",r.el=e.createEl("div",{className:"vjs-volume-control"}),a.call(this,t,r),this.on(t,"loadstart",function(){!1===t.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}),this.createChildElements(),this.setUpEventHandlers()}}),e.VolumeControl.prototype.setUpEventHandlers=function(){var e=this;this.on("mouseover",function(){e.handleMouseOver()}),this.on("mouseleave",function(){e.handleMouseLeave()}),this.on(r,this.volumeBar.playerEvent,function(){e.updateVolumeHandle()})},e.VolumeControl.prototype.createChildElements=function(){this.createVolumeMenuButton(),this.createVolumeBar()},e.VolumeControl.prototype.createVolumeMenuButton=function(){var n=new e.AmpVolumeMenuButton(r,t);this.ampVolumeMenuButton=this.addChild(n),n.setVolumeControl(this)},e.VolumeControl.prototype.unpressButton=function(){this.popUp.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),this.buttonPressed_=!1},e.VolumeControl.prototype.pressButton=function(){this.ampVolumeMenuButton.clearOtherMenus(),this.popUp.lockShowing(),this.el_.setAttribute("aria-expanded","true"),this.buttonPressed_=!0},e.VolumeControl.prototype.handleMouseLeave=function(){this.unpressButton()},e.VolumeControl.prototype.handleMouseOver=function(){this.pressButton()},e.VolumeControl.prototype.handleFocusOnVolumeBar=function(){this.pressButton()},e.VolumeControl.prototype.createVolumeBar=function(){var n=new(e.getComponent("Popup"))(r,{contentElType:"div"}),i=new(e.getComponent("VolumeBar"))(r,t||{}),o=this.createVolumeSliderHandle();i.el_.appendChild(o),i.on("focus",function(){r.controlBar.volumeControl.handleFocusOnVolumeBar()}),this.volumeBar=n.addChild(i),this.popUp=this.addChild(n),this.volumeHandle=o},e.VolumeControl.prototype.updateVolumeHandle=function(){var e=this.volumeBar;if(e.bar&&e.bar.el_){var r;t&&!1===t.vertical?(this.volumeHandle.style.left=e.bar.el_.style.width,r=this.volumeHandle.style.left):(this.volumeHandle.style.top=e.bar.el_.style.height,r=this.volumeHandle.style.top),this.volumeHandle.innerHTML='<span class="vjs-control-text">'+r+"</span>"}},e.VolumeControl.prototype.createVolumeSliderHandle=function(){return e.getComponent("Component").prototype.createEl.call(this,"div",{className:"vjs-volume-handle vjs-control"})},e.registerComponent("AmpVolumeMenuButton",e.AmpVolumeMenuButton),e.registerComponent("VolumeControl",e.VolumeControl),r.ready(function(){var t=new e.VolumeControl(r,{});r.controlBar.volumeControl=r.controlBar.addChild(t);var o=r.controlBar.volumeControl,a=function(){isNaN(n)||(clearTimeout(n),n=NaN)};i&&(r.on("userinactive",function(){o.popUp&&o.volumeBar.el_===document.activeElement&&(a(),n=setTimeout(function(){o.volumeBar.el_!==document.activeElement||r.userActive()||o.ampVolumeMenuButton.el().focus()},1e3)),o.el_.setAttribute("aria-expanded","false")}),r.on("useractive",a)),o.updateVolumeHandle(),this.one(r,"timeupdate",function(){o.volumeBar.update(),o.updateVolumeHandle()})})})}(window.amp),function(e){"use strict";e.plugin("playbackSpeed",function(t){function r(){S.sort(function(e,t){return t.value-e.value})}function n(){for(var e=0;e<S.length;e++)if(1===S[e].value)return;S.push({selected:!1,name:_.htmlEncode(_.localize("1.0x")),value:1})}function i(){o(function(){return!0})}function o(e){for(T=[],P=0;P<S.length;P++)S[P].name&&S[P].value>=.5&&S[P].value<=4&&e(S[P].value)&&T.push({selected:!1,name:S[P].name,value:S[P].value})}function a(){o(function(e){return 1>=e})}function s(){o(function(e){return e>=1})}function l(){n(),r(),i()}function u(e,t){t.canControlPlaybackRate()&&t.playbackRate(e)}function c(e){var t=e.controlBar.playbackSpeedButton.currentSpeedIndex||0===e.controlBar.playbackSpeedButton.currentSpeedIndex?T[e.controlBar.playbackSpeedButton.currentSpeedIndex].value:1;e.controlBar.playbackSpeedButton.removeClass(w),e.controlBar.playbackSpeedButton.removeClass(E),e.controlBar.playbackSpeedButton.removeClass(C),e.controlBar.playbackSpeedButton.addClass(t>1?E:1>t?C:w)}function d(e,t,r){var n=r||e.player_,i=n.controlBar.playbackSpeedButton,o=n.controlBar.playbackSpeedButton.currentSpeedIndex,a=f(t||e.options().value);o!==a&&(p(i),i.items[a].selected(!0),h(i,a),u(T[a].value,n),n.controlBar.playbackSpeedButton.currentSpeedIndex=a,c(n))}function p(e){for(var t=0;t<e.items.length;t++)e.items[t].selected(!1)}function h(e,t){T[t].value}function f(e){for(var t=0;t<T.length;t++)if(Math.abs(T[t].value-e)<.001)return t;return null}var m=e.getComponent("Component"),g=e.getComponent("MenuItem"),y=e.getComponent("MenuButton");if(t&&t.enabled){var v,_=this,b=[{name:"2.0x",value:2},{name:"1.0x",value:1},{name:"0.5x",value:.5}],S=t.speedLevels?t.speedLevels.slice(0):b.slice(0),T=[],k="Playback Speed",w="amp-playbackspeed-control-normal",E="amp-playbackspeed-control-fast",C="amp-playbackspeed-control-slow",P=0;l(),null!==(v=f(t.initialSpeed?t.initialSpeed:1))?(T[v].selected=!0,u(T[v].value,_)):AMP.Logger.error(AMP.Logger.Area.plugin,"PlaybackSpeed plugin: cannot identify speed index for initial speed."),e.PlaybackSpeedMenuItem=e.extend(g,{init:function(e,t){var r={label:t.name,value:t.value,selected:t.selected,selectable:!0};g.call(this,e,r),this.addClass("amp-menu-item"),this.on("click",this.handleClick),this.value=t.value}}),e.PlaybackSpeedMenuItem.prototype.handleClick=function(){d(this)},e.registerComponent("PlaybackSpeedMenuItem",e.PlaybackSpeedMenuItem),e.PlaybackSpeedButton=e.extend(y,{init:function(t,r){(r=r||{}).name="playbackSpeedButton",y.call(this,t,r),t.addEventListener(e.eventName.loadedmetadata,e.bind(this,e.PlaybackSpeedButton.prototype.refresh));var n=new m(t,{el:e.createEl("li",{className:"amp-menu-header",innerHTML:this.htmlEncode(this.localize(k)),tabindex:-1})});this.menu.prependItem(n),t.canControlPlaybackRate()?(this.addDVRPlaybackEventCallbacks(),this.show()):this.hide()}}),e.PlaybackSpeedButton.prototype.addDVRPlaybackEventCallbacks=function(){var t=this;_.addEventListener(e.internalEventName.playingAtLiveDVREdge,function(){t.handleLiveEdgePlayback()}),_.addEventListener(e.internalEventName.playingAtStartDVREdge,function(){t.handleStartEdgePlayback()}),_.addEventListener(e.internalEventName.playingInDVR,function(){t.handlePlayingInDVR()})},e.PlaybackSpeedButton.prototype.buttonText=k,e.PlaybackSpeedButton.prototype.createItems=function(){for(var t=[],r=0;r<T.length;r++){var n=new e.PlaybackSpeedMenuItem(this.player_,T[r]);t.push(n)}return t},e.PlaybackSpeedButton.prototype.buildCSSClass=function(){return w+" "+y.prototype.buildCSSClass.call(this).trim()},e.PlaybackSpeedButton.prototype.refresh=function(){this.player_.canControlPlaybackRate()?this.show():this.hide()},e.PlaybackSpeedButton.prototype.setInitialValues=function(){this.player_.controlBar.playbackSpeedButton.currentSpeedIndex=v,this.player_.controlBar.playbackSpeedButton.el_.setAttribute("aria-label","Playback Speed"),c(this.player_)},e.PlaybackSpeedButton.prototype.handleLiveEdgePlayback=function(){a(),this.updateMenuItemsAndUi()},e.PlaybackSpeedButton.prototype.handleStartEdgePlayback=function(){s(),this.updateMenuItemsAndUi()},e.PlaybackSpeedButton.prototype.handlePlayingInDVR=function(){i(),this.updateMenuItemsAndUi()},e.PlaybackSpeedButton.prototype.updateMenuItemsAndUi=function(){this.update(),this.selectMenuItemWithValue(this.player_.playbackRate())},e.PlaybackSpeedButton.prototype.selectMenuItemWithValue=function(e){for(var t=0;t<this.items.length;t++)this.items[t].selected(this.items[t].value===e)},e.registerComponent("PlaybackSpeedButton",e.PlaybackSpeedButton),_.on("sourceset",function(){_.controlBar.playbackSpeedButton&&(l(),_.controlBar.playbackSpeedButton.updateMenuItemsAndUi())}),_.ready(function(){var t=new e.PlaybackSpeedButton(_);_.controlBar.playbackSpeedButton=_.controlBar.addChild(t),_.controlBar.playbackSpeedButton.setInitialValues(),_.addEventListener(amp.eventName.ratechange,function(){_.canControlPlaybackRate()&&d(void 0,_.playbackRate(),_)})})}})}(window.amp),amp.AmpSkinPlugin=amp.extend(amp.getComponent("Component"),{init:function(e){"use strict";var t=e.options_.logo,r=!t||void 0===t.enabled||t.enabled,n=t&&t.opacity?t.opacity:.5,i=t&&t.targetUrl?t.targetUrl:null,o=(t&&t.horizontalPosition&&t.horizontalPosition,t&&t.verticalPosition&&t.verticalPosition,{contentTitle:{title:e.options_.title||"",description:e.options_.description||""},logo:{enabled:r,opacity:n,targetUrl:i},responsive:{sizeClasses:e.options_.sizeClasses||{}},live:{controlText:"LIVE"},ampAudioTracks:{menuTitle:"Audio Tracks"},closedCaption:{menuTitle:"Closed Captioning"},subtitles:{menuTitle:"Subtitles",offMenuItemLabel:"Off"},quality:{menuTitle:"Quality",selectedItem:0},playbackSpeed:e.options_.playbackSpeed||{enabled:!1},download:e.options_.download||{},ampVolumeMenuButton:{vertical:!0,hideVolumeBarOnInActivity:!0},moreOptions:{controls:["qualityButton","captionsButton","subtitlesButton","audioTracksButton","castToDeviceButton","shareButton","playbackSpeedButton","downloadButton","nextTrackButton","skipForwardButton","fastForwardButton","rewindButton","skipBackwardButton","previousTrackButton"]},controlBarIcons:{leftIcons:["playToggle","previousTrackButton","skipBackwardButton","rewindButton","fastForwardButton","skipForwardButton","nextTrackButton","playbackRateMenuButton","liveDisplay","chaptersButton"],middleIcons:["liveIndicator","currentTimeDisplay","progressControl","timeDivider","durationDisplay","remainingTimeDisplay"],rightIcons:["shareButton","playbackSpeedButton","downloadButton","castToDeviceButton","audioTracksButton","subtitlesButton","captionsButton","qualityButton","volumeControl","moreOptionsButton","fullscreenToggle"],removeOtherIcons:!1},outline:{displayOnMenuItems:!0},ampV2timelineMarkers:{}});e.options_.plugins.moreOptions={controls:[]},Object.getOwnPropertyNames(o).forEach(function(t){e[t]&&e[t](o[t])}),e.addEventListener(amp.eventName.loadedmetadata,function(){var t=e.controlBar.options();t.children.volumeMenuButton&&t.children.volumeMenuButton.volumeBar&&t.children.volumeMenuButton.volumeBar.vertical&&e.addClass("amp-vertical-volume-slider")})}}),amp.AmpSkinPlugin.prototype.dispose=function(){},amp.registerComponent("AmpSkinPlugin",amp.AmpSkinPlugin),amp.getComponent("ControlBar").prototype.options_={loadEvent:"play",children:{playToggle:{},currentTimeDisplay:{},timeDivider:{},durationDisplay:{},remainingTimeDisplay:{},liveDisplay:{},progressControl:{},fullscreenToggle:{},subtitlesButton:{},captionsButton:{},chaptersButton:{},ampSkinPlugin:{}}},function(e){"use strict";window.videojs_hotkeys={version:"0.2.16"};e.plugin("hotKeys",function(t){var r=this,n=r.el(),i=document,o={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!1,enableModifiersForNumbers:!0,enableSeek:!0,enablePlayPause:!0,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}},a=e.mergeOptions||e.util.mergeOptions,s=(t=a(o,t||{})).volumeStep,l=t.seekStep,u=t.enableMute,c=t.enableVolumeScroll,d=t.enableFullscreen,p=t.enableNumbers,h=t.enableJogStyle,f=t.alwaysCaptureHotkeys,m=t.enableModifiersForNumbers,g=t.enableSeek,y=t.enablePlayPause;n.hasAttribute("tabIndex")||n.setAttribute("tabIndex","1"),(f||!r.autoplay())&&r.one("play",function(){n.focus()}),r.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){r.off("useractive",e),i.activeElement&&i.activeElement.parentElement==n.querySelector(".vjs-control-bar")&&n.focus()},10);r.one("useractive",e)}),r.on("play",function(){var e=n.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var v=function(e){if(r.controls()){var t=e.relatedTarget||e.toElement||i.activeElement;if((f||t==n||t==n.querySelector(".vjs-tech")||t==n.querySelector(".iframeblocker")||t==n.querySelector(".vjs-control-bar"))&&c){e=window.event||e;var o=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));e.preventDefault?e.preventDefault():e.returnValue=!1,1==o?r.volume(r.volume()+s):-1==o&&r.volume(r.volume()-s)}}},_=function(e,r){return t.playPauseKey(e,r)?1:t.rewindKey(e,r)?2:t.forwardKey(e,r)?3:t.volumeUpKey(e,r)?4:t.volumeDownKey(e,r)?5:t.muteKey(e,r)?6:t.fullscreenKey(e,r)?7:void 0};return r.on("keydown",function(e){var o,a=e.which,c=e.preventDefault;if(r.controls()){var v=i.activeElement;if(f||v==n||v==n.querySelector(".vjs-tech")||v==n.querySelector(".vjs-control-bar")||v==n.querySelector(".iframeblocker"))switch(_(e,r)){case 1:y&&(c(),f&&e.stopPropagation(),r.paused()?r.play():r.pause());break;case 2:g&&(c(),o=r.currentTime()-l,r.currentTime()<=l&&(o=0),r.currentTime(o));break;case 3:g&&(c(),r.currentTime(r.currentTime()+l));break;case 5:c(),h?(o=r.currentTime()-1,r.currentTime()<=1&&(o=0),r.currentTime(o)):r.volume(r.volume()-s);break;case 4:c(),h?r.currentTime(r.currentTime()+1):r.volume(r.volume()+s);break;case 6:u&&r.muted(!r.muted());break;case 7:d&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen());break;default:if((a>47&&59>a||a>95&&106>a)&&(m||!(e.metaKey||e.ctrlKey||e.altKey))&&p){var b=48;a>95&&(b=96);var S=a-b;c(),r.currentTime(r.duration()*S*.1)}for(var T in t.customKeys){var k=t.customKeys[T];k&&k.key&&k.handler&&k.key(e)&&(c(),k.handler(r,t))}}}}),r.on("dblclick",function(e){if(r.controls()){var t=e.relatedTarget||e.toElement||i.activeElement;(t==n||t==n.querySelector(".vjs-tech")||t==n.querySelector(".iframeblocker"))&&d&&(r.isFullscreen()?r.exitFullscreen():r.requestFullscreen())}}),r.on("mousewheel",v),r.on("DOMMouseScroll",v),this})}(window.videojs),amp.AmpInlinePlugins=amp.extend(amp.getComponent("Component"),{init:function(e,t){"use strict";var r={hotKeys:{},ampAds:{}};Object.getOwnPropertyNames(r).forEach(function(n){if(e[n]){var i=r[n];t&&t.playerOptions&&t.playerOptions[n]&&(i=t.playerOptions[n]),e[n](i)}})}}),amp.registerComponent("AmpInlinePlugins",amp.AmpInlinePlugins),amp.getComponent("Player").prototype.options_.children.push("AmpInlinePlugins"),function(e){var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ADSVAST=e()}(function(){return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return i(r||e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length))throw(t=arguments[1])instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];r.apply(this,s)}else if(o(r)){for(i=arguments.length,s=new Array(i-1),l=1;i>l;l++)s[l-1]=arguments[l];for(i=(u=r.slice()).length,l=0;i>l;l++)u[l].apply(this,s)}return!0},r.prototype.addListener=function(e,t){if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;(i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0)}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){return e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t){var r;r=function(){return function(){this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.adTitle=""}}(),t.exports=r},{}],3:[function(e,t){var r,n,i;n=e("./parser.coffee"),i=e("./util.coffee"),r=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.timeout=0,e.get=function(e,t,r){var i;return i=+new Date,this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void t(null):i-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void t(null):n.parse(e,function(e){return t(e)},r)},function(){var t,r;r=i.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){t(e,n,{get:function(){return r.getItem(n)},set:function(e){return r.setItem(n,e)},configurable:!1,enumerable:!0})}),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=r},{"./parser.coffee":8,"./util.coffee":14}],4:[function(e,t){var r;r=function(){return function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}}(),t.exports=r},{}],5:[function(e,t){var r,n,i,o,a={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=function(){return function(){this.trackingEvents={},this.progressOffsets=[]}}(),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplate=null}return s(t,r),t}(),o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return s(t,r),t}(),n=function(){return function(){this.type="companion",this.variations=[]}}(),t.exports={VASTCreativeLinear:i,VASTCreativeNonLinear:o,VASTCreativeCompanion:n}},{}],6:[function(e,t){t.exports={client:e("./client.coffee"),tracker:e("./tracker.coffee"),parser:e("./parser.coffee"),util:e("./util.coffee")}},{"./client.coffee":3,"./parser.coffee":8,"./tracker.coffee":10,"./util.coffee":14}],7:[function(e,t){var r;r=function(){return function(){this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0}}(),t.exports=r},{}],8:[function(e,t){var r,n,i,o,a,s,l,u,c,d=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};r=e("./urlhandler.coffee"),u=e("./response.coffee"),n=e("./ad.coffee"),c=e("./util.coffee"),a=e("./creative.coffee").VASTCreativeLinear,o=e("./creative.coffee").VASTCreativeCompanion,s=e("./mediafile.coffee"),i=e("./companionad.coffee"),l=function(){function e(){}var t;return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(e,t,r){return this._parse(e,null,function(e,r){return t(r)},r)},e._parse=function(e,n,i,o){var a,s,l;for(s=0,l=t.length;l>s;s++)a=t[s],e=a(e);return null==n&&(n=[]),n.push(e),r.get(e,function(t){return function(r,o){var a,s,l,p,h,f,m,g,y,v,_;if(null!=r)return i(r);if(h=new u,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return i();for(f=0,g=(v=o.documentElement.childNodes).length;g>f;f++)"Error"===(p=v[f]).nodeName&&h.errorURLTemplates.push(t.parseNodeText(p));for(m=0,y=(_=o.documentElement.childNodes).length;y>m;m++)"Ad"===(p=_[m]).nodeName&&(null!=(a=t.parseAdElement(p))?h.ads.push(a):(AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: Ad element parsing failed."),c.track(h.errorURLTemplates,{ERRORCODE:101})));for(s=function(){var e,t,r;if(h){for(e=0,t=(r=h.ads).length;t>e;e++)if(null!=(a=r[e]).nextWrapperURL)return;return 0===h.ads.length&&(AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: No Ads."),c.track(h.errorURLTemplates,{ERRORCODE:303}),h=null),i(null,h)}},l=h.ads.length;l--;)null!=(a=h.ads[l]).nextWrapperURL&&function(r){var i,o;n.length>=10||(o=r.nextWrapperURL,d.call(n,o)>=0)?(AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: Reached maximum wrapper length of 10 and no Ads found."),c.track(r.errorURLTemplates,{ERRORCODE:302}),h.ads.splice(h.ads.indexOf(r),1),s()):(-1===r.nextWrapperURL.indexOf("://")&&(i=e.slice(0,e.lastIndexOf("/")),r.nextWrapperURL=i+"/"+r.nextWrapperURL),t._parse(r.nextWrapperURL,n,function(e,t){var n,i,o,a,l,u,d,p,f,m,g,y,v,_;if(null!=e)AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: Wrapper URi fetch timeout."),c.track(r.errorURLTemplates,{ERRORCODE:301}),h.ads.splice(h.ads.indexOf(r),1);else if(null==t)AMP.Logger.error(AMP.Logger.Area.plugin,"Ads plugin: No wrapped response."),c.track(r.errorURLTemplates,{ERRORCODE:303}),h.ads.splice(h.ads.indexOf(r),1);else for(h.errorURLTemplates=h.errorURLTemplates.concat(t.errorURLTemplates),o=h.ads.indexOf(r),h.ads.splice(o,1),y=t.ads,u=0,d=y.length;d>u;u++){if(a=y[u],a.errorURLTemplates=r.errorURLTemplates.concat(a.errorURLTemplates),a.impressionURLTemplates=r.impressionURLTemplates.concat(a.impressionURLTemplates),null!=r.trackingEvents)for(v=a.creatives,m=0,p=v.length;p>m;m++)for(n=v[m],_=Object.keys(r.trackingEvents),g=0,f=_.length;f>g;g++)i=_[g],n.trackingEvents=n.trackingEvents||{},(l=n.trackingEvents)[i]||(l[i]=[]),n.trackingEvents[i]=n.trackingEvents[i].concat(r.trackingEvents[i]);h.ads.splice(o,0,a)}return delete r.nextWrapperURL,s()}))}(a);return s()}}(this),o)},e.childByName=function(e,t){var r,n,i,o;for(n=0,i=(o=e.childNodes).length;i>n;n++)if((r=o[n]).nodeName===t)return r},e.childsByName=function(e,t){var r,n,i,o,a;for(n=[],i=0,o=(a=e.childNodes).length;o>i;i++)(r=a[i]).nodeName===t&&n.push(r);return n},e.parseAdElement=function(e){var t,r,n,i;for(r=0,n=(i=e.childNodes).length;n>r;r++){if("Wrapper"===(t=i[r]).nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},e.parseWrapperElement=function(e){var t,r,n;return t=this.parseInLineElement(e),null!=(n=this.childByName(e,"VASTAdTagURI"))&&(t.nextWrapperURL=this.parseNodeText(n)),null!=(r=t.creatives[0])&&null!=r.trackingEvents&&(t.trackingEvents=r.trackingEvents),null!=t.nextWrapperURL?t:void 0},e.parseInLineElement=function(e){var t,r,i,o,a,s,l,u,c,d,p,h,f,m;for(t=new n,s=0,c=(h=e.childNodes).length;c>s;s++)switch((a=h[s]).nodeName){case"AdTitle":t.adTitle=this.parseNodeText(a);break;case"Error":t.errorURLTemplates.push(this.parseNodeText(a));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(a));break;case"Creatives":for(l=0,d=(f=this.childsByName(a,"Creative")).length;d>l;l++)for(i=f[l],m=i.childNodes,u=0,p=m.length;p>u;u++)switch((o=m[u]).nodeName){case"Linear":(r=this.parseCreativeLinearElement(o))&&t.creatives.push(r);break;case"CompanionAds":(r=this.parseCompanionAd(o))&&t.creatives.push(r)}}return t},e.parseCreativeLinearElement=function(e){var t,r,n,i,o,l,u,c,d,p,h,f,m,g,y,v,_,b,S,T,k,w,E,C;if(t=new a,t.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===t.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;for(null==(u=e.getAttribute("skipoffset"))?t.skipDelay=null:"%"===u.charAt(u.length-1)?(l=parseInt(u,10),t.skipDelay=t.duration*(l/100)):t.skipDelay=this.parseDuration(u),null!=(h=this.childByName(e,"VideoClicks"))&&(t.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(h,"ClickThrough")),t.videoClickTrackingURLTemplate=this.parseNodeText(this.childByName(h,"ClickTracking"))),m=0,_=(k=this.childsByName(e,"TrackingEvents")).length;_>m;m++)for(d=k[m],w=this.childsByName(d,"Tracking"),g=0,b=w.length;b>g;g++)if(c=w[g],r=c.getAttribute("event"),p=this.parseNodeText(c),null!=r&&null!=p)if("progress"===r){var P=c.getAttribute("offset");-1!==P.indexOf("%")?P=P.trim().substring(0,P.indexOf("%")):4!=(P=P.trim().split(":")).length&&3!=P.length||(P=(P=3600*P[0]+60*P[1]+P[2])/t.duration*100),r=r+"-"+(P=parseInt(P)),null==(f=t.trackingEvents)[r]&&(f[r]=[]),t.trackingEvents[r].push(p),t.progressOffsets.push(P)}else null==(f=t.trackingEvents)[r]&&(f[r]=[]),t.trackingEvents[r].push(p);for(y=0,S=(E=this.childsByName(e,"MediaFiles")).length;S>y;y++)for(o=E[y],C=this.childsByName(o,"MediaFile"),v=0,T=C.length;T>v;v++)i=C[v],n=new s,n.fileURL=this.parseNodeText(i),n.deliveryType=i.getAttribute("delivery"),n.codec=i.getAttribute("codec"),n.mimeType=i.getAttribute("type"),n.bitrate=parseInt(i.getAttribute("bitrate")||0),n.minBitrate=parseInt(i.getAttribute("minBitrate")||0),n.maxBitrate=parseInt(i.getAttribute("maxBitrate")||0),n.width=parseInt(i.getAttribute("width")||0),n.height=parseInt(i.getAttribute("height")||0),t.mediaFiles.push(n);return t},e.parseCompanionAd=function(e){var t,r,n,a,s,l,u,c,d,p,h,f,m,g,y,v,_,b,S,T,k;for(n=new o,p=0,g=(b=this.childsByName(e,"Companion")).length;g>p;p++){for(r=b[p],(t=new i).id=r.getAttribute("id")||null,t.width=r.getAttribute("width"),t.height=r.getAttribute("height"),h=0,y=(S=this.childsByName(r,"StaticResource")).length;y>h;h++)s=S[h],t.type=s.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(s);for(f=0,v=(T=this.childsByName(r,"TrackingEvents")).length;v>f;f++)for(u=T[f],k=this.childsByName(u,"Tracking"),m=0,_=k.length;_>m;m++)l=k[m],a=l.getAttribute("event"),c=this.parseNodeText(l),null!=a&&null!=c&&(null==(d=t.trackingEvents)[a]&&(d[a]=[]),t.trackingEvents[a].push(c));t.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(r,"CompanionClickThrough")),n.variations.push(t)}return n},e.parseDuration=function(e){var t,r,n,i,o;return null==e?-1:3!==(t=e.split(":")).length?-1:(o=t[2].split("."),i=parseInt(o[0]),2===o.length&&(i+=parseFloat("0."+o[1])),n=parseInt(60*t[1]),r=parseInt(60*t[0]*60),isNaN(r||isNaN(n||isNaN(i||n>3600||i>60)))?-1:r+n+i)},e.parseNodeText=function(e){return e&&(e.textContent||e.text)},e}(),t.exports=l},{"./ad.coffee":2,"./companionad.coffee":4,"./creative.coffee":5,"./mediafile.coffee":7,"./response.coffee":9,"./urlhandler.coffee":11,"./util.coffee":14}],9:[function(e,t){var r;r=function(){return function(){this.ads=[],this.errorURLTemplates=[]}}(),t.exports=r},{}],10:[function(e,t){var r,n,i,o,a,s={}.hasOwnProperty,l=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};n=e("./client.coffee"),a=e("./util.coffee"),i=e("./creative.coffee").VASTCreativeLinear,r=e("events").EventEmitter,o=function(e){function t(e,t){var r,o,a;if(this.ad=e,this.creative=t,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.progressOffsets=[],this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","rewind","skip","mute","unmute","pause","rewind","resume","fullscreen","exitFullscreen","closeLinear","close","skip","click","progress"],t){a=t.trackingEvents;for(r in a)o=a[r],this.trackingEvents[r]=o.slice(0);this.progressOffsets=t.progressOffsets||[],this.progressOffsets.sort(function(e,t){return e-t})}t instanceof i?(this.assetDuration=t.duration,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100},this.skipDelay=t.skipDelay,this.linear=!0,this.clickThroughURLTemplate=t.videoClickThroughURLTemplate,this.clickTrackingURLTemplate=t.videoClickTrackingURLTemplate):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){n.lastSuccessfullAd=+new Date})}return l(t,r),t.prototype.resetTrackingEventsInfo=function(){if(this.creative){var e,t,r=this.creative.trackingEvents;for(e in r)t=r[e],this.trackingEvents[e]=t.slice(0);this.impressed=!1}},t.prototype.setProgress=function(e){var t,r,n,i,o,a,s,l,u;if(-1===(o=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(o>e?this.emit("skip-countdown",o-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(r=[],e>0){if(r.push("start"),n=Math.round(e/this.assetDuration*100),this.progressOffsets.length>0)for(var c=this.progressOffsets.length-1;c>=0;c--)if(this.progressOffsets[c]<=n){r.push("progress-"+this.progressOffsets[c]);break}u=this.quartiles;for(i in u)a=u[i],e>=a&&a+1>=e&&r.push(i)}for(s=0,l=r.length;l>s;s++)t=r[s],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"muted":"unmuted"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setSkipDelay=function(e){return"number"==typeof e?this.skipDelay=e:void 0},t.prototype.load=function(){return this.impressed?void 0:(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){this.track("complete"),this.resetTrackingEventsInfo()},t.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.skip=function(){this.track("skip"),this.trackingEvents=[],this.resetTrackingEventsInfo()},t.prototype.click=function(){var e,t;return null!=this.clickTrackingURLTemplate&&this.trackURLs([this.clickTrackingURLTemplate]),null!=this.clickThroughURLTemplate?(this.linear&&(t={CONTENTPLAYHEAD:this.progressFormated()}),e=a.resolveURLTemplates([this.clickThroughURLTemplate],t)[0],this.emit("clickthrough",e)):void 0},t.prototype.setAssetFileUri=function(e){this.assetFileUri=encodeURIComponent(e)},t.prototype.track=function(e,t){var r,n;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),n=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e),null!=n?(this.emit(e,""),this.trackURLs(n)):-1!==r&&this.emit(e,""),!0===t&&(delete this.trackingEvents[e],r>-1&&this.emitAlwaysEvents.splice(r,1))},t.prototype.trackURLs=function(e,t){return null==t&&(t={}),this.linear&&(t.CONTENTPLAYHEAD=this.progressFormated(),t.ASSETURI=this.assetFileUri),a.track(e,t)},t.prototype.progressFormated=function(){var e,t,r,n,i;return i=parseInt(this.progress),(e=i/3600).length<2&&(e="0"+e),(t=i/60%60).length<2&&(t="0"+t),(n=i%60).length<2&&(n="0"+t),r=parseInt(100*(this.progress-i)),e+":"+t+":"+n+"."+r},t}(),t.exports=o},{"./client.coffee":3,"./creative.coffee":5,"./util.coffee":14,events:1}],11:[function(e,t){var r,n,i;i=e("./urlhandlers/xmlhttprequest.coffee"),n=e("./urlhandlers/flash.coffee"),r=function(){function t(){}return t.get=function(t,r,o){return"undefined"==typeof window||null===window?e("./urlhandlers/node.coffee").get(t,r):i.supported()?i.get(t,r,o):n.supported()?n.get(t,r):r()},t}(),t.exports=r},{"./urlhandlers/flash.coffee":12,"./urlhandlers/xmlhttprequest.coffee":13}],12:[function(e,t){var r;r=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t){function r(){return t(null,null)}var n,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,(n=this.xdr()).open("GET",e),n.send(),n.onerror=r,n.ontimeout=r,n.onload=function(){return i.loadXML(n.responseText),t(null,i)}):t()},e}(),t.exports=r},{}],13:[function(e,t){var r;r=function(){function e(){}return e.xhr=function(){var e;return"withCredentials"in(e=new window.XMLHttpRequest)?e:void 0},e.supported=function(){return!!this.xhr()},e.get=function(e,t,r){function n(){return t(null,null)}var i;return(i=this.xhr()).open("GET",e),i.timeout=r,i.ontimeout=n,i.onerror=n,i.send(),i.onreadystatechange=function(){return 4===i.readyState?t(null,i.responseXML):void 0}},e}(),t.exports=r},{}],14:[function(e,t){var r;r=function(){function e(){}return e.track=function(e,t){var r,n,i,o,a,s;for(s=[],o=0,a=(n=this.resolveURLTemplates(e,t)).length;a>o;o++)r=n[o],"undefined"!=typeof window&&null!==window&&(i=new Image,s.push(i.src=r));return s},e.resolveURLTemplates=function(e,t){var r,n,i,o,a,s,l,u,c;n=[],null==t&&(t={}),"CACHEBUSTING"in t||(t.CACHEBUSTING=Math.round(1e10*Math.random())),t.random=t.CACHEBUSTING;for(u=0,c=e.length;c>u;u++)if(r=e[u],s=r){for(i in t)l=t[i],o="["+i+"]",a="%%"+i+"%%",s=s.replace(o,l),s=s.replace(a,l);n.push(s)}return n},e.storage=function(){var e,t,r;try{r="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){e,r=null}return t=function(e){var t;try{if(t="__VASTUtil__",e.setItem(t,t),e.getItem(t)!==t)return!0}catch(e){return e,!0}return!1},(null==r||t(r))&&(e={},r={length:0,getItem:function(t){return e[t]},setItem:function(t,r){e[t]=r,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),r}(),e}(),t.exports=r},{}]},{},[6])(6)});var AMP;!function(e){!function(t){!function(t){"use strict";var r=function(){function e(){}return e.creativeView="creativeView",e.start="start",e.firstQuartile="firstQuartile",e.midpoint="midpoint",e.thirdQuartile="thirdQuartile",e.complete="complete",e.mute="mute",e.unmute="unmute",e.pause="pause",e.rewind="rewind",e.resume="resume",e.fullscreen="fullscreen",e.exitFullscreen="exitFullscreen",e.expand="expand",e.collapse="collapse",e.acceptInvitationLinear="acceptInvitationLinear",e.closeLinear="closeLinear",e.skip="skip",e.progress="progress",e.click="click",e.error="error",e}();t.TrackingEvents=r;var n=function(){function e(){}return e.XML_PARSING_ERROR=100,e.VAST_SCHEMA_VALIDATION_ERROR=101,e.VAST_VERSION_OF_RESPONSE_NOT_SUPPORTED=102,e.TRAFFICKING_ERROR=200,e.VIDE0_PLAYER_EXPECTED_DIFFERENT_LINEARITY=201,e.VIDE0_PLAYER_EXPECTED_DIFFERENT_DURATION=202,e.VIDE0_PLAYER_EXPECTED_DIFFERENT_SIZE=203,e.GENERAL_RESPONSE_ERROR=300,e.TIMEOUT_OF_URI_PROVIDED_IN_WRAPPER=301,e.WRAPPER_LIMIT_REACHED=302,e.NO_ADS_RESPONSE_AFTER_WRAPPERS=303,e.GENERAL_LINEAR_ERROR=400,e.TIMEOUT_MEDIA_URI=402,e.NO_MEDIA_FILE_SUPPORTED=403,e.PROBLEM_PLAYING_MEDIA_FILE=405,e.UNDEFINED_ERROR=900,e}();t.VastErrorsCodes=n;var i=function(){function t(){}return t.prototype.get=function(t,r,n){var i=this,o=window.ADSVAST.client;e.Logger.verbose(5,"Ads plugin: Fetching ads"),o.get(t,function(t){e.Logger.verbose(5,"Ads plugin: Ads fetch response VastFile = "+JSON.stringify(t)),null!=t?(e.Logger.verbose(5,"Ads plugin: Ads Fetched"),i.addTrackerForCreatives(t),r.call(i,t)):(e.Logger.verbose(5,"Ads plugin: Failed to fetch the ads"),r.call(i))},n)},t.prototype.addTrackerForCreatives=function(e){for(var t=0;t<e.ads.length;t++){var r=e.ads[t].creatives,n=null;n=new window.ADSVAST.tracker(e.ads[t]),e.ads[t].tracker=n;for(var i=0;i<r.length;i++){n=null;n=new window.ADSVAST.tracker(e.ads[t],r[i]),r[i].tracker=n}}},t}();t.VastSourceHandler=i}(t.vast||(t.vast={})),t.vast}(e.ads||(e.ads={})),e.ads}(AMP||(AMP={}));var AMP;!function(e){!function(e){!function(e){!function(e){var t=function(){function e(){}return e.maxdur="{maxdur}",e.mindur="{mindur}",e.maxbr="{maxbr}",e.DEFAULT_MAX_DUR_SEC=30,e.DEFAULT_MIN_DUR_SEC=15,e.DEFAULT_MAX_BITRATE_KBPS=600,e}();e.UrlKeys=t;var r=function(){function e(){}return e.formatVastFileUrl=function(e,r,n,i){for(var o=e,a=[t.maxbr,t.mindur,t.maxdur],s=[n,i,r],l=0;l<a.length;l++)o=o.replace(a[l],""+s[l]);return o},e}();e.VastUrlFormatter=r}(e.UrlFormatter||(e.UrlFormatter={})),e.UrlFormatter}(e.vast||(e.vast={})),e.vast}(e.ads||(e.ads={})),e.ads}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";var r=function(){return function(e,t,r){this.source=e,this.tracks=t,this.name=r}}();t.AssetImpl=r;var n=function(){return function(e,t,r,n,i,o,a){this.name=e,this.parent=t,this.offset=r,this.controls=n,this.timedReturn=i,this.clickThrough=o,this.skippable=a,this.isAd=!1}}();t.ClipImpl=n;var i=function(){function e(){this.pauseTimeline=!1,this.clips=[]}return e.prototype.add=function(e){return this.clips.push(e)},e}();t.PlayListImpl=i;var o=function(){return function(e,t,r){this.clip=e,this.ad=t,this.creative=r}}();t.ClipAdTrackerMap=o,amp.plugin("ampAds",function(e){new a(e,this)});var a=function(){function t(t,r){this.player=r,this.refreshPresentationLayout(t),this.registerForPresentationUpdate(),this.vastSourceHandler=new e.ads.vast.VastSourceHandler}return t.prototype.registerForPresentationUpdate=function(){var e=this;this.player.addEventListener("presentationUpdate",function(){e.refreshPresentationLayout(e.player.presentationLayout())})},t.prototype.refreshPresentationLayout=function(e){this.reset(),this.processPresentationLayout(e)},t.prototype.reset=function(){this.preRoll=null,this.midRolls=[],this.postRoll=null,this.inBandSourceUri=null,this.mainProgram=null,this.adsFetched=[],this.preRoll=null,this.postRoll=null,this.postRollClip=null,this.preRollClip=null,this.preRollFetchFailed=!1,this.postRollFetchFailed=!1,this.adTrackerInfo=[],this.requestedBitrate=300},t.prototype.init=function(){var e=this;setTimeout(function(){e.initializePlaylist()},10)},t.prototype.initializePlaylist=function(){var e=!1;this.preRoll&&this.preRoll.sourceUri&&(this.fetchAdForAdElement(this.preRoll),e=!0),this.postRoll&&this.postRoll.sourceUri&&(this.fetchAdForAdElement(this.postRoll),e=!0),!e&&this.mainProgram&&this.mainProgram.source&&this.checkPlayListAvailabilityAndStartPlayback()},t.prototype.handleAdFetchSuccess=function(e,t){if(!this.player.isDisposed()){if(this.overrideAdOptions(e,t),e===this.preRoll)this.preRollClip=this.getClipForAdElement(e,t);else{if(e!==this.postRoll){var r={clip:this.getClipForAdElement(e,t),splice:null};return e.splice&&(r.splice=e.splice),void this.player.addMidRoll(r)}this.postRollClip=this.getClipForAdElement(e,t)}this.checkPlayListAvailabilityAndStartPlayback()}},t.prototype.checkPlayListAvailabilityAndStartPlayback=function(){var e=!0,t=!0;null===this.preRoll||null!==this.preRollClip||this.preRollFetchFailed||(e=!1),null===this.postRoll||null!==this.postRollClip||this.postRollFetchFailed||(t=!1);var r=null;e&&t&&(r=new i,null!==this.preRoll&&null!==this.preRollClip&&r.add(this.preRollClip),r.add(this.getClipForMainProgram()),null!==this.postRoll&&null!==this.postRollClip&&r.add(this.postRollClip),r.pauseTimeline=!0,this.player.isDisposed()||this.player.playlist(r))},t.prototype.getClipForAdElement=function(t,i){for(var a=null,s=0;s<i.ads[0].creatives.length;s++)if("linear"===i.ads[0].creatives[s].type){a=i.ads[0].creatives[s];break}null==a&&(e.Logger.error(5,"Ads plugin: No Linear creative found"),i.ads[0].tracker.errorWithCode(e.ads.vast.VastErrorsCodes.VIDE0_PLAYER_EXPECTED_DIFFERENT_LINEARITY));var l=null,u=["video/mp4","video/mpeg"];if(a){for(s=0;s<a.mediaFiles.length;s++)-1!==u.indexOf(a.mediaFiles[s].mimeType)&&(null!==l?l.bitrate<a.mediaFiles[s].bitrate&&a.mediaFiles[s].bitrate<=this.requestedBitrate?l=a.mediaFiles[s]:l.bitrate>a.mediaFiles[s].bitrate&&a.mediaFiles[s].bitrate>=this.requestedBitrate&&(l=a.mediaFiles[s]):l=a.mediaFiles[s]);null===l&&(e.Logger.error(5,"Ads plugin: No supported Media file can be found."),a.tracker.errorWithCode(e.ads.vast.VastErrorsCodes.NO_MEDIA_FILE_SUPPORTED))}if(null!==a&&null!=l){l.fileURL=l.fileURL.trim(),a.tracker.setAssetFileUri(l.fileURL);var c=new r({src:l.fileURL,type:l.mimeType},null,i.ads[0].adTitle),d=new n(i.ads[0].adTitle,c,0,!0);return this.strictSchedule&&(d.timedReturn=!0),a.videoClickThroughURLTemplate&&a.videoClickThroughURLTemplate.length>0&&(d.clickThrough=a.videoClickThroughURLTemplate),t.options&&t.options.skipAd&&t.options.skipAd.enabled&&(d.skippable=t.options.skipAd.offset),d.ad=i,d.isAd=!0,this.adTrackerInfo.push(new o(d,i,a)),d}return t===this.preRoll?this.preRollFetchFailed=!0:t===this.postRoll&&(this.postRollFetchFailed=!0),null},t.prototype.getTrackerMapInfoForClip=function(e){for(var t=0;t<this.adTrackerInfo.length;t++)if(e===this.adTrackerInfo[t].clip)return this.adTrackerInfo[t];return null},t.prototype.getClipForMainProgram=function(){var e="Main Program",t=new r(this.mainProgram.source,this.mainProgram.tracks,e),i=new n(e,t,0,!0,!1);return i.isAd=!1,i},t.prototype.overrideAdOptions=function(e,t){if(e.options&&e.options.skipAd&&e.options.skipAd.enabled)for(var r=0;r<t.ads.length;r++)for(var n=0;n<t.ads[r].creatives.length;n++)t.ads[r].creatives[n].skipDelay=e.options.skipAd.offset},t.prototype.handleAdFetchError=function(t){e.Logger.verbose(5,"Ads plugin: Ads fetch failed for Uri = "+t.sourceUri),t===this.preRoll&&(this.preRollFetchFailed=!0,this.checkPlayListAvailabilityAndStartPlayback()),t===this.postRoll&&(this.postRollFetchFailed=!0,this.checkPlayListAvailabilityAndStartPlayback())},t.prototype.getFormattedUrl=function(t){var r=t.splice&&t.splice.duration?t.splice.duration:e.ads.vast.UrlFormatter.UrlKeys.DEFAULT_MAX_DUR_SEC,n=this.player.videoBufferData(),i=e.ads.vast.UrlFormatter.UrlKeys.DEFAULT_MAX_BITRATE_KBPS;return n&&n.downloadCompleted&&(i=n.downloadCompleted.mediaDownload.bitrate/1024,this.requestedBitrate=i),e.ads.vast.UrlFormatter.VastUrlFormatter.formatVastFileUrl(t.sourceUri,r,i,e.ads.vast.UrlFormatter.UrlKeys.DEFAULT_MIN_DUR_SEC)},t.prototype.fetchAdForAdElement=function(r){if(r.sourceUri){var n={manager:this,adElement:r},i=this.getFormattedUrl(r);this.vastSourceHandler.get(i,amp.bind(n,function(e){var t=this.manager.adsFetched.indexOf(this.adElement);e&&e.ads&&e.ads.length>0&&-1!==t?this.manager.handleAdFetchSuccess(this.adElement,e):this.manager.handleAdFetchError(this.adElement),this.manager.adsFetched.splice(t,1)}),t.DefaultTimeoutVal),this.adsFetched.push(r)}else e.Logger.error(5,"Ads plugin: fetchAdForAdElement ad missing sourceUri")},t.prototype.addListenersForPlayerEvents=function(){for(var e=this,t=[amp.eventName.playing,amp.eventName.timeupdate,amp.eventName.loadeddata,amp.eventName.splicewaiting,amp.eventName.start,amp.eventName.firstquartile,amp.eventName.midpoint,amp.eventName.thirdquartile,amp.eventName.complete,amp.eventName.mute,amp.eventName.unmute,amp.eventName.resume,amp.eventName.pause,amp.eventName.fullscreen,amp.eventName.exitfullscreen,amp.eventName.click,amp.eventName.skip,amp.eventName.errorInPlayingAd,amp.eventName.disposing],r=0;r<t.length;r++)this.player.addEventListener(t[r],function(t){e.handlePlayerEvent(t)})},t.prototype.fetchAllStaticMidRolls=function(){if(null!==this.midRolls)for(var e=0;e<this.midRolls.length;e++)this.midRolls[e].startTime>=0&&(this.midRolls[e].splice={id:-1,startOffset:this.midRolls[e].startTime},this.fetchAdForAdElement(this.midRolls[e]))},t.prototype.handlePlayerEvent=function(t){switch(t.type){case amp.eventName.disposing:break;case amp.eventName.loadeddata:(o=t.clip)&&!o.isAd&&this.fetchAllStaticMidRolls();break;case amp.eventName.splicewaiting:var r=this.player.spliceWaiting();r.sort(function(e,t){return e.startOffset-t.startOffset});for(var n=0;n<r.length;n++)if(r[n].out){e.Logger.error(5,"ads-plugin : Fetching ad for splice OUT with Id = "+r[n].id+" duration ="+r[n].duration+" startOffset = "+r[n].startOffset);var i={sourceUri:this.inBandSourceUri,startTime:r[n].startOffset,splice:r[n]};this.fetchAdForAdElement(i)}else e.Logger.error(5,"ads-plugin : Processing splice Cancel or IN with Id = "+r[n].id+" duration ="+r[n].duration),this.player.addMidRoll({splice:r[n]});break;case amp.eventName.complete:case amp.eventName.start:case amp.eventName.errorInPlayingAd:case amp.eventName.skip:case amp.eventName.firstquartile:case amp.eventName.midpoint:case amp.eventName.thirdquartile:case amp.eventName.mute:case amp.eventName.unmute:case amp.eventName.resume:case amp.eventName.pause:case amp.eventName.fullscreen:case amp.eventName.exitfullscreen:case amp.eventName.timeupdate:case amp.eventName.playing:case amp.eventName.click:var o=t.clip;this.processPlayerEventForClip(o,t,this.player);break;case amp.eventName.error:}},t.prototype.processPlayerEventForClip=function(t,r){var n=this.mapAmpEventNameToVastEventName(r.type);if(t&&t.isAd&&null!==n){var i=this.getTrackerMapInfoForClip(t);null!==i&&i.creative.tracker&&(n!==e.ads.vast.TrackingEvents.error?(i.creative.tracker.setProgress(r.time),n===e.ads.vast.TrackingEvents.creativeView?i.creative.tracker.load():n===e.ads.vast.TrackingEvents.click?(i.creative.videoClickThroughURLTemplate&&window.open(i.creative.videoClickThroughURLTemplate),i.creative.tracker.click()):n!==e.ads.vast.TrackingEvents.progress&&i.creative.tracker.track(n)):(e.Logger.error(5,"Ads plugin: Ads playback Error."),i.creative.tracker.errorWithCode(e.ads.vast.VastErrorsCodes.PROBLEM_PLAYING_MEDIA_FILE)),(n===e.ads.vast.TrackingEvents.skip||n===e.ads.vast.TrackingEvents.complete||n===e.ads.vast.TrackingEvents.error)&&i.creative.tracker.resetTrackingEventsInfo())}},t.prototype.compareAdStartTime=function(e,t){var r=0;return e<t.startTime-10?r=-1:e>t.startTime&&(r=1),r},t.prototype.handleTimeUpdateAndFetchMidRoll=function(e){var r=t.binarySearchThroughMidRolls(e,this.midRolls,this.compareAdStartTime);-1!==r&&-1!==this.adsFetched.indexOf(this.midRolls[r])&&this.fetchAdForAdElement(this.midRolls[r])},t.prototype.processPresentationLayout=function(e){var t=this;if(null!==e&&void 0!==e){var r=!1;if(e.preRoll){if(!e.preRoll.sourceUri)throw"preRoll without sourceUri is not valid";this.preRoll=e.preRoll,r=!0}if(e.midRoll&&e.midRoll.length>0)for(var n=0;n<e.midRoll.length;n++){var i=e.midRoll[n];if(!i.sourceUri)throw"midRoll entry without sourceUri is not valid";if(i.sourceUri&&!i.startTime){if(this.inBandSourceUri)throw"multiple midRoll entries without starTime are not valid.";this.inBandSourceUri=i.sourceUri,r=!0}else{if(i.startTime<0)throw"midRoll starTime cannot be nagative.";this.midRolls.push(i),r=!0}}if(e.postRoll){if(!e.postRoll.sourceUri)throw"postRoll without sourceUri is not valid";this.postRoll=e.postRoll,r=!0}if(e.mainProgram){if(!e.mainProgram.source)throw"ads-plugin needs a valid presentationLayout.mainProgram definition.";this.mainProgram=e.mainProgram,r=!0}this.midRolls.length>1&&this.midRolls.sort(function(e,t){return e.startTime-t.startTime}),this.strictSchedule=!!e.strictSchedule,r&&(this.player.showBusy(),this.player.ready(function(){t.addListenersForPlayerEvents()}),this.init())}},t.prototype.mapAmpEventNameToVastEventName=function(t){switch(t){case amp.eventName.playing:return e.ads.vast.TrackingEvents.creativeView;case amp.eventName.errorInPlayingAd:return e.ads.vast.TrackingEvents.error;case amp.eventName.start:return e.ads.vast.TrackingEvents.start;case amp.eventName.firstquartile:case amp.eventName.midpoint:case amp.eventName.thirdquartile:return e.ads.vast.TrackingEvents.progress;case amp.eventName.complete:return e.ads.vast.TrackingEvents.complete;case amp.eventName.mute:return e.ads.vast.TrackingEvents.mute;case amp.eventName.unmute:return e.ads.vast.TrackingEvents.unmute;case amp.eventName.resume:return e.ads.vast.TrackingEvents.resume;case amp.eventName.fullscreen:return e.ads.vast.TrackingEvents.fullscreen;case amp.eventName.exitfullscreen:return e.ads.vast.TrackingEvents.exitFullscreen;case amp.eventName.click:return e.ads.vast.TrackingEvents.click;case amp.eventName.skip:return e.ads.vast.TrackingEvents.skip;case amp.eventName.pause:return e.ads.vast.TrackingEvents.pause;case amp.eventName.resume:return e.ads.vast.TrackingEvents.resume;case amp.eventName.rewind:return e.ads.vast.TrackingEvents.rewind;case amp.eventName.timeupdate:return e.ads.vast.TrackingEvents.progress}return null},t.DefaultTimeoutVal=5e3,t.binarySearchThroughMidRolls=AzureHtml5JS.Common.binarySearch,t}()}(e.ads||(e.ads={})),e.ads}(AMP||(AMP={}));var AMP;!function(e){!function(t){"use strict";t.createScheduler=function(e){return new r(e)};var r=function(){function t(t){var r=this;this._eventsToRoute=[amp.eventName.canplaythrough,amp.eventName.timeupdate,amp.eventName.start,amp.eventName.firstquartile,amp.eventName.midpoint,amp.eventName.thirdquartile,amp.eventName.ended,amp.eventName.mute,amp.eventName.unmute,amp.eventName.rewind,amp.eventName.resume,amp.eventName.pause,amp.eventName.fullscreen,amp.eventName.exitfullscreen,amp.eventName.click,amp.eventName.skip,amp.eventName.error,amp.eventName.play,amp.eventName.playing],this._player=t,this._adPlaybackStrategy=e.Scheduler.Strategy.getStrategy(this._player),this._midRolls=[],this._currentClipIndexInPlayList=-1,this.addListenersForAllPlayerEvents(),this._currentPreloadPlayIndexInMidRolls=-1,this._lastMidRollPlayed=null,this._lastMainContentTime=-1,this._adPlayMonitorTimerId=NaN,this._nextClipPreloaded=!1,this._adPlayStartTime=NaN,this._playList=null,this._player.addEventListener("presentationUpdate",function(){null!==r._playList&&r._adPlaybackStrategy.updateAutoPlay(!0),r.reset(),r._adPlaybackStrategy.presentationUpdated()})}return t.prototype.setPlaylist=function(e){var t=this;this._playList=e,this.startPlaybackWithNextInPlayList(),this._player.one(amp.eventName.play,function(){t.handleFirstPlay(t._player)})},t.prototype.playlist=function(){return this._playList},t.prototype.reset=function(){this._midRolls=[],this._currentClipIndexInPlayList=-1,this._currentPreloadPlayIndexInMidRolls=-1,this._lastMidRollPlayed=null,this._lastMainContentTime=-1,this._nextClipPreloaded=!1,this._adPlayStartTime=NaN,this.stopAdPlayTimer(),this._playList=null},t.prototype.dispose=function(){this.stopRoutingAdEvents(),this._adPlaybackStrategy&&this._adPlaybackStrategy.dispose(),this.stopAdPlayTimer()},t.prototype.startPlaybackWithNextInPlayList=function(){if(this._currentClipIndexInPlayList++,this._playList.clips.length>0&&this._currentClipIndexInPlayList<this._playList.clips.length){var t=this._playList.clips[this._currentClipIndexInPlayList];t.isAd?(e.Logger.verbose(9,"Playing ad CLip with src ="+t.parent.source.src),this._nextClipPreloaded=!1,this._adPlaybackStrategy.playAdClip(t)):(e.Logger.verbose(9,"Starting Main Content play."),this._adPlaybackStrategy.setMainContent(t),this.resumeMainContent()),this.preloadMainContent()}else this._adPlaybackStrategy.isPlayingAd()&&this._adPlaybackStrategy.handlePostRollCompleted()},t.prototype.preloadMainContent=function(){if(0===this._currentClipIndexInPlayList&&this._adPlaybackStrategy.isPlayingAd()){var e=this._currentClipIndexInPlayList+1,t=this._playList.clips.length;if(e>t)return;var r=this._playList.clips[e];for(e+=1;r.isAd&&t-1>e;)r=this._playList.clips[e++];if(!r.isAd)return this._adPlaybackStrategy.setMainContent(r),void this._adPlaybackStrategy.preloadMainContent()}},t.prototype.addListenersForAllPlayerEvents=function(){var e=this._adPlaybackStrategy.getAdPlayer();this._player!==e&&(this.startRoutingAdEvents(e),this.addEventListeners(e)),this.addEventListeners(this._player)},t.prototype.addEventListeners=function(e){var t=this;e.addEventListener(amp.eventName.timeupdate,function(){t.playerTimeUpdate(e)}),e.addEventListener(amp.eventName.seeked,function(){t.playerSeeked(e)}),e.addEventListener(amp.eventName.ended,function(){t.handleEnded(e)})},t.prototype.startRoutingAdEvents=function(e){var t=this;this._eventsToRoute.forEach(function(r){e.addEventListener(r,t.adEventHandler.bind(t))})},t.prototype.stopRoutingAdEvents=function(){var e=this._adPlaybackStrategy.getAdPlayer();if(this._player!==e){var t=this;this._eventsToRoute.forEach(function(r){e.removeEventListener(r,t.adEventHandler.bind(t))})}},t.prototype.adEventHandler=function(e){if(this._adPlaybackStrategy.isPlayingAd()){var t,r=this._adPlaybackStrategy.getAdPlayer();switch(e.type){case amp.eventName.error:if(!this._adPlaybackStrategy.isPlayingAd())return;t=amp.eventName.errorInPlayingAd,this._adPlaybackStrategy.updateAutoPlay(!0);break;case amp.eventName.ended:t=amp.eventName.complete;break;case amp.eventName.pause:if(t=amp.eventName.pause,r.ended())return;break;case amp.eventName.click:if(t=amp.eventName.click,r.paused())return void r.play();r.pause(),this.stopAdPlayTimer();break;default:t=e.type}this._player.trigger(t,null,r.currentClip(),r.currentTime()),(t===amp.eventName.errorInPlayingAd||t===amp.eventName.skip)&&this.handleEnded(r)}},t.prototype.resumeMainContent=function(e){this.stopAdPlayTimer(),(this.isTimeToResumeMainContent()||e)&&(this._currentPreloadPlayIndexInMidRolls=-1,this._adPlaybackStrategy.resumeMainContent(),this._adPlayStartTime=NaN,this.removeObsoleteMidRollsForLiveStreaming())},t.prototype.handleFirstPlay=function(e){this._adPlaybackStrategy.isPlayingAd()||(this._mainContentLive=e.isLive(),this._mainContentLive&&(this.removeStaticMidRolls(),this._player.trigger("midrollAdded"),this._currentPreloadPlayIndexInMidRolls=-1))},t.prototype.removeStaticMidRolls=function(){var e=[];if(this._midRolls.length>0){for(var t=0;t<this._midRolls.length;t++)this._midRolls[t].splice.id>0&&e.push(this._midRolls[t]);this._midRolls=e}},t.prototype.playerSeeked=function(){var e=this;if(!this._adPlaybackStrategy.isPlayingAd()&&this._midRolls.length>0){var t=this._player.currentMediaTime();this.handleSkipAndPlayPreloadedAd(t)||(this._lastMidRollPlayed=null,this._lastMainContentTime=t,AzureHtml5JS.Util.setTimeout(function(){e.preloadAd(e._lastMainContentTime,!0)},100))}},t.prototype.handleSkipAndPlayPreloadedAd=function(e){return this._lastMainContentTime<e&&-1!==this._currentPreloadPlayIndexInMidRolls&&e>this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.startOffset&&(this._adPlaybackStrategy.getAdPlayer().bufferedPercent(),this.handleTimeUpdateAndFetchMidRoll(this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.startOffset,!1,!0))},t.prototype.playerTimeUpdate=function(e){!this._adPlaybackStrategy.isPlayingAd()&&this._midRolls.length>0&&!e.paused()&&(this._lastMainContentTime=this._player.currentMediaTime(),this.handleTimeUpdateAndFetchMidRoll(this._lastMainContentTime)||this.checkIfPreloadNeedsRefresh()&&this.preloadAd(this._lastMainContentTime,!1))},t.prototype.checkIfPreloadNeedsRefresh=function(){return!(!this._adPlaybackStrategy.isPlayingAd()&&-1!==this._currentPreloadPlayIndexInMidRolls&&this._player.currentMediaTime()<this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.startOffset)},t.prototype.handleEnded=function(t){var r=t.currentClip();null!==r&&(this._adPlaybackStrategy.updateAutoPlay(!0),r.isAd&&!this.isPlayListItem(r)?(e.Logger.verbose(9,"Handling ended for Clip="+r.parent.source.src),this._adPlaybackStrategy.isPlayingAd()&&this.resumeMainContent()):(this._lastMidRollPlayed=null,this.startPlaybackWithNextInPlayList()))},t.prototype.isPlayListItem=function(e){return-1!==this._playList.clips.indexOf(e)},t.prototype.addMidRoll=function(t){if(this._adPlaybackStrategy.isMidRollSpupported()){var r=0;if(this._mainContentLive&&t.splice.id<0)return;if(!this._mainContentLive&&t.splice.id<0&&(r=this._player.currentMediaTime()-this._player.currentTime(),t.splice.startOffset=t.splice.startOffset+r),t.clip){if(!this.updateExistingMidRoll(t)){var n=this.midRollsSortingNeeded(t);this._midRolls.push(t),n&&(this._currentPreloadPlayIndexInMidRolls=-1,this.keepMidRollsSorted()),e.Logger.verbose(9,"Current media time ="+this._player.currentMediaTime()),e.Logger.verbose(9,"Received an ad signal message with startOffset ="+t.splice.startOffset+" and Id ="+t.splice.id+" and Duration ="+t.splice.duration)}}else e.Logger.verbose(9,"Reveived a splice In or Cancel with Id = "+t.splice.id+" Cancel ="+t.splice.cancel+" And out = "+t.splice.out+" And duration = "+t.splice.duration),this.clearSplice(t.splice)}return this._player.trigger("midrollAdded"),this._midRolls},t.prototype.midRollsSortingNeeded=function(e){return!(this._midRolls.length>0&&this._midRolls[this._midRolls.length-1].splice.startOffset<=e.splice.startOffset)&&0!==this._midRolls.length},t.prototype.removeObsoleteMidRollsForLiveStreaming=function(){if(this._mainContentLive&&!this._adPlaybackStrategy.isPlayingAd()){var t=this._player.currentMediaTime()-this._player.currentTime();if(this._midRolls.length>0){for(var r=[],n=[],i=0;i<this._midRolls.length;i++)this._midRolls[i].splice.id>0&&this._midRolls[i].splice.startOffset<t?(n.push(this._midRolls[i]),e.Logger.verbose(9,"Splice with Offset ="+this._midRolls[i].splice.startOffset+" is stale and will be removed")):r.push(this._midRolls[i]);n.length>0&&(this._midRolls=r,this._currentClipIndexInPlayList=-1)}}},t.prototype.updateExistingMidRoll=function(t){if(t.splice.id>0)for(var r=this._midRolls.length,n=0;r>n;n++)if(this._midRolls[n].splice.id===t.splice.id){e.Logger.verbose(9,"Duplicate splice with ID ="+this._midRolls[n].splice.id+" storing a suplimentory Clip new duration ="+t.splice.duration+" new startOffset="+t.splice.startOffset);var i=this._midRolls[n].splice;if(this._currentPreloadPlayIndexInMidRolls===n&&this._adPlaybackStrategy.isPlayingAd()){if(i.startOffset===t.splice.startOffset){if(i.duration>t.splice.duration){i.duration=t.splice.duration;var o=(Date.now()-this._adPlayStartTime)/1e3;this.startAdPlayMonitor(this._midRolls[n],i.startOffset+o)}return this._midRolls[n]=t,!0}this._lastMidRollPlayed=null,this.resumeMainContent(!0)}return this._midRolls.splice(n,1),!1}},t.prototype.getMidRolls=function(){return this._midRolls},t.prototype.keepMidRollsSorted=function(){this._midRolls.length>1&&this._midRolls.sort(function(e,t){return e.splice.startOffset-t.splice.startOffset})},t.prototype.clearSplice=function(t){var r=this;if(this._currentPreloadPlayIndexInMidRolls>=0&&this._adPlaybackStrategy.isPlayingAd()&&this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice&&this._midRolls[this._currentPreloadPlayIndexInMidRolls].splice.id===t.id){var n=this._midRolls[this._currentPreloadPlayIndexInMidRolls];if(void 0!==t.cancel&&t.cancel)this.resumeMainContent(!0);else if(void 0!==t.out&&!t.out&&void 0===n.splice.duration){var i=t.startOffset,o=(this._lastMainContentTime,(Date.now()-this._adPlayStartTime)/1e3),a=(u=i-n.splice.startOffset)-o;n.splice.duration=u,e.Logger.verbose(9,"Updated duration of splice with Id = "+n.splice.id+" to = "+n.splice.duration),0>=a?this.resumeMainContent(!0):(this.stopAdPlayTimer(),this._adPlayMonitorTimerId=AzureHtml5JS.Util.setTimeout(function(){r.resumeMainContent()},1e3*a))}}else if(void 0!==t.out&&void 0===t.cancel&&!t.out){var s=this.searchMidRollsForSplice(t);if(-1!==s){var l=this._midRolls[s],u=(i=t.startOffset)-l.splice.startOffset;l.splice.duration=u}}if(t.cancel){var c=-1;for(c=this.searchMidRollsForSplice(t);-1!==c;)this._midRolls.splice(c,1),c=this.searchMidRollsForSplice(t);this._currentPreloadPlayIndexInMidRolls=-1}},t.prototype.searchMidRollsForSplice=function(e){for(var t=0;t<this._midRolls.length;t++)if(this._midRolls[t].splice.id===e.id)return t;return-1},t.prototype.searchMidRollsAfterTimeForPreload=function(e){for(var t=0;t<this._midRolls.length;t++)if(this._midRolls[t].splice.startOffset>e&&this._midRolls[t].splice.startOffset<e+6e5)return t;return-1},t.prototype.compareAdStartTimeForPlay=function(e,t){var r=0;return e<t.splice.startOffset-.3?r=-1:t.splice.duration&&t.splice.id>0&&e>t.splice.startOffset+t.splice.duration?r=1:void 0===t.splice.duration&&e>t.splice.startOffset+.2&&(r=1),r},t.prototype.handleTimeUpdateAndFetchMidRoll=function(r,n,i){if(!this._adPlaybackStrategy.isPlayingAd()||n){var o=t.binarySearchThroughMidRolls(r,this._midRolls,this.compareAdStartTimeForPlay);if(-1!==o&&this._midRolls[o].clip&&(!i||!0!==this._midRolls[o].played)&&this._lastMidRollPlayed!==this._midRolls[o]){e.Logger.verbose(9,"Found an Ad that we can play for media time = "+r);var a=this._adPlayStartTime;return this.startMidRollPlayback(this._midRolls[o],r),n&&!isNaN(a)&&(this._adPlayStartTime=a),this._currentPreloadPlayIndexInMidRolls=o,!0}}return!1},t.prototype.startMidRollPlayback=function(t,r){this._adPlaybackStrategy.updateAutoPlay(!0),this._lastMidRollPlayed=t,this.startAdPlayMonitor(t,r),this._adPlayStartTime=Date.now(),this._mainContentAtLiveEdgeBeforeAdBreak=this._adPlaybackStrategy.isMainContentAtLiveEdge(),this._mainContentLive=this._adPlaybackStrategy.isMainContentLive(),e.Logger.verbose(9,"Starting Ad playback for time ="+r+" ad start time = "+t.splice.startOffset+" ad duration = "+t.splice.cancel),this._adPlaybackStrategy.playAdClip(t.clip,t.splice.id>0),t.played=!0},t.prototype.preloadAd=function(t,r){if(null!==this._adPlaybackStrategy.currentClip()&&!this._adPlaybackStrategy.currentClip().isAd){var n=this.searchMidRollsAfterTimeForPreload(t);if(-1!==n&&this._midRolls[n].clip&&this._currentPreloadPlayIndexInMidRolls!==n&&this._lastMidRollPlayed!==this._midRolls[n]){var i=!1;r?i=!0:-1===this._currentPreloadPlayIndexInMidRolls&&(i=!0),i&&this._midRolls[n].clip&&(e.Logger.verbose(9,"Preloading ad CLip with src ="+this._midRolls[n].clip.parent.source.src),this._adPlaybackStrategy.preloadAd(this._midRolls[n].clip),this._nextClipPreloaded=!0,this._currentPreloadPlayIndexInMidRolls=n)}else this._mainContentLive||(this._currentClipIndexInPlayList<this._playList.clips.length-1&&!this._nextClipPreloaded&&(e.Logger.verbose(9,"Preloading ad Clip with src ="+this._playList.clips[this._currentClipIndexInPlayList+1].parent.source.src),this._adPlaybackStrategy.preloadAd(this._playList.clips[this._currentClipIndexInPlayList+1]),this._nextClipPreloaded=!0),this._currentPreloadPlayIndexInMidRolls=-1)}},t.prototype.startAdPlayMonitor=function(t,r){var n=this;if(this.stopAdPlayTimer(),t.splice.id>0&&t.splice.duration){var i=t.splice.startOffset+t.splice.duration-r;this._adPlayMonitorTimerId=AzureHtml5JS.Util.setTimeout(function(){n.resumeMainContent()},1e3*i),e.Logger.verbose(9,"Starting _adPlayMonitor for duration = "+i)}},t.prototype.isTimeToResumeMainContent=function(){var t=this._lastMidRollPlayed,r=(Date.now()-this._adPlayStartTime)/1e3;return null!==t&&null!==t.splice&&t.splice.id>0&&!isNaN(this._adPlayStartTime)&&this.handleTimeUpdateAndFetchMidRoll(this._lastMainContentTime+r,!0)?(this._lastMainContentTime=this._lastMainContentTime+r,!1):(e.Logger.verbose(9,"Switching to main program after time = "+r),!0)},t.prototype.stopAdPlayTimer=function(){isNaN(this._adPlayMonitorTimerId)||(AzureHtml5JS.Util.clearTimeout(this._adPlayMonitorTimerId),this._adPlayMonitorTimerId=NaN)},t.prototype.isPlayingAd=function(){return this._adPlaybackStrategy.isPlayingAd()},t.prototype.getAdPlayer=function(){return this._adPlaybackStrategy.getAdPlayer()},t.binarySearchThroughMidRolls=AzureHtml5JS.Common.binarySearch,t}();t.Scheduler=r}(e.Scheduler||(e.Scheduler={})),e.Scheduler}(AMP||(AMP={}));var __extends=this.__extends||function(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);r.prototype=t.prototype,e.prototype=new r},AMP;!function(e){!function(t){!function(t){"use strict";t.getStrategy=function(e){return AzureHtml5JS.Common.isMobile?new r(e):new n(e)};var r=function(){function e(e){this._mainPlayer=e,this._mainPlayerState=null}return e.prototype.isMainContentLive=function(){return this._mainPlayer.isLive()},e.prototype.isMainContentAtLiveEdge=function(){var e=this._mainPlayer.currentPlayerSettingValue("livePlaybackOffsetInWallClockSec");return!(this._mainPlayer.currentTime()<this._mainPlayer.duration()-5-e)},e.prototype.preloadAd=function(){},e.prototype.preloadMainContent=function(){},e.prototype.isPlayingAd=function(){return this._mainPlayer.currentClip().isAd},e.prototype.updateAutoPlay=function(){this._mainPlayer.autoplay(!0)},e.prototype.dispose=function(){},e.prototype.presentationUpdated=function(){},e.prototype.isMidRollSpupported=function(){return!1},e.prototype.setMainContent=function(e){this._mainContent=e},e.prototype.playAdClip=function(e){this.pauseMainContent(),this._mainPlayer.playClip(e)},e.prototype.currentClip=function(){return this._mainPlayer.currentClip()},e.prototype.getAdPlayer=function(){return this._mainPlayer},e.prototype.pauseMainContent=function(){this._mainPlayer&&null!==this._mainPlayer.currentSrc()&&null===this._mainPlayerState&&(this._mainPlayer.pause(),this._mainPlayerState=null)},e.prototype.resumeMainContent=function(){null!==this._mainPlayerState?(this._mainPlayer.loadPlayerFromState(this._mainPlayerState),this._mainPlayerState=null):this._mainPlayer.playClip(this._mainContent)},e.prototype.handlePostRollCompleted=function(){},e}();t.SinglePlayerStrategy=r;var n=function(t){function r(e){t.call(this,e),this.populateAdDomElements(),this.setUpFullScreenEventHandling(),this._isFirstPlayForMainContent=!0}return __extends(r,t),r.prototype.preloadAd=function(e){this._adPlayer.resetPlayer(),this._adPlayer.controls(!1),this._adPlayer.preloadClip(e)},r.prototype.preloadMainContent=function(){this._mainPlayer.preloadClip(this._mainContent)},r.prototype.isMidRollSpupported=function(){return"AzureHtml5JS"===this._mainPlayer.currentTechName()},r.prototype.isPlayingAd=function(){return this._currentPlayer===this._adPlayer},r.prototype.updateAutoPlay=function(){this._mainPlayer.autoplay(!0),this._adPlayer.autoplay(!0),this._adPlayer.poster(""),this._adPlayer.bigPlayButton.el_.className="vjs-big-play-button "},r.prototype.dispose=function(){this._adPlayer.dispose()},r.prototype.presentationUpdated=function(){this._mainContent=null,this._adPlayer.muted(!1),this._adPlayer.options_.autoplay=this._mainPlayer.options_.autoplay,this._adPlayer.poster(this._mainPlayer.poster()),this._adPlayer.resetPlayer(),this._adPlayer.trigger("presentationUpdate"),this._isFirstPlayForMainContent=!0,this._adPlayer.bigPlayButton.el_.className="vjs-big-play-button override-controls-disabled "},r.prototype.storeMainContentPlaybackRate=function(){try{this._mainPlayer.canControlPlaybackRate()&&(this._mainContentPlayRate=this._mainPlayer.playbackRate())}catch(t){e.Logger.warning(9,"Exception in retrieving playback rate")}},r.prototype.updateMainContentPlaybackRate=function(){try{this._mainPlayer.canControlPlaybackRate()&&this._mainPlayer.playbackRate(this._mainContentPlayRate)}catch(t){e.Logger.warning(9,"Exception in setting playback rate")}},r.prototype.playAdClip=function(t,r){this.copyPlayerStatus(this._mainPlayer,this._adPlayer),this.storeMainContentPlaybackRate(),r?(1!==this._mainContentPlayRate&&this._mainPlayer.canControlPlaybackRate()&&this._mainPlayer.playbackRate(1),this._mainPlayer.muted(!0)):this.pauseMainContent(),this._mainPlayer.hide(),this._currentPlayer=this._adPlayer,this._adPlayer.currentClip()===t&&null===this._adPlayer.error()?(this._adPlayer.play(),this._adPlayer.show()):(e.Logger.verbose(9,"Ad is not preloaded, so executing a playClip"),this._adPlayer.resetPlayer(),this._adPlayer.playClip(t),this._adPlayer.show(!0),this._adPlayer.controls(!1)),null!==this._mainPlayer.currentClip()&&this._adPlayer.poster("")},r.prototype.isMainContentPaused=function(){try{return this._mainPlayer.paused()}catch(t){e.Logger.warning(9,"Exception in retrieving isPaused status.")}return!1},r.prototype.resumeMainContent=function(){this.copyPlayerStatus(this._adPlayer,this._mainPlayer),this._currentPlayer=this._mainPlayer,null!=this._adPlayer&&this._adPlayer.pauseAndHide(),null===this._mainPlayer.currentClip()||this._mainPlayer.currentClip()!==this._mainContent||null!==this._mainPlayer.error()?(this._mainPlayer.show(!0),this._mainPlayer.playClip(this._mainContent)):this.isMainContentPaused()&&null===this._mainPlayer.error()?this.startMainContentPlay():this._mainPlayer.show(),this._isFirstPlayForMainContent&&this._mainPlayer.isLive()&&null===this._mainPlayer.error()&&(this._isFirstPlayForMainContent=!1,this._mainPlayer.currentTime(this._mainPlayer.duration())),this.updateMainContentPlaybackRate()},r.prototype.startMainContentPlay=function(){var t=this;this._mainPlayer.show(),this._mainPlayer.play();try{2>this._mainPlayer.currentTime()&&(this._mainPlayer.el_.style.opacity=0,this.pauseMainContent(),AzureHtml5JS.Util.setTimeout(function(){t._mainPlayer.el_.style.opacity=1,t._mainPlayer.play()},200))}catch(t){e.Logger.warning(9,"Exception in startMainContentPlay.")}},r.prototype.handlePostRollCompleted=function(){this.copyPlayerStatus(this._adPlayer,this._mainPlayer),null!=this._adPlayer&&this._adPlayer.pauseAndHide(),this.updateMainContentPlaybackRate(),this._currentPlayer=this._mainPlayer,this._mainPlayer.show()},r.prototype.copyPlayerStatus=function(t,r){try{null!==t&&null!==r&&(r.volume(t.volume()),r.muted(t.muted()))}catch(t){e.Logger.warning(9,"Exception in copying volume status.")}},r.prototype.setUpFullScreenEventHandling=function(){var t=this;try{this._mainPlayer.addEventListener("fullscreenchange",function(){t.copyFullScreenStatus(t._mainPlayer,t._adPlayer)}),this._adPlayer.addEventListener("fullscreenchange",function(){t.copyFullScreenStatus(t._adPlayer,t._mainPlayer)})}catch(t){e.Logger.warning(9,"Exception in settingup fullscreen event handling.")}},r.prototype.copyFullScreenStatus=function(t,r){try{t.isFullscreen()&&!r.isFullscreen()?r.enterFullscreen():!t.isFullscreen()&&r.isFullscreen()&&r.exitFullscreen()}catch(t){e.Logger.warning(9,"Exception in copying fullscreen status.")}},r.prototype.pauseMainContent=function(){try{null!==this._mainPlayer&&this._mainPlayer.pause()}catch(t){e.Logger.warning(9,"Exception in pausing playback.")}},r.prototype.getAdPlayer=function(){return this._adPlayer},r.prototype.currentClip=function(){return this._currentPlayer.currentClip()},r.prototype.populateAdDomElements=function(){this._adPlayer=this._mainPlayer.createAdPlayer()},r}(r);t.MultiPlayerStrategy=n}(t.Strategy||(t.Strategy={})),t.Strategy}(e.Scheduler||(e.Scheduler={})),e.Scheduler}(AMP||(AMP={})),function(e){var t=e.vttjs={},r=t.VTTCue,n=t.VTTRegion,i=e.VTTCue,o=e.VTTRegion;t.shim=function(){t.VTTCue=r,t.VTTRegion=n},t.restore=function(){t.VTTCue=i,t.VTTRegion=o}}(this),function(e,t){function r(e){return"string"==typeof e&&(!!s[e.toLowerCase()]&&e.toLowerCase())}function n(e){return"string"==typeof e&&(!!l[e.toLowerCase()]&&e.toLowerCase())}function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}function o(e,t,o){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,p=e,h=t,f=o,m=null,g="",y=!0,v="auto",_="start",b=50,S="middle",T=50,k="middle";return Object.defineProperty(s,"id",i({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return h},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return f},set:function(e){f=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return g},set:function(e){var t=r(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return y},set:function(e){y=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return v},set:function(e){if("number"!=typeof e&&e!==a)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return _},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return b},set:function(e){if(0>e||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return S},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return T},set:function(e){if(0>e||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return k},set:function(e){var t=n(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var a="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};o.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.VTTCue=e.VTTCue||o,t.VTTCue=o}(this,this.vttjs||{}),function(e,t){function r(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function n(e){return"number"==typeof e&&e>=0&&100>=e}function i(){var e=100,t=3,i=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!n(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!n(e))throw new Error("RegionAnchorX must be between 0 and 100.");o=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!n(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(e){if(!n(e))throw new Error("ViewportAnchorY must be between 0 and 100.");s=e}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(e){if(!n(e))throw new Error("ViewportAnchorX must be between 0 and 100.");a=e}},scroll:{enumerable:!0,get:function(){return l},set:function(e){var t=r(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");l=t}}})}var o={"":!0,up:!0};e.VTTRegion=e.VTTRegion||i,t.VTTRegion=i}(this,this.vttjs||{}),function(e){function t(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}function n(){this.values=f(null)}function i(e,t,r,n){var i=n?e.split(n):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(r);2===a.length&&t(a[0],a[1])}}function o(e,o,a){function s(){var n=r(e);if(null===n)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+u);return e=e.replace(/^[^\sa-zA-Z-]+/,""),n}function l(){e=e.replace(/^\s+/,"")}var u=e;if(l(),o.startTime=s(),l(),"--\x3e"!==e.substr(0,3))throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+u);e=e.substr(3),l(),o.endTime=s(),l(),function(e,t){var r=new n;i(e,function(e,t){switch(e){case"region":for(var n=a.length-1;n>=0;n--)if(a[n].id===t){r.set(e,a[n].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];r.integer(e,o),r.percent(e,o)&&r.set("snapToLines",!1),r.alt(e,o,["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}(e,o)}function a(e,t){function n(e){return m[e]}for(var i,o=e.document.createElement("div"),a=o,s=[];null!==(i=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]+>?)?/);return function(e){return t=t.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==i[0])a.appendChild(e.document.createTextNode(function(e){for(;c=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(c[0],n);return e}(i)));else{if("/"===i[1]){s.length&&s[s.length-1]===i.substr(2).replace(">","")&&(s.pop(),a=a.parentNode);continue}var l,u=r(i.substr(1,i.length-2));if(u){l=e.document.createProcessingInstruction("timestamp",u),a.appendChild(l);continue}var c=i.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(l=function(t,r){var n=g[t];if(!n)return null;var i=e.document.createElement(n);i.localName=n;var o=y[t];return o&&r&&(i[o]=r.trim()),i}(c[1],c[3])))continue;if(!function(e,t){return!v[t.localName]||v[t.localName]===e.localName}(a,l))continue;c[2]&&(l.className=c[2].substr(1).replace("."," ")),s.push(c[1]),a.appendChild(l),a=l}return o}function s(e){function t(e,t){for(var r=t.childNodes.length-1;r>=0;r--)e.push(t.childNodes[r])}function r(e){if(!e||!e.length)return null;var n=e.pop(),i=n.textContent||n.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===n.tagName?r(e):n.childNodes?(t(e,n),r(e)):void 0}var n,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=r(i);)for(var a=0;a<o.length;a++){n=o.charCodeAt(a);for(var s=0;s<_.length;s++)if(_[s]===n)return"rtl"}return"ltr"}function l(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n}function u(){}function c(e,t,r){var n=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";n&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),u.call(this),this.cue=t,this.cueDiv=a(e,t.text);var l={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=e.document.createElement("div"),l={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(l.direction=s(this.cueDiv),l.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var c=0;switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}this.applyStyles(""===t.vertical?{left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}:{top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function d(e){var t,r,n,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){r=e.div.offsetHeight,n=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||r,this.bottom=e.bottom||i+(e.height||r),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function p(e,t,r,n){var i=new d(t),o=t.cue,a=l(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var c=i.lineHeight,p=c*Math.round(a),h=r[u]+c,f=s[0];Math.abs(p)>h&&(p=0>p?-1:1,p*=Math.ceil(h/c)*c),0>a&&(p+=""===o.vertical?r.height:r.width,s=s.reverse()),i.move(f,p)}else{var m=i.lineHeight/r.height*100;switch(o.lineAlign){case"middle":a-=m/2;break;case"end":a-=m}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new d(t)}var g=function(e,t){for(var i,o=new d(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var l=e.intersectPercentage(r);a>l&&(i=new d(e),a=l),e=new d(o)}return i||o}(i,s);t.move(g.toCSSCompatValues(r))}function h(){}var f=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();t.prototype=f(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},n.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&100>=t)&&(this.set(e,t),!0)}};var m={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={v:"title",lang:"lang"},v={rt:"ruby"},_=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];u.prototype.applyStyles=function(e,t){t=t||this.div;for(var r in e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},u.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(c.prototype=f(u.prototype)).constructor=c,d.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},d.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},d.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},d.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},d.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},d.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},d.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},d.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},h.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},h.convertCueToDOMTree=function(e,t){return e&&t?a(e,t):null};h.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var i=[],o=d.getSimpleBoxPosition(n),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var r,s,l=0;l<t.length;l++)s=t[l],r=new c(e,s,a),n.appendChild(r.div),p(0,r,o,i),s.displayState=r.div,i.push(d.getSimpleBoxPosition(r))}()}else for(var s=0;s<t.length;s++)n.appendChild(t[s].displayState)},(h.Parser=function(e,t,r){r||(r=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof t))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function r(){for(var e=s.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var r=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,s.buffer=e.substr(t),r}function a(e){var t=new n;if(i(e,function(e,r){switch(e){case"id":t.set(e,r);break;case"width":t.percent(e,r);break;case"lines":t.integer(e,r);break;case"regionanchor":case"viewportanchor":var i=r.split(",");if(2!==i.length)break;var o=new n;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;t.set(e+"X",o.get("x")),t.set(e+"Y",o.get("y"));break;case"scroll":t.alt(e,r,["up"])}},/=/,/\s/),t.has("id")){var r=new(s.vttjs.VTTRegion||s.window.VTTRegion);r.width=t.get("width",100),r.lines=t.get("lines",3),r.regionAnchorX=t.get("regionanchorX",0),r.regionAnchorY=t.get("regionanchorY",100),r.viewportAnchorX=t.get("viewportanchorX",0),r.viewportAnchorY=t.get("viewportanchorY",100),r.scroll=t.get("scroll",""),s.onregion&&s.onregion(r),s.regionList.push({id:t.get("id"),region:r})}}var s=this;e&&(s.buffer+=s.decoder.decode(e,{stream:!0}));try{var l;if("INITIAL"===s.state){if(!/\r\n|\n/.test(s.buffer))return this;var u=(l=r()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new t(t.Errors.BadSignature);s.state="HEADER"}for(var c=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(c?c=!1:l=r(),s.state){case"HEADER":/:/.test(l)?function(e){i(e,function(e,t){switch(e){case"Region":a(t)}},/:/)}(l):l||(s.state="ID");continue;case"NOTE":l||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){s.state="NOTE";break}if(!l)continue;if(s.cue=new(s.vttjs.VTTCue||s.window.VTTCue)(0,0,""),s.state="CUE",-1===l.indexOf("--\x3e")){s.cue.id=l;continue}case"CUE":try{o(l,s.cue,s.regionList)}catch(e){s.reportOrThrowError(e),s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var d=-1!==l.indexOf("--\x3e");if(!l||d&&(c=!0)){s.oncue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}s.cue.text&&(s.cue.text+="\n"),s.cue.text+=l;continue;case"BADCUE":l||(s.state="ID");continue}}}catch(e){s.reportOrThrowError(e),"CUETEXT"===s.state&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state="INITIAL"===s.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new t(t.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.WebVTT=h}(this,this.vttjs);